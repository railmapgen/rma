System.register(["./chakra-legacy-BBIC2CLD.js","./react-legacy-hZgLs8_m.js"],(function(e,t){"use strict";var n,i,o,r,a,s,l,c,u,d,h,p,f,g,m,v,y,x,b,w,S,C,O,P,k,j,A,R,N,L,I,M,E,T,z,_,D,$,W,V,B,F,U,H,G,Y,X,J,K,q,Q,Z,ee,te,ne,ie,oe,re,ae,se,le,ce,ue,de,he,pe,fe,ge,me,ve,ye,xe,be,we,Se,Ce,Oe,Pe,ke,je,Ae,Re,Ne,Le,Ie,Me,Ee,Te,ze,_e,De,$e,We,Ve;return{setters:[e=>{n=e.u,i=e.a,o=e.j,r=e.P,a=e.c,s=e.F,l=e.f,c=e.W,u=e.T,d=e.b,h=e.d,p=e.e,f=e.g,g=e.h,m=e.B,v=e.D,y=e.i,x=e.k,b=e.l,w=e.m,S=e.C,C=e.S,O=e.n,P=e.o,k=e.p,j=e.I,A=e.q,R=e.r,N=e.s,L=e.t,I=e.v,M=e.w,E=e.x,T=e.y,z=e.z,_=e.A,D=e.M,$=e.E,W=e.G,V=e.H,B=e.J,F=e.K,U=e.L,H=e.N,G=e.O,Y=e.Q,X=e.R,J=e.U,K=e.V,q=e.X,Q=e.Y,Z=e.Z,ee=e._,te=e.$,ne=e.a0,ie=e.a1,oe=e.a2,re=e.a3,ae=e.a4,se=e.a5,le=e.a6,ce=e.a7,ue=e.a8,de=e.a9,he=e.aa,pe=e.ab,fe=e.ac,ge=e.ad,me=e.ae,ve=e.af,ye=e.ag,xe=e.ah,be=e.ai,we=e.aj,Se=e.ak,Ce=e.al,Oe=e.am,Pe=e.an,ke=e.ao,je=e.ap},e=>{Ae=e.e,Re=e.a,Ne=e.d,Le=e.f,Ie=e.h,Me=e.i,Ee=e.j,Te=e.k,ze=e.u,_e=e.l,De=e.m,$e=e.n,We=e.P,Ve=e.I}],execute:function(){var Be=document.createElement("style");Be.textContent=":root{background-color:#fff}@media (prefers-color-scheme: dark){:root{background-color:#1a202c;color:#fff}}html{height:100%}body{margin:0;overflow:hidden;height:100%;width:100%;width:-webkit-fill-available;padding:env(safe-area-inset-top,20px) env(safe-area-inset-right,20px) env(safe-area-inset-bottom,20px) env(safe-area-inset-left,20px)}div#root{height:100%;width:100%;background:inherit}*{box-sizing:border-box}.noScrollbar::-webkit-scrollbar{display:none}.noScrollbar{-ms-overflow-style:none;scrollbar-width:none}\n/*$vite$:1*/",document.head.appendChild(Be),e({$:function(e){return fe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z"},child:[]}]})(e)},B:function(e){return fe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"},child:[]}]})(e)},C:function(e){return fe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"},child:[]}]})(e)},D:function(e){return fe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"},child:[]}]})(e)},G:function(e){return fe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6zm-2 16c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"},child:[]}]})(e)},M:function(e){return fe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"},child:[]}]})(e)},a:function(e){var t=e.defaultValue,n=e.options,i=e.disabledOptions,r=Co(e,["defaultValue","options","disabledOptions"]),a=Re.useRef(null);Re.useEffect((function(){a.current&&(a.current.value=(null==t?void 0:t.toString())||"")}),[t]);var s=function(e,t){return o.jsx("option",{value:e,disabled:void 0!==(null==i?void 0:i.find((function(t){return t.toString()===e}))),children:t},e)};return o.jsx(ne,So({ref:a,variant:"flushed",size:"sm",h:6},r,{children:Object.entries(n).map((function(e){var t=Oo(e,2),n=t[0],i=t[1];return"object"==typeof i?o.jsx("optgroup",{label:n,children:Object.entries(i).map((function(e){var t=Oo(e,2),n=t[0],i=t[1];return s(n,i)}))},n):s(n,i)}))}))},a1:function(e){return fe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z"},child:[]}]})(e)},a8:function(e){var t=e.environment,n=e.version,i=e.popoverHeader,r=e.popoverBody,a=ro(Re.useState(!1),2),s=a[0],l=a[1];return o.jsxs(p,{isOpen:s,onOpen:function(){return i&&l(!0)},onClose:function(){return l(!1)},children:[o.jsx(L,{children:o.jsx(I,{ml:1,colorScheme:ao(t),title:"".concat(t,": ").concat(n),cursor:i?"pointer":"help",children:t===Ye.PRD?n:t})}),o.jsxs(w,{children:[o.jsx(M,{}),o.jsx(E,{}),o.jsx(T,{children:i}),o.jsx(z,{children:r})]})]})},a9:function(e){return fe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"},child:[]}]})(e)},aa:function(e){return fe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7 1.62-4.33L19.12 17h-3.24z"},child:[]}]})(e)},ab:function(e){return fe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"},child:[]}]})(e)},af:function(e){return fe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]}]})(e)},ag:function(e){return fe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]}]})(e)},b:function(e){var t=e.defaultValue,i=e.min,r=e.max,a=e.step,s=e.onThrottledChange,l=e.leftIcon,c=e.rightIcon,u=n("RmgThrottledSlider"),d=Ro(Re.useState(null!=t?t:0),2),h=d[0],p=d[1];Re.useEffect((function(){void 0!==t&&h!==t&&p(t)}),[t]);var f=Ao(null!=s?s:function(){},500);return o.jsxs(g,{sx:u,children:[l&&o.jsx(ie,{size:"xs",variant:"ghost","aria-label":"Drag left",icon:l,onClick:function(){var e=Math.max(h-10*(null!=a?a:1),null!=i?i:0);null==s||s(e),p(e)}}),o.jsxs(oe,{value:h,min:i,max:r,step:a,onChange:function(e){f(e),p(e)},children:[o.jsx(re,{children:o.jsx(ae,{})}),o.jsx(se,{})]}),c&&o.jsx(ie,{size:"xs",variant:"ghost","aria-label":"Drag right",icon:c,onClick:function(){var e=Math.min(h+10*(null!=a?a:1),null!=r?r:100);null==s||s(e),p(e)}})]})},h:function(e){return fe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M8 5v14l11-7z"},child:[]}]})(e)},i:function(e){return fe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"},child:[]}]})(e)},k:function(e){return fe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 14V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zm-2 0H3V6h14v8zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zm13 0v11c0 1.1-.9 2-2 2H4v-2h17V7h2z"},child:[]}]})(e)},m:function(e){return fe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M9 16h6v-6h4l-7-7-7 7h4v6zm3-10.17L14.17 8H13v6h-2V8H9.83L12 5.83zM5 18h14v2H5z"},child:[]}]})(e)},q:function(e){return fe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z",opacity:".87"},child:[]},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"},child:[]}]})(e)},t:function(e){return fe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19 9h-4V3H9v6H5l7 7 7-7zm-8 2V5h2v6h1.17L12 13.17 9.83 11H11zm-6 7h14v2H5z"},child:[]}]})(e)},z:function(e){return fe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 19H5V5h7V3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"},child:[]}]})(e)}});var Fe=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};const Ue=e=>new Promise((t=>{setTimeout(t,e,`Timeout after ${e/1e3} seconds`)})),He=e=>{let t=0;for(let n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);return t},Ge=e=>{const t=(16777215&e).toString(16).toUpperCase();return"#"+"00000".substring(0,6-t.length)+t};var Ye;e("a0",Ye),function(e){e.DEV="DEV",e.UAT="UAT",e.PRD="PRD"}(Ye||e("a0",Ye={}));const Xe="rmg-runtime__language",Je="rmg-runtime__colourMode",Ke="rmg-runtime__allowAnalytics",qe="rmg-unknown";let Qe=qe,Ze=Ge(He(qe));const et=()=>`[${Qe}]`,tt=()=>Ze,nt=(e,t,n)=>(...i)=>{"string"==typeof i[0]?e(`%c${t()}%c ${i[0]}`,`color: ${n()}`,"",...i.slice(1)):e(`%c${t()}%c`,`color: ${n()}`,"",...i)},it={debug:nt(console.debug,et,tt),info:nt(console.info,et,tt),warn:nt(console.warn,et,tt),error:nt(console.error,et,tt)},ot=()=>Qe===qe?"[runtime]":`[runtime@${Qe}]`,rt=Ge(He("runtime")),at=()=>rt,st={setup:e=>{Qe=e,Ze=Ge(He(e))},logger:it,debug:nt(console.debug,ot,at),info:nt(console.info,ot,at),warn:nt(console.warn,ot,at),error:nt(console.error,ot,at),group:nt(console.group,ot,at),groupEnd:console.groupEnd};var lt=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};let ct,ut,dt,ht,pt;const ft=()=>{ct=!1,ut=qe,dt="unknown",ht=Ye.PRD,pt="unknown"},gt=()=>"railmapgen.github.io"===ut;ft();const mt={loadWithTimeout:()=>lt(void 0,void 0,void 0,(function*(){try{st.group("Loading config...");const e=yield Promise.race([lt(void 0,void 0,void 0,(function*(){const e=window.location.pathname.split("/")[1],t=e?`/${e}/info.json`:"/info.json",n=yield fetch(t);if(!n.ok)throw new Error(`Failed to fetch config from ${t}`);{const e=yield n.json();st.info("Received info.json",e),ut=e.component,dt=e.version,ht=e.environment,pt=e.instance}})),Ue(1e4)]);e?st.error("❌ Failed to load config.",e):(ct=!0,st.info("✅ Config loaded!"))}catch(e){st.error("❌ Failed to load config.",e)}finally{st.groupEnd()}})),isInitialised:()=>ct,getComponent:()=>gt()?"rmg-home":ut,getVersion:()=>dt,getEnvironment:()=>ht,getInstance:()=>pt,isRMT:gt,_resetConfig:ft};function vt(...e){if(mt.getEnvironment()!==Ye.DEV)return window.dataLayer.push(arguments);st.info("Not going to send event in DEV environment",e)}window.dataLayer=window.dataLayer||[];const yt={init:()=>{(()=>{const e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-2HP8Y4MRRQ",document.head.append(e)})(),vt("js",new Date),vt("config","G-2HP8Y4MRRQ",{appName:mt.getComponent(),version:mt.getVersion(),environment:mt.getEnvironment(),instance:mt.getInstance()})},customEvent:(e,t={})=>{vt("event",e,t)}},xt={};let bt;try{bt=new BroadcastChannel("rmg-runtime-channel"),bt.onmessage=e=>{var t;const{event:n,data:i,frameId:o}=e.data;null===(t=xt[n])||void 0===t||t.forEach((e=>e(i,o)))}}catch(Va){st.warn("Failed to initiate broadcast channel. Some features may be unavailable.",Va)}const wt={postEvent:(e,t)=>{var n;st.debug(`Broadcasting event ${e} with data`,t),null==bt||bt.postMessage({event:e,data:t,frameId:null===(n=window.frameElement)||void 0===n?void 0:n.id})},onMessage:(e,t)=>{var n;e in xt?null===(n=xt[e])||void 0===n||n.push(t):xt[e]=[t]}},St="TOGGLE_NAV_MENU",Ct="OPEN_APP",Ot="CLOSE_APP",Pt="UPDATE_APP_METADATA",kt="UPDATE_URL",jt=()=>!window.frameElement,At={isStandaloneWindow:jt,injectUITools:()=>{if(!jt()){const e=document.createElement("style");e.textContent="body{padding: 0;}",document.head.appendChild(e)}const e=document.createElement("style");var t;e.textContent=".rmg-window__header:not(.rmg-window__app-clip-header),.rm-window__header:not(.rm-window__app-clip-header){margin-left: 40px;}",jt()||(null===(t=window.frameElement)||void 0===t?void 0:t.closest(".show-menu"))||document.head.appendChild(e),jt()||wt.onMessage(St,(t=>{if(t)try{document.head.removeChild(e)}catch(Va){st.warn("Unable to remove indent style from RmgWindowHeader",Va)}else document.head.appendChild(e)}))},openApp:e=>{wt.postEvent(Ct,e)},onAppOpen:e=>{wt.onMessage(Ct,e)},closeApp:e=>{wt.postEvent(Ot,e)},onAppClose:e=>{wt.onMessage(Ot,e)},updateAppMetadata:e=>{wt.postEvent(Pt,e)},onAppMetadataUpdate:e=>{wt.onMessage(Pt,e)},updateUrl:e=>{wt.postEvent(kt,e)},onUrlUpdate:e=>{wt.onMessage(kt,e)},toggleNavMenu:e=>{wt.postEvent(St,e)}},Rt="SET_LANGUAGE",Nt="SET_COLOUR_MODE",Lt=["light","dark","system"],It=()=>"true"===window.localStorage.getItem(Ke),Mt={setLanguage:e=>{wt.postEvent(Rt,e),window.localStorage.setItem(Xe,e)},getLanguage:()=>window.localStorage.getItem(Xe)||"en",onLanguageChange:e=>{wt.onMessage(Rt,e)},setColourMode:e=>{Lt.includes(e)&&(wt.postEvent(Nt,e),window.localStorage.setItem(Je,e))},getColourMode:()=>{const e=window.localStorage.getItem(Je);return t=e,Boolean(t&&Lt.includes(t))?e:"system";var t},onColourModeChange:e=>{wt.onMessage(Nt,e)},isAnalyticsQADone:()=>null!==window.localStorage.getItem(Ke),isAllowAnalytics:It,allowAnalytics:e=>{const t=It();return e?(t||(window.localStorage.setItem(Ke,e.toString()),yt.init()),{refreshRequired:!1}):t?(window.localStorage.setItem(Ke,e.toString()),{refreshRequired:!0}):{refreshRequired:!1}}},Et=(new Date).getTime(),Tt={getMsSinceStartUp:function(){const e=mt.getComponent(),t=window.localStorage.getItem(e+"__startTime");return null===t?(new Date).getTime()-Et:(new Date).getTime()-Number(t)}},zt={},_t=()=>{const e=mt.getComponent();if(e===qe)throw new Error("Unable to clear storage for unknown app");return e};window.addEventListener("storage",(e=>{var t;const{key:n,newValue:i}=e;n&&(null===(t=zt[n])||void 0===t||t.forEach((e=>e(i))))}));const Dt={on:(e,t)=>{var n;const i=`${_t()}__${e}`;i in zt?null===(n=zt[i])||void 0===n||n.push(t):zt[i]=[t]},get:e=>{const t=_t();return window.localStorage.getItem(`${t}__${e}`)},getAll:()=>{const e=_t(),t={};let n=0;for(;n<window.localStorage.length;){const i=window.localStorage.key(n);if(null==i?void 0:i.startsWith(e+"__")){const e=window.localStorage.getItem(i);e&&(t[i]=e)}n++}return t},set:(e,t)=>{const n=_t();window.localStorage.setItem(`${n}__${e}`,t)},remove:e=>{const t=_t();window.localStorage.removeItem(`${t}__${e}`)},clear:()=>{const e=_t();let t=0;for(;t<window.localStorage.length;){const n=window.localStorage.key(t);(null==n?void 0:n.startsWith(e+"__"))?(window.localStorage.removeItem(n),st.info(`Removed item ${n}`)):t++}}},$t=e=>"string"==typeof e,Wt=()=>{let e,t;const n=new Promise(((n,i)=>{e=n,t=i}));return n.resolve=e,n.reject=t,n},Vt=e=>null==e?"":""+e,Bt=/###/g,Ft=e=>e&&e.indexOf("###")>-1?e.replace(Bt,"."):e,Ut=e=>!e||$t(e),Ht=(e,t,n)=>{const i=$t(t)?t.split("."):t;let o=0;for(;o<i.length-1;){if(Ut(e))return{};const t=Ft(i[o]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++o}return Ut(e)?{}:{obj:e,k:Ft(i[o])}},Gt=(e,t,n)=>{const{obj:i,k:o}=Ht(e,t,Object);if(void 0!==i||1===t.length)return void(i[o]=n);let r=t[t.length-1],a=t.slice(0,t.length-1),s=Ht(e,a,Object);for(;void 0===s.obj&&a.length;)r=`${a[a.length-1]}.${r}`,a=a.slice(0,a.length-1),s=Ht(e,a,Object),s&&s.obj&&void 0!==s.obj[`${s.k}.${r}`]&&(s.obj=void 0);s.obj[`${s.k}.${r}`]=n},Yt=(e,t)=>{const{obj:n,k:i}=Ht(e,t);if(n)return n[i]},Xt=(e,t,n)=>{for(const i in t)"__proto__"!==i&&"constructor"!==i&&(i in e?$t(e[i])||e[i]instanceof String||$t(t[i])||t[i]instanceof String?n&&(e[i]=t[i]):Xt(e[i],t[i],n):e[i]=t[i]);return e},Jt=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Kt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const qt=e=>$t(e)?e.replace(/[&<>"'\/]/g,(e=>Kt[e])):e,Qt=[" ",",","?","!",";"],Zt=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20),en=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];const i=t.split(n);let o=e;for(let r=0;r<i.length;){if(!o||"object"!=typeof o)return;let e,t="";for(let a=r;a<i.length;++a)if(a!==r&&(t+=n),t+=i[a],e=o[t],void 0!==e){if(["string","number","boolean"].indexOf(typeof e)>-1&&a<i.length-1)continue;r+=a-r+1;break}o=e}return o},tn=e=>e&&e.replace("_","-"),nn={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class on{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||nn,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,i){return i&&!this.debug?null:($t(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new on(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new on(this.logger,e)}}var rn=new on;class an{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach((e=>{this.observers[e]||(this.observers[e]=new Map);const n=this.observers[e].get(t)||0;this.observers[e].set(t,n+1)})),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach((e=>{let[t,i]=e;for(let o=0;o<i;o++)t(...n)})),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach((t=>{let[i,o]=t;for(let r=0;r<o;r++)i.apply(i,[e,...n])}))}}class sn extends an{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,r=void 0!==i.ignoreJSONStructure?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,t],n&&(Array.isArray(n)?a.push(...n):$t(n)&&o?a.push(...n.split(o)):a.push(n)));const s=Yt(this.data,a);return!s&&!t&&!n&&e.indexOf(".")>-1&&(e=a[0],t=a[1],n=a.slice(2).join(".")),!s&&r&&$t(n)?en(this.data&&this.data[e]&&this.data[e][t],n,o):s}addResource(e,t,n,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const r=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator;let a=[e,t];n&&(a=a.concat(r?n.split(r):n)),e.indexOf(".")>-1&&(a=e.split("."),i=t,t=a[1]),this.addNamespaces(t),Gt(this.data,a,i),o.silent||this.emit("added",e,t,n,i)}addResources(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const o in n)($t(n[o])||Array.isArray(n[o]))&&this.addResource(e,t,o,n[o],{silent:!0});i.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,i,o){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),i=n,n=t,t=a[1]),this.addNamespaces(t);let s=Yt(this.data,a)||{};r.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?Xt(s,n,o):s={...s,...n},Gt(this.data,a,s),r.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((e=>t[e]&&Object.keys(t[e]).length>0))}toJSON(){return this.data}}var ln={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,i,o){return e.forEach((e=>{this.processors[e]&&(t=this.processors[e].process(t,n,i,o))})),t}};const cn={};class un extends an{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,i;super(),n=e,i=this,["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"].forEach((e=>{n[e]&&(i[e]=n[e])})),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=rn.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;const n=this.resolve(e,t);return n&&void 0!==n.res}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let o=t.ns||this.options.defaultNS||[];const r=n&&e.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||((e,t,n)=>{t=t||"",n=n||"";const i=Qt.filter((e=>t.indexOf(e)<0&&n.indexOf(e)<0));if(0===i.length)return!0;const o=Zt.getRegExp(`(${i.map((e=>"?"===e?"\\?":e)).join("|")})`);let r=!o.test(e);if(!r){const t=e.indexOf(n);t>0&&!o.test(e.substring(0,t))&&(r=!0)}return r})(e,n,i));if(r&&!a){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:$t(o)?[o]:o};const r=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(r[0])>-1)&&(o=r.shift()),e=r.join(i)}return{key:e,namespaces:$t(o)?[o]:o}}translate(e,t,n){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const i=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:r,namespaces:a}=this.extractFromKey(e[e.length-1],t),s=a[a.length-1],l=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&"cimode"===l.toLowerCase()){if(c){const e=t.nsSeparator||this.options.nsSeparator;return i?{res:`${s}${e}${r}`,usedKey:r,exactUsedKey:r,usedLng:l,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:`${s}${e}${r}`}return i?{res:r,usedKey:r,exactUsedKey:r,usedLng:l,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:r}const u=this.resolve(e,t);let d=u&&u.res;const h=u&&u.usedKey||r,p=u&&u.exactUsedKey||r,f=Object.prototype.toString.apply(d),g=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,m=!this.i18nFormat||this.i18nFormat.handleAsObject,v=!$t(d)&&"boolean"!=typeof d&&"number"!=typeof d;if(!(m&&d&&v&&["[object Number]","[object Function]","[object RegExp]"].indexOf(f)<0)||$t(g)&&Array.isArray(d))if(m&&$t(g)&&Array.isArray(d))d=d.join(g),d&&(d=this.extendTranslation(d,e,t,n));else{let i=!1,a=!1;const c=void 0!==t.count&&!$t(t.count),h=un.hasDefaultValue(t),p=c?this.pluralResolver.getSuffix(l,t.count,t):"",f=t.ordinal&&c?this.pluralResolver.getSuffix(l,t.count,{ordinal:!1}):"",g=c&&!t.ordinal&&0===t.count&&this.pluralResolver.shouldUseIntlApi(),m=g&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${p}`]||t[`defaultValue${f}`]||t.defaultValue;!this.isValidLookup(d)&&h&&(i=!0,d=m),this.isValidLookup(d)||(a=!0,d=r);const v=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&a?void 0:d,y=h&&m!==d&&this.options.updateMissing;if(a||i||y){if(this.logger.log(y?"updateKey":"missingKey",l,s,r,y?m:d),o){const e=this.resolve(r,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let t=0;t<n.length;t++)e.push(n[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);const i=(e,n,i)=>{const o=h&&i!==d?i:v;this.options.missingKeyHandler?this.options.missingKeyHandler(e,s,n,o,y,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,s,n,o,y,t),this.emit("missingKey",e,s,n,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&c?e.forEach((e=>{const n=this.pluralResolver.getSuffixes(e,t);g&&t[`defaultValue${this.options.pluralSeparator}zero`]&&n.indexOf(`${this.options.pluralSeparator}zero`)<0&&n.push(`${this.options.pluralSeparator}zero`),n.forEach((n=>{i([e],r+n,t[`defaultValue${n}`]||m)}))})):i(e,r,m))}d=this.extendTranslation(d,e,t,u,n),a&&d===r&&this.options.appendNamespaceToMissingKey&&(d=`${s}:${r}`),(a||i)&&this.options.parseMissingKeyHandler&&(d="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${s}:${r}`:r,i?d:void 0):this.options.parseMissingKeyHandler(d))}else{if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,d,{...t,ns:a}):`key '${r} (${this.language})' returned an object instead of string.`;return i?(u.res=e,u.usedParams=this.getUsedParamsDetails(t),u):e}if(o){const e=Array.isArray(d),n=e?[]:{},i=e?p:h;for(const r in d)if(Object.prototype.hasOwnProperty.call(d,r)){const e=`${i}${o}${r}`;n[r]=this.translate(e,{...t,joinArrays:!1,ns:a}),n[r]===e&&(n[r]=d[r])}d=n}}return i?(u.res=d,u.usedParams=this.getUsedParamsDetails(t),u):d}extendTranslation(e,t,n,i,o){var r=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const a=$t(e)&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let s;if(a){const t=e.match(this.interpolator.nestingRegexp);s=t&&t.length}let l=n.replace&&!$t(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),e=this.interpolator.interpolate(e,l,n.lng||this.language||i.usedLng,n),a){const t=e.match(this.interpolator.nestingRegexp);s<(t&&t.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&i&&i.res&&(n.lng=this.language||i.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return o&&o[0]===i[0]&&!n.context?(r.logger.warn(`It seems you are nesting recursively key: ${i[0]} in key: ${t[0]}`),null):r.translate(...i,t)}),n)),n.interpolation&&this.interpolator.reset()}const a=n.postProcess||this.options.postProcess,s=$t(a)?[a]:a;return null!=e&&s&&s.length&&!1!==n.applyPostProcessor&&(e=ln.handle(s,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let t,n,i,o,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return $t(e)&&(e=[e]),e.forEach((e=>{if(this.isValidLookup(t))return;const s=this.extractFromKey(e,a),l=s.key;n=l;let c=s.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const u=void 0!==a.count&&!$t(a.count),d=u&&!a.ordinal&&0===a.count&&this.pluralResolver.shouldUseIntlApi(),h=void 0!==a.context&&($t(a.context)||"number"==typeof a.context)&&""!==a.context,p=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);c.forEach((e=>{this.isValidLookup(t)||(r=e,!cn[`${p[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(r)&&(cn[`${p[0]}-${e}`]=!0,this.logger.warn(`key "${n}" for languages "${p.join(", ")}" won't get resolved as namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((n=>{if(this.isValidLookup(t))return;o=n;const r=[l];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(r,l,n,e,a);else{let e;u&&(e=this.pluralResolver.getSuffix(n,a.count,a));const t=`${this.options.pluralSeparator}zero`,i=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(r.push(l+e),a.ordinal&&0===e.indexOf(i)&&r.push(l+e.replace(i,this.options.pluralSeparator)),d&&r.push(l+t)),h){const n=`${l}${this.options.contextSeparator}${a.context}`;r.push(n),u&&(r.push(n+e),a.ordinal&&0===e.indexOf(i)&&r.push(n+e.replace(i,this.options.pluralSeparator)),d&&r.push(n+t))}}let s;for(;s=r.pop();)this.isValidLookup(t)||(i=s,t=this.getResource(n,e,s,a))})))}))})),{res:t,usedKey:n,exactUsedKey:i,usedLng:o,usedNS:r}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,i):this.resourceStore.getResource(e,t,n,i)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!$t(e.replace);let i=n?e.replace:e;if(n&&void 0!==e.count&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const e of t)delete i[e]}return i}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}const dn=e=>e.charAt(0).toUpperCase()+e.slice(1);class hn{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=rn.create("languageUtils")}getScriptPartFromCode(e){if(!(e=tn(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=tn(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if($t(e)&&e.indexOf("-")>-1){if("undefined"!=typeof Intl&&void 0!==Intl.getCanonicalLocales)try{let t=Intl.getCanonicalLocales(e)[0];if(t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t)return t}catch(Va){}const t=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map((e=>e.toLowerCase())):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=dn(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=dn(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=dn(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach((e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)})),!t&&this.options.supportedLngs&&e.forEach((e=>{if(t)return;const n=this.getLanguagePartFromCode(e);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find((e=>e===n?e:e.indexOf("-")<0&&n.indexOf("-")<0?void 0:e.indexOf("-")>0&&n.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===n||0===e.indexOf(n)&&n.length>1?e:void 0))})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),$t(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],o=e=>{e&&(this.isSupportedCode(e)?i.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return $t(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):$t(e)&&o(this.formatLanguageCode(e)),n.forEach((e=>{i.indexOf(e)<0&&o(this.formatLanguageCode(e))})),i}}let pn=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],fn={1:e=>Number(e>1),2:e=>Number(1!=e),3:e=>0,4:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),5:e=>Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5),6:e=>Number(1==e?0:e>=2&&e<=4?1:2),7:e=>Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),8:e=>Number(1==e?0:2==e?1:8!=e&&11!=e?2:3),9:e=>Number(e>=2),10:e=>Number(1==e?0:2==e?1:e<7?2:e<11?3:4),11:e=>Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3),12:e=>Number(e%10!=1||e%100==11),13:e=>Number(0!==e),14:e=>Number(1==e?0:2==e?1:3==e?2:3),15:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2),16:e=>Number(e%10==1&&e%100!=11?0:0!==e?1:2),17:e=>Number(1==e||e%10==1&&e%100!=11?0:1),18:e=>Number(0==e?0:1==e?1:2),19:e=>Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3),20:e=>Number(1==e?0:0==e||e%100>0&&e%100<20?1:2),21:e=>Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0),22:e=>Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)};const gn=["v1","v2","v3"],mn=["v4"],vn={zero:0,one:1,two:2,few:3,many:4,other:5};class yn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=rn.create("pluralResolver"),this.options.compatibilityJSON&&!mn.includes(this.options.compatibilityJSON)||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(()=>{const e={};return pn.forEach((t=>{t.lngs.forEach((n=>{e[n]={numbers:t.nr,plurals:fn[t.fc]}}))})),e})(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi()){const i=tn("dev"===e?"en":e),o=t.ordinal?"ordinal":"cardinal",r=JSON.stringify({cleanedCode:i,type:o});if(r in this.pluralRulesCache)return this.pluralRulesCache[r];let a;try{a=new Intl.PluralRules(i,{type:o})}catch(n){if(!e.match(/-|_/))return;const i=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(i,t)}return this.pluralRulesCache[r]=a,a}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((e=>`${t}${e}`))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort(((e,t)=>vn[e]-vn[t])).map((e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`)):n.numbers.map((n=>this.getSuffix(e,n,t))):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=this.getRule(e,n);return i?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:this.getSuffixRetroCompatible(i,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const n=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let i=e.numbers[n];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===i?i="plural":1===i&&(i=""));const o=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?`_plural_${i.toString()}`:o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!gn.includes(this.options.compatibilityJSON)}}const xn=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=((e,t,n)=>{const i=Yt(e,n);return void 0!==i?i:Yt(t,n)})(e,t,n);return!r&&o&&$t(n)&&(r=en(e,n,i),void 0===r&&(r=en(t,n,i))),r},bn=e=>e.replace(/\$/g,"$$$$");class wn{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=rn.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:i,prefix:o,prefixEscaped:r,suffix:a,suffixEscaped:s,formatSeparator:l,unescapeSuffix:c,unescapePrefix:u,nestingPrefix:d,nestingPrefixEscaped:h,nestingSuffix:p,nestingSuffixEscaped:f,nestingOptionsSeparator:g,maxReplaces:m,alwaysFormat:v}=e.interpolation;this.escape=void 0!==t?t:qt,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==i&&i,this.prefix=o?Jt(o):r||"{{",this.suffix=a?Jt(a):s||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":u||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?Jt(d):h||Jt("$t("),this.nestingSuffix=p?Jt(p):f||Jt(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=m||1e3,this.alwaysFormat=void 0!==v&&v,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e&&e.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,n,i){let o,r,a;const s=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=e=>{if(e.indexOf(this.formatSeparator)<0){const o=xn(t,s,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(o,void 0,n,{...i,...t,interpolationkey:e}):o}const o=e.split(this.formatSeparator),r=o.shift().trim(),a=o.join(this.formatSeparator).trim();return this.format(xn(t,s,r,this.options.keySeparator,this.options.ignoreJSONStructure),a,n,{...i,...t,interpolationkey:r})};this.resetRegExp();const c=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,u=i&&i.interpolation&&void 0!==i.interpolation.skipOnVariables?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>bn(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?bn(this.escape(e)):bn(e)}].forEach((t=>{for(a=0;o=t.regex.exec(e);){const n=o[1].trim();if(r=l(n),void 0===r)if("function"==typeof c){const t=c(e,o,i);r=$t(t)?t:""}else if(i&&Object.prototype.hasOwnProperty.call(i,n))r="";else{if(u){r=o[0];continue}this.logger.warn(`missed to pass in variable ${n} for interpolating ${e}`),r=""}else $t(r)||this.useRawValueToEscape||(r=Vt(r));const s=t.safeValue(r);if(e=e.replace(o[0],s),u?(t.regex.lastIndex+=r.length,t.regex.lastIndex-=o[0].length):t.regex.lastIndex=0,a++,a>=this.maxReplaces)break}})),e}nest(e,t){let n,i,o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=(e,t)=>{const n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;const i=e.split(new RegExp(`${n}[ ]*{`));let r=`{${i[1]}`;e=i[0],r=this.interpolate(r,o);const a=r.match(/'/g),s=r.match(/"/g);(a&&a.length%2==0&&!s||s.length%2!=0)&&(r=r.replace(/'/g,'"'));try{o=JSON.parse(r),t&&(o={...t,...o})}catch(Va){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,Va),`${e}${n}${r}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,e};for(;n=this.nestingRegexp.exec(e);){let s=[];o={...r},o=o.replace&&!$t(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let l=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){const e=n[1].split(this.formatSeparator).map((e=>e.trim()));n[1]=e.shift(),s=e,l=!0}if(i=t(a.call(this,n[1].trim(),o),o),i&&n[0]===e&&!$t(i))return i;$t(i)||(i=Vt(i)),i||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),i=""),l&&(i=s.reduce(((e,t)=>this.format(e,t,r.lng,{...r,interpolationkey:n[1].trim()})),i.trim())),e=e.replace(n[0],i),this.regexp.lastIndex=0}return e}}const Sn=e=>{const t={};return(n,i,o)=>{let r=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(r={...r,[o.interpolationkey]:void 0});const a=i+JSON.stringify(r);let s=t[a];return s||(s=e(tn(i),o),t[a]=s),s(n)}};class Cn{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=rn.create("formatter"),this.options=e,this.formats={number:Sn(((e,t)=>{const n=new Intl.NumberFormat(e,{...t});return e=>n.format(e)})),currency:Sn(((e,t)=>{const n=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>n.format(e)})),datetime:Sn(((e,t)=>{const n=new Intl.DateTimeFormat(e,{...t});return e=>n.format(e)})),relativetime:Sn(((e,t)=>{const n=new Intl.RelativeTimeFormat(e,{...t});return e=>n.format(e,t.range||"day")})),list:Sn(((e,t)=>{const n=new Intl.ListFormat(e,{...t});return e=>n.format(e)}))},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Sn(t)}format(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=t.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find((e=>e.indexOf(")")>-1))){const e=o.findIndex((e=>e.indexOf(")")>-1));o[0]=[o[0],...o.splice(1,e)].join(this.formatSeparator)}return o.reduce(((e,t)=>{const{formatName:o,formatOptions:r}=(e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const i=e.split("(");t=i[0].toLowerCase().trim();const o=i[1].substring(0,i[1].length-1);"currency"===t&&o.indexOf(":")<0?n.currency||(n.currency=o.trim()):"relativetime"===t&&o.indexOf(":")<0?n.range||(n.range=o.trim()):o.split(";").forEach((e=>{if(e){const[t,...i]=e.split(":"),o=i.join(":").trim().replace(/^'+|'+$/g,""),r=t.trim();n[r]||(n[r]=o),"false"===o&&(n[r]=!1),"true"===o&&(n[r]=!0),isNaN(o)||(n[r]=parseInt(o,10))}}))}return{formatName:t,formatOptions:n}})(t);if(this.formats[o]){let t=e;try{const a=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},s=a.locale||a.lng||i.locale||i.lng||n;t=this.formats[o](e,s,{...r,...i,...a})}catch(a){this.logger.warn(a)}return t}return this.logger.warn(`there was no format function for ${o}`),e}),e)}}class On extends an{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=rn.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(e,t,n,i){const o={},r={},a={},s={};return e.forEach((e=>{let i=!0;t.forEach((t=>{const a=`${e}|${t}`;!n.reload&&this.store.hasResourceBundle(e,t)?this.state[a]=2:this.state[a]<0||(1===this.state[a]?void 0===r[a]&&(r[a]=!0):(this.state[a]=1,i=!1,void 0===r[a]&&(r[a]=!0),void 0===o[a]&&(o[a]=!0),void 0===s[t]&&(s[t]=!0)))})),i||(a[e]=!0)})),(Object.keys(o).length||Object.keys(r).length)&&this.queue.push({pending:r,pendingCount:Object.keys(r).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(r),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(s)}}loaded(e,t,n){const i=e.split("|"),o=i[0],r=i[1];t&&this.emit("failedLoading",o,r,t),!t&&n&&this.store.addResourceBundle(o,r,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const a={};this.queue.forEach((n=>{((e,t,n,i)=>{const{obj:o,k:r}=Ht(e,t,Object);o[r]=o[r]||[],o[r].push(n)})(n.loaded,[o],r),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((e=>{a[e]||(a[e]={});const t=n.loaded[e];t.length&&t.forEach((t=>{void 0===a[e][t]&&(a[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((e=>!e.done))}read(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,r=arguments.length>5?arguments[5]:void 0;if(!e.length)return r(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:i,wait:o,callback:r});this.readingCalls++;const a=(a,s)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}a&&s&&i<this.maxRetries?setTimeout((()=>{this.read.call(this,e,t,n,i+1,2*o,r)}),o):r(a,s)},s=this.backend[n].bind(this.backend);if(2!==s.length)return s(e,t,a);try{const n=s(e,t);n&&"function"==typeof n.then?n.then((e=>a(null,e))).catch(a):a(null,n)}catch(l){a(l)}}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();$t(e)&&(e=this.languageUtils.toResolveHierarchy(e)),$t(t)&&(t=[t]);const o=this.queueLoad(e,t,n,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach((e=>{this.loadOne(e)}))}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.split("|"),i=n[0],o=n[1];this.read(i,o,"read",void 0,void 0,((n,r)=>{n&&this.logger.warn(`${t}loading namespace ${o} for language ${i} failed`,n),!n&&r&&this.logger.log(`${t}loaded namespace ${o} for language ${i}`,r),this.loaded(e,n,r)}))}saveMissing(e,t,n,i,o){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=n&&""!==n){if(this.backend&&this.backend.create){const l={...r,isUpdate:o},c=this.backend.create.bind(this.backend);if(c.length<6)try{let o;o=5===c.length?c(e,t,n,i,l):c(e,t,n,i),o&&"function"==typeof o.then?o.then((e=>a(null,e))).catch(a):a(null,o)}catch(s){a(s)}else c(e,t,n,i,a,l)}e&&e[0]&&this.store.addResource(e[0],t,n,i)}}}const Pn=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),$t(e[1])&&(t.defaultValue=e[1]),$t(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach((e=>{t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),kn=e=>($t(e.ns)&&(e.ns=[e.ns]),$t(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),$t(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),jn=()=>{};class An extends an{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var n;if(super(),this.options=kn(e),this.services={},this.logger=rn,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach((e=>{"function"==typeof n[e]&&(n[e]=n[e].bind(n))})),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout((()=>{this.init(e,t)}),0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&($t(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const i=Pn();this.options={...i,...this.options,...kn(t)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);const o=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?rn.init(o(this.modules.logger),this.options):rn.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!=typeof Intl&&(t=Cn);const n=new hn(this.options);this.store=new sn(this.options.resources,this.options);const r=this.services;r.logger=rn,r.resourceStore=this.store,r.languageUtils=n,r.pluralResolver=new yn(n,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!t||this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format||(r.formatter=o(t),r.formatter.init(r,this.options),this.options.interpolation.format=r.formatter.format.bind(r.formatter)),r.interpolator=new wn(this.options),r.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},r.backendConnector=new On(o(this.modules.backend),r.resourceStore,r,this.options),r.backendConnector.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];e.emit(t,...i)})),this.modules.languageDetector&&(r.languageDetector=o(this.modules.languageDetector),r.languageDetector.init&&r.languageDetector.init(r,this.options.detection,this.options)),this.modules.i18nFormat&&(r.i18nFormat=o(this.modules.i18nFormat),r.i18nFormat.init&&r.i18nFormat.init(this)),this.translator=new un(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];e.emit(t,...i)})),this.modules.external.forEach((e=>{e.init&&e.init(this)}))}if(this.format=this.options.interpolation.format,n||(n=jn),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((t=>{this[t]=function(){return e.store[t](...arguments)}})),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((t=>{this[t]=function(){return e.store[t](...arguments),e}}));const r=Wt(),a=()=>{const e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),r.resolve(t),n(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?a():setTimeout(a,0),r}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jn;const n=$t(e)?e:this.language;if("function"==typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],i=t=>{t&&"cimode"!==t&&this.services.languageUtils.toResolveHierarchy(t).forEach((t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)}))};n?i(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((e=>i(e))),this.options.preload&&this.options.preload.forEach((e=>i(e))),this.services.backendConnector.load(e,this.options.ns,(e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)}))}else t(null)}reloadResources(e,t,n){const i=Wt();return"function"==typeof e&&(n=e,e=void 0),"function"==typeof t&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=jn),this.services.backendConnector.reload(e,t,(e=>{i.resolve(),n(e)})),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&ln.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const e=this.languages[t];if(!(["cimode","dev"].indexOf(e)>-1)&&this.store.hasLanguageSomeTranslations(e)){this.resolvedLanguage=e;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const i=Wt();this.emit("languageChanging",e);const o=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},r=(e,r)=>{r?(o(r),this.translator.changeLanguage(r),this.isLanguageChangingTo=void 0,this.emit("languageChanged",r),this.logger.log("languageChanged",r)):this.isLanguageChangingTo=void 0,i.resolve((function(){return n.t(...arguments)})),t&&t(e,(function(){return n.t(...arguments)}))},a=t=>{e||t||!this.services.languageDetector||(t=[]);const n=$t(t)?t:this.services.languageUtils.getBestMatchFromCodes(t);n&&(this.language||o(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(n)),this.loadResources(n,(e=>{r(e,n)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),i}getFixedT(e,t,n){var i=this;const o=function(e,t){let r;if("object"!=typeof t){for(var a=arguments.length,s=new Array(a>2?a-2:0),l=2;l<a;l++)s[l-2]=arguments[l];r=i.options.overloadTranslationOptionHandler([e,t].concat(s))}else r={...t};r.lng=r.lng||o.lng,r.lngs=r.lngs||o.lngs,r.ns=r.ns||o.ns,""!==r.keyPrefix&&(r.keyPrefix=r.keyPrefix||n||o.keyPrefix);const c=i.options.keySeparator||".";let u;return u=r.keyPrefix&&Array.isArray(e)?e.map((e=>`${r.keyPrefix}${c}${e}`)):r.keyPrefix?`${r.keyPrefix}${c}${e}`:e,i.t(u,r)};return $t(e)?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=n,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const r=(e,t)=>{const n=this.services.backendConnector.state[`${e}|${t}`];return-1===n||0===n||2===n};if(t.precheck){const e=t.precheck(this,r);if(void 0!==e)return e}return!(!this.hasResourceBundle(n,e)&&this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages)&&(!r(n,e)||i&&!r(o,e)))}loadNamespaces(e,t){const n=Wt();return this.options.ns?($t(e)&&(e=[e]),e.forEach((e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)})),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=Wt();$t(e)&&(e=[e]);const i=this.options.preload||[],o=e.filter((e=>i.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e)));return o.length?(this.options.preload=i.concat(o),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services&&this.services.languageUtils||new hn(Pn());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new An(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jn;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},o=new An(i);return void 0===e.debug&&void 0===e.prefix||(o.logger=o.logger.clone(e)),["store","services","language"].forEach((e=>{o[e]=this[e]})),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},n&&(o.store=new sn(this.store.data,i),o.services.resourceStore=o.store),o.translator=new un(o.services,i),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];o.emit(e,...n)})),o.init(i,t),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Rn=An.createInstance();let Nn;Rn.createInstance=An.createInstance,Rn.createInstance,Rn.dir,Rn.init,Rn.loadResources,Rn.reloadResources,Rn.use,Rn.changeLanguage,Rn.getFixedT,Rn.t,Rn.exists,Rn.setDefaultNamespace,Rn.hasLoadedNamespace,Rn.loadNamespaces,Rn.loadLanguages;var Ln=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(Va){r(Va)}}function s(e){try{l(i.throw(e))}catch(Va){r(Va)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};let In={};const Mn="LOAD_REMOTE_FONT",En=e=>e.source.startsWith("local"),Tn=(e,t)=>{var n;return`@font-face {\n    font-family: '${e}';\n    src: ${t.source};\n    ${Object.entries(null!==(n=t.descriptors)&&void 0!==n?n:{}).map((([e,t])=>`${e}: ${t};`)).join("\n")}\n}`};let zn=(e=>{let t,n=!1;return i=>Fe(void 0,void 0,void 0,(function*(){return!t||!n&&i?(t=e(),n=!0,t.then((e=>(n=!1,e))).catch((e=>{throw t=null,e}))):t}))})((()=>fetch("/fonts/config.json").then((e=>e.json()))));const _n=(e,t,n)=>Ln(void 0,void 0,void 0,(function*(){try{const i=new FontFace(e,t.source,t.descriptors);return En(t)?yield i.load():i.loaded.then(n),document.fonts.add(i),In[e]={configs:[Object.assign(Object.assign({},t),{font:i})]},!0}catch(Va){return st.warn(`Failed to load font ${e} with source ${t.source}`,Va),!1}})),Dn=(e,t,n)=>Ln(void 0,void 0,void 0,(function*(){if(t.some(En))return st.error(`Unable to load multiple FontFace for the same family ${e}`),!1;const i=[];return t.forEach((t=>{const o=new FontFace(e,t.source,t.descriptors);o.loaded.then(n),document.fonts.add(o),i.push(Object.assign(Object.assign({},t),{font:o}))})),In[e]={configs:i},!0})),$n={getAllFonts:zn,getLoadedFonts:()=>In,loadFont:(e,t)=>Ln(void 0,void 0,void 0,(function*(){if(e in In)return In[e];let n;if(t)n=t;else try{n=(yield zn())[e]}catch(Va){const n=Va instanceof Error?" due to "+Va.message:"";throw new Error("Unable to load font definition of "+e+n)}const i=()=>{((e,t)=>{wt.postEvent(Mn,{family:e,definition:t})})(e,n)};for(const t of n.configs)if(Array.isArray(t)?yield Dn(e,t,i):yield _n(e,t,i))break;const o=In[e];return o?(o.displayName=n.displayName,o.url=n.url,In[e]):void 0})),getFontCSS:e=>Ln(void 0,void 0,void 0,(function*(){const t=In[e];if(!t)throw new Error(`Font family ${e} is not loaded`);const n=yield Promise.all(t.configs.filter((t=>{const n="loaded"===t.font.status;return n||st.warn(`Font family ${e} is not loaded completely. Some FontFaceRules may be missing`),n})).map((t=>Ln(void 0,void 0,void 0,(function*(){if(En(t))return Tn(e,t);const n=(e=>{var t;const n=null===(t=e.source.match(/url\(['"](\S+)['"]\)/))||void 0===t?void 0:t[1];if(!n)throw new Error("Invalid URL in source "+e.source);return new URL(n,window.location.href)})(t),i=yield fetch(n),o=yield(r=yield i.blob(),new Promise((e=>{const t=new FileReader;t.onloadend=()=>e(t.result),t.readAsDataURL(r)})));var r;return Tn(e,Object.assign(Object.assign({},t),{source:`url('${o}')`}))})))));return n.join("\n\n")})),onRemoteFontLoaded:e=>{wt.onMessage(Mn,e)}},Wn=()=>{if("PRD"!==mt.getEnvironment()||!mt.isRMT())if(document.querySelector('meta[name="robots"]'))st.info("Noindex meta tag already presents.");else{st.info("Injecting noindex meta tag as this app is not PRD RMT.");const e=document.createElement("meta");e.name="robots",e.content="noindex",document.head.appendChild(e)}};var Vn=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(Va){r(Va)}}function s(e){try{l(i.throw(e))}catch(Va){r(Va)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};let Bn=!1;const Fn=e("r",{ready:()=>Vn(void 0,void 0,void 0,(function*(){let e=0;for(;e<=10&&!Bn;)yield Ue(1e3),e+=1})),getAppName:mt.getComponent,getAppVersion:mt.getVersion,getEnv:mt.getEnvironment,getInstance:mt.getInstance,event:yt.customEvent,isStandaloneWindow:At.isStandaloneWindow,injectUITools:At.injectUITools,openApp:At.openApp,onAppOpen:At.onAppOpen,closeApp:At.closeApp,onAppClose:At.onAppClose,updateAppMetadata:At.updateAppMetadata,onAppMetadataUpdate:At.onAppMetadataUpdate,updateUrl:At.updateUrl,onUrlUpdate:At.onUrlUpdate,toggleNavMenu:At.toggleNavMenu,postEvent:wt.postEvent,onMessage:wt.onMessage,setLanguage:Mt.setLanguage,getLanguage:Mt.getLanguage,onLanguageChange:Mt.onLanguageChange,setColourMode:Mt.setColourMode,getColourMode:Mt.getColourMode,onColourModeChange:Mt.onColourModeChange,isAnalyticsQADone:Mt.isAnalyticsQADone,isAllowAnalytics:Mt.isAllowAnalytics,allowAnalytics:Mt.allowAnalytics,storage:{on:Dt.on,get:Dt.get,getAll:Dt.getAll,set:Dt.set,remove:Dt.remove,clear:Dt.clear},getMsSinceStartUp:Tt.getMsSinceStartUp,I18nBuilder:class{constructor(){this._appName="RMG",this._lng=void 0,this._defaultResources={},this._resources={}}use(e){return Rn.use(e),this}withAppName(e){return this._appName=e,this}withLng(e){return this._lng=e,this}withDefaultResource(e){return Object.entries(e).forEach((([e,t])=>{this._defaultResources[e]=t})),this}withResource(e,t){return this._resources[e]=t,this}combineResource(){const e={};return Object.entries(this._defaultResources).forEach((([t,n])=>{e[t]={translation:n}})),Object.entries(this._resources).forEach((([t,n])=>{t in e?e[t].translation=Object.assign(Object.assign({},e[t].translation),n):e[t]={translation:n}})),e}build(){return Nn=Rn.createInstance({lng:this._lng,fallbackLng:{"zh-CN":["zh-Hans","zh-Hant","en"],"zh-HK":["zh-Hant","zh-Hans","en"],"zh-TW":["zh-Hant","zh-Hans","en"],default:["en"]},resources:this.combineResource()},((e,t)=>{var n;e?st.error("unexpected error occurs while initialising i18n",e):(document.title=t(this._appName),document.documentElement.lang=null!==(n=this._lng)&&void 0!==n?n:"en")})),Nn.on("languageChanged",(e=>{document.title=Nn.t(this._appName),document.documentElement.lang=e})),(e=>{Mt.onLanguageChange((t=>e.changeLanguage(t)))})(Nn),Nn}},getI18nInstance:()=>Nn,getAllFonts:$n.getAllFonts,getLoadedFonts:$n.getLoadedFonts,loadFont:$n.loadFont,getFontCSS:$n.getFontCSS,onRemoteFontLoaded:$n.onRemoteFontLoaded});Vn(void 0,void 0,void 0,(function*(){yield mt.loadWithTimeout(),st.setup(mt.getComponent()),Wn(),Mt.isAnalyticsQADone()?Mt.isAllowAnalytics()&&(st.info("User has previously allowed GA"),yt.init()):At.isStandaloneWindow()&&!mt.isRMT()&&(st.warn("App is opened in standalone window but analytics Q&A is not finished. GA will be init by default."),yt.init()),Bn=!0})).then(),window.rmgRuntime=Fn;const Un=e("l",st.logger);var Hn,Gn={},Yn=function(){if(Hn)return Gn;Hn=1;var e=Ae();return Gn.createRoot=e.createRoot,Gn.hydrateRoot=e.hydrateRoot,Gn}();const Xn=function(e,t,n){let i=Promise.resolve();function o(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return i.then((t=>{for(const e of t||[])"rejected"===e.status&&o(e.reason);return e().catch(o)}))};var Jn=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,i){return e[0]===t&&(n=i,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(t,n){var i=e(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,i=e(n,t);~i&&n.splice(i,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,i=this.__entries__;n<i.length;n++){var o=i[n];e.call(t,o[1],o[0])}},t}()}(),Kn="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,qn="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),Qn="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(qn):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},Zn=["top","right","bottom","left","width","height","size","weight"],ei="undefined"!=typeof MutationObserver,ti=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,i=!1,o=0;function r(){n&&(n=!1,e()),i&&s()}function a(){Qn(r)}function s(){var e=Date.now();if(n){if(e-o<2)return;i=!0}else n=!0,i=!1,setTimeout(a,t);o=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){Kn&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),ei?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){Kn&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;Zn.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),ni=function(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var o=i[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},ii=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||qn},oi=ui(0,0,0,0);function ri(e){return parseFloat(e)||0}function ai(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+ri(e["border-"+n+"-width"])}),0)}function si(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return oi;var i=ii(e).getComputedStyle(e),o=function(e){for(var t={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var o=i[n],r=e["padding-"+o];t[o]=ri(r)}return t}(i),r=o.left+o.right,a=o.top+o.bottom,s=ri(i.width),l=ri(i.height);if("border-box"===i.boxSizing&&(Math.round(s+r)!==t&&(s-=ai(i,"left","right")+r),Math.round(l+a)!==n&&(l-=ai(i,"top","bottom")+a)),!function(e){return e===ii(e).document.documentElement}(e)){var c=Math.round(s+r)-t,u=Math.round(l+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return ui(o.left,o.top,s,l)}var li="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof ii(e).SVGGraphicsElement}:function(e){return e instanceof ii(e).SVGElement&&"function"==typeof e.getBBox};function ci(e){return Kn?li(e)?function(e){var t=e.getBBox();return ui(0,0,t.width,t.height)}(e):si(e):oi}function ui(e,t,n,i){return{x:e,y:t,width:n,height:i}}var di=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ui(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=ci(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),hi=function(e,t){var n,i,o,r,a,s,l,c=(i=(n=t).x,o=n.y,r=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),ni(l,{x:i,y:o,width:r,height:a,top:o,right:i+r,bottom:a+o,left:i}),l);ni(this,{target:e,contentRect:c})},pi=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new Jn,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof ii(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new di(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof ii(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new hi(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),fi="undefined"!=typeof WeakMap?new WeakMap:new Jn,gi=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=ti.getInstance(),i=new pi(t,n,this);fi.set(this,i)};["observe","unobserve","disconnect"].forEach((function(e){gi.prototype[e]=function(){var t;return(t=fi.get(this))[e].apply(t,arguments)}}));var mi=void 0!==qn.ResizeObserver?qn.ResizeObserver:gi;window.ResizeObserver||(window.ResizeObserver=mi);var vi=function(){return vi=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},vi.apply(this,arguments)},yi=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};e("Z",(function(e){var t=e.isOpen,l=e.onClose,c=e.children,u=e.sx,d=e.size,h=e.zIndex,p=yi(e,["isOpen","onClose","children","sx","size","zIndex"]),f=n("RmgAppClip",{size:d,zIndex:null!=h?h:1500}),g=Re.useRef(null);return i({ref:g,handler:l}),o.jsx(r,{children:o.jsxs(a.div,vi({className:t?"show-app-clip":"",sx:f},p,{children:[o.jsx("div",{className:"rmg-app-clip__overlay"}),o.jsx(s,{isDisabled:!t,children:o.jsx("div",{className:"rmg-app-clip__container",children:o.jsx(a.section,{ref:g,role:"dialog",className:"rmg-app-clip__content",sx:u,children:c})})})]}))})}));const[xi,bi]=function(){const e=Re.createContext(void 0);return e.displayName="AutoCompleteContext",[e.Provider,function t(){var n;const i=Re.useContext(e),o="useAutoCompleteContext: `context` is undefined. Seems you forgot to wrap all autoomplete components within `<AutoComplete />`";if(!i){const e=new Error(o);throw e.name="ContextError",null==(n=Error.captureStackTrace)||n.call(Error,e,t),e}return i},e]}();function wi(e){return null!=e&&e.length?e[e.length-1]:void 0}function Si(e,t,n=1,i=!0){if(0===t)return-1;let o=e+n;return-1===e&&(o=n>0?0:t-1),o=i?(o%t+t)%t:Math.max(0,Math.min(o,t-1)),o}function Ci(e,t,n=!0){const i=function(e,t,n=!0){return Si(e,t,-1,n)}(e,t.length,n);return t[i]}function Oi(e){return Array.isArray(e)}function Pi(e){return null!==e&&"object"==typeof e&&!Oi(e)}function ki(e){return Oi(e)?function(e){return Oi(e)&&0===e.length}(e):Pi(e)?function(e){return Pi(e)&&0===Object.keys(e).length}(e):null==e||""===e}function ji(e){return typeof e>"u"}function Ai(e){return typeof e<"u"}function Ri(e,t){const n={...e};return t.forEach((e=>{delete n[e]})),n}function Ni(e,...t){return function(e){return"function"==typeof e}(e)?e(...t):e}var Li=function(e,t){for(var n,i=0,o=Re.Children.toArray(e);i<o.length;i++){var r=o[i];if(t(r))return r;if(null!==(n=r.props)&&void 0!==n&&n.children){var a=Li(r.props.children,t);if(a)return a}}},Ii=function(e,t){for(var n=0,i=t.length,o=e.length;n<i;n++,o++)e[o]=t[n];return e},Mi=function(e,t){for(var n,i=[],o=0,r=Re.Children.toArray(e);o<r.length;o++){var a=r[o];t(a)&&(i=Ii(Ii([],i),[a])),null!==(n=a.props)&&void 0!==n&&n.children&&(i=Ii(Ii([],i),Mi(a.props.children,t)))}return i};function Ei(e,t,n=2){function i(e,t){e=" ".repeat(t-1)+e.toLowerCase()+" ".repeat(t-1);let n=new Array(e.length-t+1);for(let i=0;i<n.length;i++)n[i]=e.slice(i,i+t);return n}if(null==e||!e.length||null==t||!t.length)return 0;let o=e.length<t.length?e:t,r=e.length<t.length?t:e,a=i(o,n),s=i(r,n),l=new Set(a),c=s.length,u=0;for(let d of s)l.delete(d)&&u++;return u/c}const Ti=e=>{var t;return null==(t="string"==typeof e||"number"==typeof e?e:e[Object.keys(e)[0]])?void 0:t.toString()},zi=(e,t)=>"string"!=typeof e||ki(t)?e:e.toString().replace(new RegExp(function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}(t),"gi"),(e=>`<mark>${e}</mark>`)),_i=(e,t,n)=>(null==t?void 0:t.toLowerCase().indexOf(null==e?void 0:e.toLowerCase()))>=0||(null==n?void 0:n.toLowerCase().indexOf(null==e?void 0:e.toLowerCase()))>=0||Ei(e,t)>=.5||Ei(e,n)>=.5,Di=(e,t)=>Li(e,(e=>{var n;return"AutoCompleteItem"===(null==(n=null==e?void 0:e.type)?void 0:n.displayName)&&e.props.value===(null==t?void 0:t.value)})),$i=(e,t)=>Li(e,(e=>{var n;return"AutoCompleteItem"===(null==(n=null==e?void 0:e.type)?void 0:n.displayName)&&e.props.value===(null==t?void 0:t.value)})),Wi=(e,t)=>{const n={},i={},{field:o}=e;return o&&Object.keys(o).forEach((e=>{if(!1===e.startsWith("--input"))n[e]=o[e];else{let t=o[e];const n=e.replace("--input-","").replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}));-1!==t.indexOf(".")&&(t=t.substring(t.indexOf(".")+1)),i[n]=t}})),{...t&&{...n,...i,_focusWithin:e.field._focus,pos:"relative",minH:9,py:1.5,spacing:3},cursor:"text",h:"fit-content"}};function Vi(e){var t;let{prefocusFirstItem:n=!0,closeOnBlur:i=!0,creatable:o,emphasize:r,emptyState:a=!0,defaultEmptyStateProps:s={},freeSolo:l,isReadOnly:c,listAllValuesOnFocus:u,maxSuggestions:d,multiple:h,closeOnSelect:p=!h,defaultValue:f,defaultValues:g=(f?[f]:[]),onReady:m,defaultIsOpen:v,disableFilter:y,isLoading:x=!1,placement:b="bottom",restoreOnBlurIfEmpty:w=!l,shouldRenderSuggestions:S=(()=>!0),submitKeys:C=[],suggestWhenEmpty:j,value:A,values:R=(A?"string"==typeof A?[A]:[...A]:void 0)}=e;l=l||!!h||e.freeSolo;const{isOpen:N,onClose:L,onOpen:I}=O({defaultIsOpen:v}),M=Re.useMemo((()=>Ni(e.children,{isOpen:N,onClose:L,onOpen:I})),[e.children,N]),E=Re.useMemo((()=>(e=>Mi(e,(e=>{var t;return"AutoCompleteItem"===(null==(t=null==e?void 0:e.type)?void 0:t.displayName)})).map((e=>{const t=function(e,t){const n={};return["value","label","fixed","disabled"].forEach((t=>{t in e&&(n[t]=e[t])})),n}(e.props),{getValue:n=Ti}=e.props,i=n(t.value);return{...Ai(t.label)?t:{...t,label:i},value:i,originalValue:t.value}})))(M)),[M]),T=Re.useRef(null),z=Re.useRef(null),_=Re.useRef(null),D=Re.useRef(null),[$,W]=Re.useState(!1);let V="";h?V="":ji(g)?ji(R)||(V=R[0]):V=g[0];const[B,F]=Re.useState(V??""),U=Re.useMemo((()=>y?E:E.filter((t=>t.fixed||Ni(e.filter||_i,B,t.value,t.label)||$)).filter(((e,t)=>!d||e.fixed||t<d))),[B,E,$,d,y]),H=o?[{value:B,noFilter:!0,creatable:!0}]:[],G=Re.useMemo((()=>[...U,...H]),[U,H]),[Y,X]=P({defaultValue:g.map((e=>null==e?void 0:e.toString())),value:R,onChange:t=>{const n=G.find((e=>e.value===t[0]));if(!n)return;const i=t.map((e=>G.find((t=>t.value===e))));Ni(e.onChange,h?t:t[0],h?i:n)}});Re.useEffect((()=>{0===G.length&&!a&&N&&L()}),[G.length,a,N]);const[J,K]=Re.useState(n?null==(t=E[0])?void 0:t.value:null),q=e.maxSelections||Y.length+1,Q=G.findIndex((e=>e.value===J)),Z=function(e,t,n=!0){return t[Si(e,t.length,1,n)]}(Q,G,!!e.rollNavigation),ee=Ci(Q,G,!!e.rollNavigation),te=function(e){return null==e?void 0:e[0]}(G),ne=wi(G),ie=!G.some((e=>e.value===J));Re.useEffect((()=>{var e;ie&&K(n?null==(e=E[0])?void 0:e.value:null)}),[ie]),k((()=>{n&&K(null==te?void 0:te.value)}),[B,null==te?void 0:te.value]),Re.useEffect((()=>{var e;!N&&n&&K(null==(e=E[0])?void 0:e.value)}),[N]),Re.useEffect((()=>{N&&u&&W(!0)}),[N,u,W]),Re.useEffect((()=>{const t=E.find((e=>e.value===J));Ni(e.onOptionFocus,{item:t,focusMethod:D.current,isNewInput:null==t?void 0:t.creatable})}),[J,e.onOptionFocus]);const oe=t=>{var n,i;const o=G.find((e=>e.value===t)),r=(null==o?void 0:o.label)||(null==o?void 0:o.value);F((()=>h?"":r??"")),!Y.includes(t)&&Y.length<q&&X((e=>h?[...e,t]:[t])),h&&(null==(n=T.current)||n.focus()),e.focusInputOnSelect&&(null==(i=T.current)||i.focus()),Ni(e.onSelectOption,{item:o,selectMethod:D.current,isNewInput:null==o?void 0:o.creatable}),null!=o&&o.creatable&&Ni(e.onCreateOption,{item:Ri(o,["noFilter"]),selectMethod:D.current}),p&&L()},re=(t,n)=>{var i;X((n=>{const i=E.find((e=>e.value===t));return i?(Ni(e.onTagRemoved,t,i,n),n.filter((e=>e!==t))):n}));const o=E.find((e=>e.value===t)),r=(null==o?void 0:o.label)||(null==o?void 0:o.value);B===r&&F(""),n&&(null==(i=T.current)||i.focus())},ae=h?Y.map((e=>{var t;return{label:(null==(t=E.find((t=>t.value===(null==e?void 0:e.toString()))))?void 0:t.label)||e,onRemove:()=>re(e)}})):[];return Re.useEffect((()=>{Ni(m,{tags:ae})}),[Y]),{autoCompleteProps:e,children:M,filteredList:G,filteredResults:U,focusedValue:J,defaultEmptyStateProps:s,getEmptyStateProps:e=>{if(G.every((e=>e.noFilter))&&a&&!o)return"boolean"==typeof a?e:Ni(a,{query:B})},getGroupProps:e=>{const t=((e,t)=>Ai(Li(e,(e=>{var n,i;const o=Ni((null==(n=e.props)?void 0:n.getValue)||Ti,(null==(i=e.props)?void 0:i.value)||{});return t.some((e=>e.value===o))}))))(e.children,G);return{divider:{hasFirstChild:Di(e.children,te),hasLastChild:$i(e.children,wi(G.filter((e=>ji(null==e?void 0:e.noFilter)))))},group:{display:t?"initial":"none"}}},getInputProps:(t,n)=>{const{onBlur:o,onChange:r,onFocus:a,onKeyDown:s,variant:l,...d}=t;return{wrapper:{ref:z,onClick:()=>{var e;null==(e=null==T?void 0:T.current)||e.focus()},...Wi(n,h),...d},input:{isReadOnly:c,onFocus:t=>{Ni(a,t),e.openOnFocus&&!c&&I(),e.selectOnFocus&&t.target.select(),u&&W(!0)},onBlur:e=>{var t,n;Ni(o,e);const r=e.relatedTarget===(null==_?void 0:_.current)||(null==(t=_.current)?void 0:t.contains(e.relatedTarget)),a=null==(n=z.current)?void 0:n.contains(e.relatedTarget);if(!r&&!a&&(i&&L(),!Y.includes(e.target.value)&&w)){const e=wi(Y),t=E.find((t=>t.value===e)),n=(null==t?void 0:t.label)||(null==t?void 0:t.value)||"";F(n)}},onChange:e=>{const t=e.target.value;Ni(r,e),F(t);const n=ki(t);!Ni(S,t)||n&&!j?L():I(),W(!1)},onKeyDown:e=>{var t;Ni(s,e),D.current="keyboard";const{key:n}=e,i=G[Q];return["Enter",...C].includes(n)?(!i||null!=i&&i.disabled||!N?null==(t=T.current)||t.focus():oe(null==i?void 0:i.value),void e.preventDefault()):"ArrowDown"===n?(N?K(null==Z?void 0:Z.value):I(),void e.preventDefault()):"ArrowUp"===n?(N?K(null==ee?void 0:ee.value):I(),void e.preventDefault()):"Tab"!==n?"Home"===n?(K(null==te?void 0:te.value),void e.preventDefault()):"End"===n?(K(null==ne?void 0:ne.value),void e.preventDefault()):void("Escape"===n&&(L(),e.preventDefault())):void(!N||!i||null!=i&&i.disabled?L():oe(null==i?void 0:i.value))},value:B,variant:h?"unstyled":l,...d}}},getItemProps:(e,t)=>{var n;const{_fixed:i,_focus:o,children:a,disabled:s,label:l,value:c,fixed:u,getValue:d=Ti,onClick:h,onMouseOver:p,sx:f,...g}=e,m=t?c:null==(n=d(c))?void 0:n.toString(),v=m===J,y=G.findIndex((e=>e.value===m))>=0,x=a||l||m;return{item:{..."string"==typeof x&&r?{dangerouslySetInnerHTML:{__html:zi(x,B)}}:{children:x},"aria-selected":Y.includes(m),"aria-disabled":s,_disabled:{opacity:.4,cursor:"not-allowed",userSelect:"none"},onClick:e=>{var t;Ni(h,e),s?null==(t=T.current)||t.focus():oe(m)},onMouseOver:e=>{Ni(p,e),K(m),D.current="mouse"},sx:{...f,mark:{color:"inherit",bg:"transparent",...Pi(r)?r:{fontWeight:r?"extrabold":"inherit"}}},...v&&(o||{bg:"whiteAlpha.100",_light:{bg:"gray.200"}}),...u&&i,...g},root:{isValidSuggestion:y,value:m}}},inputRef:T,interactionRef:D,isLoading:x,isOpen:N,itemList:E,listRef:_,onClose:L,onOpen:I,placement:b,query:B,removeItem:re,resetItems:e=>{var t;X([]),e&&(null==(t=T.current)||t.focus())},setQuery:F,tags:ae,value:A,values:Y}}l(((e,t)=>{const n=Vi(e),{children:i,isOpen:r,onClose:s,onOpen:l,placement:c,resetItems:u,removeItem:d}=n;Re.useImperativeHandle(t,(()=>({resetItems:u,removeItem:d})));const{matchWidth:h=!0}=n.autoCompleteProps;return o.jsx(xi,{value:n,children:o.jsx(p,{isLazy:!0,isOpen:r,autoFocus:!1,placement:c,closeOnBlur:!0,matchWidth:h,children:o.jsx(a.div,{w:"full",ref:t,children:i})})})})).displayName="AutoComplete",l(((e,t)=>{const{focusedValue:n,getItemProps:i,interactionRef:r}=bi(),a=Re.useRef(),s=f(t,a),l=i(e),{isValidSuggestion:c,value:u}=l.root,d=n===u;Re.useEffect((()=>{var e;d&&"keyboard"===r.current&&(null==(e=null==a?void 0:a.current)||e.scrollIntoView({behavior:"smooth",block:"nearest"}))}),[d,r]),Re.useEffect((()=>{"string"!=typeof u&&console.warn("wow"),"string"!=typeof u&&ji(e.getValue)&&console.error("You must define the `getValue` prop, when an Item's value is not a string")}),[]);const{children:h,dangerouslySetInnerHTML:p,...m}=l.item,v=Ri(m,["groupId"]);return c?o.jsx(g,{ref:s,...Bi,...v,children:h||o.jsx("span",{dangerouslySetInnerHTML:p})}):null})).displayName="AutoCompleteItem";const Bi={mx:"2",px:"2",py:"2",rounded:"md",cursor:"pointer"},Fi=l(((e,t)=>{const{children:n,showDivider:i,...r}=e,a=Ri(r,["groupSibling"]),{getGroupProps:s}=bi(),{group:l}=s(e),c=Gi(e);return o.jsxs(m,{ref:t,...l,...a,children:[o.jsx(v,{...c.top}),n,o.jsx(v,{...c.bottom})]})})),Ui=l(((e,t)=>o.jsx(g,{...Hi,...e,ref:t})));Fi.displayName="AutoCompleteGroup",Ui.displayName="AutoCompleteGroupTitle";const Hi={ml:5,my:1,fontSize:"xs",letterSpacing:"wider",fontWeight:"extrabold",textTransform:"uppercase"},Gi=e=>{const{getGroupProps:t}=bi(),n=e.groupSibling,{divider:{hasFirstChild:i,hasLastChild:o}}=t(e),r={my:2,borderColor:e.dividerColor};return{top:{...r,mb:4,display:!e.showDivider||i?"none":""},bottom:{...r,display:!e.showDivider||o||n?"none":""}}},Yi=l(((e,t)=>{const{isLoading:n}=bi(),{loadingIcon:i,...r}=e;return o.jsxs(j,{children:[o.jsx(A,{...r,ref:t}),n&&o.jsx(R,{children:i||o.jsx(C,{})})]})})),Xi=l(((e,t)=>{const{autoCompleteProps:n,inputRef:i,getInputProps:r,tags:a,setQuery:s,value:l,itemList:u}=bi(),{children:d,isInvalid:h,hidePlaceholder:p,...g}=e,{value:m}=g;Re.useEffect((()=>{if(void 0!==l&&("string"==typeof l||l instanceof String)){const e=u.find((e=>e.value===l)),t=void 0===e?l:e.label;s(t)}}),[l]),Re.useEffect((()=>{void 0!==m&&("string"==typeof m||m instanceof String)&&s(m)}),[m]);const v=y("Input",e);let{wrapper:w,input:S}=r(g,v);const{ref:C,...O}=w,P=f(t,i),k=Ni(d,{tags:a});p&&(S={...S,placeholder:Array.isArray(k)&&k.length?void 0:S.placeholder});const j=o.jsx(Yi,{isInvalid:h,...S,ref:P}),A=o.jsxs(x,{"aria-invalid":h,...O,ref:C,children:[k,o.jsx(c,{as:Yi,...S,ref:P})]});return o.jsx(b,{children:n.multiple?A:j})}));Xi.displayName="Input",Xi.id="Input";const Ji=e=>{const{getEmptyStateProps:t,defaultEmptyStateProps:n}=bi(),i=t(o.jsx(g,{...Ki,...n,children:"No options found!"}));return o.jsx(m,{...e,children:i})},Ki={fontSize:"sm",align:"center",justify:"center",fontWeight:"bold",fontStyle:"italic"},qi=["AutoCompleteGroup","AutoCompleteItem","AutoCompleteCreatable"];l(((e,t)=>{const{children:n,loadingState:i,...r}=e,{listRef:a,isLoading:s}=bi(),l=f(t,a),[c,u]=(e=>{const t=Ne.Children.map(e,((t,n)=>{var i;if("AutoCompleteGroup"===(null==(i=null==t?void 0:t.type)?void 0:i.displayName)){const i=Ne.Children.toArray(e)[n+1];return Ne.cloneElement(t,{groupSibling:!!i&&"AutoCompleteGroup"===i.type.displayName})}return t})),n=Ne.Children.toArray(t).filter((e=>{var t;return!qi.includes(null==(t=null==e?void 0:e.type)?void 0:t.displayName)}));return[Ne.Children.toArray(t).filter((e=>{var t;return qi.includes(null==(t=null==e?void 0:e.type)?void 0:t.displayName)})),n]})(n);return o.jsxs(w,{ref:l,w:"inherit",...Qi,...r,children:[s&&o.jsx(S,{children:i||o.jsx(C,{size:"md"})}),!s&&o.jsxs(o.Fragment,{children:[c,o.jsx(Ji,{}),u]})]})})).displayName="AutoCompleteList";const Qi={py:"4",opacity:"0",bg:"#232934",rounded:"md",maxH:"350px",border:"none",shadow:"base",zIndex:"popover",overflowY:"auto",_light:{bg:"#ffffff"},_focus:{boxShadow:"none"}};Re.memo((e=>{const{label:t,onRemove:n,disabled:i,...r}=e;return o.jsx(c,{children:o.jsxs(u,{borderRadius:"md",fontWeight:"normal",...i&&Zi,...r,children:[o.jsx(d,{children:t}),o.jsx(h,{onClick:()=>!i&&Ni(n),cursor:"pointer",...i&&Zi})]})})}));const Zi={cursor:"text",userSelect:"none",opacity:.4,_focus:{boxShadow:"none"}};var eo=function(){return eo=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},eo.apply(this,arguments)},to=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},no=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},io=(e("d",Re.forwardRef((function(e,t){var n=e.validator,i=e.onDebouncedChange,r=e.delay,a=e.optionList,s=e.defaultValue;e.onChange;var l=to(e,["validator","onDebouncedChange","delay","optionList","defaultValue","onChange"]),c=Re.useRef(null),u=f(c,t),d=Re.useRef("datalist-"+(new Date).valueOf()),h=no(Re.useState(!1),2),p=h[0],g=h[1],m=Re.useRef();return Re.useEffect((function(){c.current&&(c.current.value=(null==s?void 0:s.toString())||"")}),[s]),o.jsxs(o.Fragment,{children:[o.jsx(A,eo({ref:u,list:d.current,variant:"flushed",size:"sm",h:6,onChange:function(e){var t=e.target.value;window.clearTimeout(m.current),n&&g(!n(t)),m.current=window.setTimeout((function(){null==i||i(t),m.current=void 0}),null!=r?r:500)},onBlur:function(e){var t=e.target.value;void 0!==m.current&&(window.clearTimeout(m.current),n&&g(!n(t)),null==i||i(t),m.current=void 0)},isInvalid:p},l)),a&&o.jsx("datalist",{id:d.current,children:null==a?void 0:a.map((function(e,t){return o.jsx("option",{children:e},t)}))})]})}))),function(){return io=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},io.apply(this,arguments)}),oo=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},ro=(e("c",Re.forwardRef((function(e,t){var n=e.onDebouncedChange,i=e.defaultValue;e.onChange;var r=oo(e,["onDebouncedChange","defaultValue","onChange"]),a=Re.useRef(null),s=f(a,t),l=Re.useRef();return Re.useEffect((function(){a.current&&(a.current.value=(null==i?void 0:i.toString())||"")}),[i]),o.jsx(N,io({ref:s,variant:"flushed",size:"sm",resize:"none",onChange:function(e){var t=e.target.value;window.clearTimeout(l.current),l.current=window.setTimeout((function(){null==n||n(t)}),500)}},r))}))),function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}),ao=function(e){switch(e){case Ye.DEV:return"red";case Ye.UAT:return"orange";case Ye.PRD:return"green"}},so=function(e,t,n){var i=new Blob([n],{type:t});lo(e,i)},lo=function(e,t){var n=window.URL.createObjectURL(t),i=document.createElement("a");i.href=n,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(n)},co=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a};function uo(e){var t=e.cancelRef,n=e.isOpen,i=e.onClose,r=co(Re.useState(!1),2),a=r[0],s=r[1];return o.jsxs(_,{leastDestructiveRef:t,isOpen:n,onClose:i,children:[o.jsx(D,{}),o.jsxs($,{children:[o.jsx(W,{children:"Warning 警告"}),o.jsx(V,{}),o.jsxs(B,{sx:{"& p":{my:1}},children:[o.jsx(F,{children:"Are you sure you want to reset the app? The webpage local storage for this app will be cleared. A copy of the local storage will be downloaded and it may be used for restoration (varies with app)."}),o.jsx(F,{children:"確定重設該應用程式嗎？應用程式的網頁本地儲存將會被清除。本地儲存的副本可供下載及用於復原（因應用程式而異）。"}),o.jsx(F,{children:"确定重置本应用程序吗？应用程序的网页本地存储将会被清除。本地存储的拷贝可供下载以及用于还原（因应用程序而異）。"})]}),o.jsxs(U,{children:[o.jsx(H,{ref:t,onClick:i,children:"Cancel"}),o.jsx(H,{isLoading:a,colorScheme:"red",ml:3,onClick:function(){s(!0);var e=Fn.storage.getAll(),t=Fn.getAppName(),n="".concat(t,"_BACKUP_").concat((new Date).toISOString(),".json");so(n,"application/json",JSON.stringify(e)),Fn.storage.clear(),setTimeout((function(){window.location.reload()}),2e3)},children:"Confirm and reload"})]})]})]})}var ho=function(){return ho=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ho.apply(this,arguments)},po=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},fo=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a};function go(e){var t=e.error,i=e.errorInfo,r=e.allowReset,a=e.sx,s=po(e,["error","errorInfo","allowReset","sx"]),l=n("RmgErrorBoundary"),c=G("primary.500","primary.300"),u=fo(Re.useState(!1),2),d=u[0],h=u[1],p=Re.useRef(null),f=function(e){return o.jsx(Y,{color:c,role:"button",onClick:function(){return h(!0)},children:e})},g=Fn.getAppName(),m=o.jsx(Y,{color:c,href:"https://github.com/railmapgen/".concat("rmg-home"===g?"railmapgen.github.io":g,"/issues"),isExternal:!0,children:"GitHub Issue"});return o.jsxs(X,ho({status:"error",sx:ho(ho({},l),a)},s,{children:[o.jsx(J,{}),o.jsx(K,{children:"Something went wrong!"}),o.jsxs(q,{children:[o.jsxs(F,{children:["Please try to refresh or re-import your configuration files. If the issue still persists, please consider upgrading your browser",r?o.jsxs(o.Fragment,{children:[" or ",f("reset this app")]}):"",". Should you need any help, please contact us by submitting an issue in ",m," with the details shown below."]}),o.jsxs(F,{children:["請嘗試重新整理或重新上載設定檔。如果問題仍然存在，請考慮更新你的瀏覽器",r?o.jsxs(o.Fragment,{children:["或",f("重設該應用程式")]}):"","。如需協助或與我們聯絡，請前往 ",m," 提交一個 Issue 並附以詳細資料。"]}),o.jsxs(F,{children:["请尝试刷新或者重新上传配置文件。如果问题仍然存在，请考虑更新您的浏览器",r?o.jsxs(o.Fragment,{children:["或者",f("重置本应用程序")]}):"","。如需帮助或者联系我们，请前往 ",m," 提交一个 Issue 并附上详细信息。"]}),o.jsxs(F,{as:"details",children:[null==t?void 0:t.toString(),o.jsx("br",{}),null==i?void 0:i.componentStack]}),r&&o.jsx(uo,{cancelRef:p,isOpen:d,onClose:function(){return h(!1)}})]})]}))}var mo,vo=(mo=function(e,t){return mo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},mo(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}mo(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),yo=function(){return yo=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},yo.apply(this,arguments)},xo=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};!function(e){function t(t){var n=e.call(this,t)||this;return n.state={hasError:!1,error:null,errorInfo:null},n}vo(t,e),t.getDerivedStateFromError=function(){return{hasError:!0}},t.prototype.componentDidCatch=function(e,t){this.setState({error:e,errorInfo:t})},t.prototype.render=function(){var e=this.props,t=e.children,n=e.suspenseFallback,i=e.allowReset,r=xo(e,["children","suspenseFallback","allowReset"]);return this.state.hasError?o.jsx(go,yo({error:this.state.error,errorInfo:this.state.errorInfo,allowReset:i},r)):n?o.jsx(Re.Suspense,{fallback:n,children:t}):t}}(Ne.Component);var bo=function(){return bo=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},bo.apply(this,arguments)},wo=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},So=(e("R",(function(e){var t=e.label,i=e.children;e.width;var r=e.noLabel,a=e.oneLine,s=e.helper,l=e.errorMessage,c=e.className,u=wo(e,["label","children","width","noLabel","oneLine","helper","errorMessage","className"]),d=n("RmgLabel");return o.jsxs(Q,bo({className:"".concat(a?"rmg-label__one-line":""," ").concat(null!=c?c:""),"aria-label":t,sx:d,isInvalid:!!l},u,{children:[!r&&o.jsx(Z,{size:"xs",children:t}),i,l?o.jsx(ee,{children:l}):s?o.jsx(te,{children:s}):o.jsx(o.Fragment,{})]}))})),function(){return So=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},So.apply(this,arguments)}),Co=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},Oo=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},Po=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},ko=(e("u",(function(e,t,n){var i=Po(Re.useState(t()),2),o=i[0],r=i[1];return Re.useEffect((function(){e.then((function(){console.debug("[rmg-components] Getter updates finished"),r(t())}))}),[]),o})),function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}),jo=function(e,t,n){if(n||2===arguments.length)for(var i,o=0,r=t.length;o<r;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))},Ao=function(e,t){var n=ko(Re.useState(!0),2),i=n[0],o=n[1],r=Re.useRef([]),a=Re.useRef(),s=Re.useCallback((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];i?(o(!1),r.current=[],e.apply(void 0,jo([],ko(t),!1))):r.current=t}),[i,e]);return Re.useEffect((function(){if(!i)return a.current=window.setTimeout((function(){o(!0),r.current.length&&e.apply(void 0,jo([],ko(r.current),!1))}),t),function(){window.clearTimeout(a.current)}}),[i,t]),s},Ro=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},No=function(){return No=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},No.apply(this,arguments)},Lo=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},Io=function(e){var t=e.sx,i=e.className,r=Lo(e,["sx","className"]),a=n("RmgWindow");return o.jsx(g,No({className:"rmg-window ".concat(null!=i?i:""),sx:No(No({},a),t)},r))},Mo=(e("a7",(function(e){var t=e.isAppClipHeader,i=e.sx,r=e.className,a=Lo(e,["isAppClipHeader","sx","className"]),s=n("RmgWindowHeader");return o.jsx(g,No({className:"rmg-window__header ".concat(t?"rmg-window__app-clip-header":""," ").concat(null!=r?r:""),sx:No(No({},s),i)},a))})),function(e){var t=e.sx,i=e.className,r=Lo(e,["sx","className"]),a=n("RmgPage");return o.jsx(g,No({className:"rmg-page ".concat(null!=i?i:""),sx:No(No({},a),t)},r))}),Eo=function(e){return"dark"===e?"primary.300":"primary.500"},To={variants:{flushed:function(e){var t=e.theme,n=e.colorMode;return{field:{_focusVisible:{borderColor:Eo(n),boxShadow:"0px 1px 0px 0px ".concat(le(t,Eo(n)))}}}}}},zo={defaultProps:{colorScheme:"primary"}},_o=function(e){return"dark"===e?"primary.300":"primary.500"},Do={baseStyle:function(e){var t=e.theme,n=e.colorMode;return{"& .rmg-multi-select__wrapper":{position:"relative",w:"100%",h:"25.75px",transform:"translateY(1.75px)",cursor:"default"},"& .rmg-multi-select__field":{position:"relative",w:"100%",minW:0,outline:0,appearance:"none",transitionProperty:"common",transitionDuration:"normal",pb:"1px",fontSize:"sm",h:"6",borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_active:{borderColor:_o(n),boxShadow:"0px 1px 0px 0px ".concat(le(t,_o(n)))},_focus:{borderColor:_o(n),boxShadow:"0px 1px 0px 0px ".concat(le(t,_o(n)))},_focusVisible:{borderColor:_o(n),boxShadow:"0px 1px 0px 0px ".concat(le(t,_o(n)))},"&.active":{borderColor:_o(n),boxShadow:"0px 1px 0px 0px ".concat(le(t,_o(n)))},"& > span:last-of-type":{position:"absolute",right:8}},"& .rmg-multi-select__icon-wrapper":{display:"inline-flex",justifyContent:"center",w:6,h:"100%",position:"absolute",right:2,top:0,fontSize:"xl","& svg":{h:"1em",w:"1em"}},"& .chakra-popover__content":{w:"unset",minW:200},"& .chakra-popover__body":{p:0,"li label":{p:2,w:"100%",_hover:{bg:"dark"===n?"whiteAlpha.200":"gray.100"},_active:{bg:"dark"===n?"whiteAlpha.300":"gray.200"}}}}}},$o=function(){return $o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},$o.apply(this,arguments)},Wo={overflow:"hidden",textOverflow:"ellipsis",textWrap:"nowrap"},Vo={Input:To,Checkbox:zo,Select:To,Slider:{defaultProps:{colorScheme:"primary"}},Switch:zo,Textarea:To,RmgAgGrid:{baseStyle:{w:"100%",h:"100%","& .ag-header-cell:not(.ag-header-cell-auto-height) .ag-header-cell-comp-wrapper":{height:"unset"},"& .ag-cell":{display:"flex",lineHeight:"unset",alignItems:"center"},"& .ag-cell, & .ag-header-cell":{padding:"8px 9px"},"& .ag-row, & .ag-header":{border:"unset"},"&.ag-theme-alpine .ag-row .ag-cell, &.ag-theme-alpine .ag-header .ag-header-cell":{borderRight:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, #dde2eb))",borderBottom:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, #dde2eb))"},"&.ag-theme-alpine-dark .ag-row .ag-cell, &.ag-theme-alpine-dark .ag-header .ag-header-cell":{borderRight:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, rgba(88, 86, 82, 0.5)))",borderBottom:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, rgba(88, 86, 82, 0.5)))"},"& .ag-pinned-left-cols-container, & .ag-pinned-left-header":{boxShadow:"var(--chakra-shadows-lg)",zIndex:1},"&.ag-theme-alpine":{"& .ag-row .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-background-color, #fff)"},"& .ag-row-odd .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-odd-row-background-color, #fcfcfc)"}},"&.ag-theme-alpine-dark":{"& .ag-row .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-background-color, #181d1f)"},"& .ag-row-odd .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-odd-row-background-color, #222628)"}}}},RmgAppClip:{baseStyle:function(e){var t=e.colorMode,n=e.zIndex;return{display:"none","&.show-app-clip":{display:"block"},"& .rmg-app-clip__overlay":{position:"fixed",top:0,left:0,w:"100vw",h:"100vh",zIndex:n,bg:"blackAlpha.600"},"& .rmg-app-clip__container":{position:"fixed",top:0,left:0,w:"100vw",h:"100vh",display:"flex",justifyContent:"center",alignItems:"flex-start",zIndex:n},"& .rmg-app-clip__content":{display:"flex",w:"100%",maxW:"md",my:16,bg:"light"===t?"white":"gray.700",boxShadow:"lg",borderRadius:"md",overflow:"hidden"}}},sizes:{xs:{"& .rmg-app-clip__content":{maxW:"xs"}},sm:{"& .rmg-app-clip__content":{maxW:"sm"}},lg:{"& .rmg-app-clip__content":{maxW:"lg"}},xl:{"& .rmg-app-clip__content":{maxW:"xl"}},full:{"& .rmg-app-clip__content":{maxW:"100vw",minH:"var(--chakra-vh)",my:0,borderRadius:0}}}},RmgCard:{baseStyle:function(e){return{p:1,my:1,w:"100%",borderRadius:2,bg:"dark"===e.colorMode?"gray.700":"gray.50",boxShadow:"lg"}}},RmgDataTable:{baseStyle:function(e){var t=e.colorMode;return{"& thead":{position:"sticky",top:0,zIndex:10},"& td, th":{borderRight:"1px solid",borderColor:"dark"===t?"whiteAlpha.400":"blackAlpha.200",backgroundColor:"dark"===t?"gray.700":"gray.50",whiteSpace:"nowrap","&:first-of-type":{position:"sticky",left:0,zIndex:1},"&:last-of-type":{borderRight:"none",position:"sticky",right:0,zIndex:1}}}}},RmgEnrichedButton:{baseStyle:function(){return{flexGrow:1,flexDirection:"column",justifyContent:"center",alignItems:"flex-start",h:10,"& span":{maxW:"100%",textOverflow:"ellipsis",overflow:"hidden"},"& span:last-of-type":{fontWeight:"normal",fontSize:"2xs"}}}},RmgErrorBoundary:{baseStyle:{flexDirection:"column",alignItems:"center",maxH:"100%",overflowY:"auto","& .chakra-alert__icon":{w:"40px",h:"40px",mr:0},"& .chakra-alert__title":{mt:4,mb:1,fontSize:"lg"},"& .chakra-alert__desc":{w:"100%","& p":{my:1},"& details":{whiteSpace:"pre-wrap",fontFamily:"monospace",fontSize:"sm"}}}},RmgLabel:{baseStyle:{display:"flex",flexDirection:"column",m:1,w:"unset","& label":{overflow:"hidden",fontSize:12,mr:0,mb:-.5,whiteSpace:"nowrap",textOverflow:"ellipsis"},"&.rmg-label__one-line":{flexDirection:"row",alignItems:"center","& label:first-of-type":{mr:"auto"}}}},RmgLineBadge:{baseStyle:{display:"inline-flex",alignItems:"center","& > button:first-of-type":{ml:1}}},RmgLoader:{baseStyle:{w:"100%",h:"100%",position:"absolute",top:0,right:0,alignItems:"center",justifyContent:"center","& .rmg-loader__backdrop":{position:"absolute",w:"100%",h:"100%",zIndex:1500,bg:"blackAlpha.400"},"& .chakra-progress":{zIndex:2e3}}},RmgMultiSelect:Do,RmgOutput:{baseStyle:function(e){var t=e.noWrap;return $o({minH:6,fontSize:"sm"},t?Wo:{textWrap:"pretty"})}},RmgPage:{baseStyle:{position:"relative",flexDirection:"column",flex:1,overflow:"hidden",background:"inherit"}},RmgPageHeader:{baseStyle:{alignItems:"center",flexWrap:"wrap",pl:2,pr:3,py:1,zIndex:10}},RmgSection:{baseStyle:{position:"relative",background:"inherit"}},RmgSectionHeader:{baseStyle:{display:"flex",alignItems:"center",flexWrap:"wrap",position:"sticky",top:0,background:"inherit",px:2,py:1,zIndex:5}},RmgSidePanel:{baseStyle:function(e){var t=e.colorMode,n=e.width,i=e.alwaysOverlay;return{height:"100%",position:i?"absolute":{base:"absolute",lg:"relative"},right:i?0:{base:0,lg:"unset"},background:"light"===t?"white":"gray.800",boxShadow:"lg",flexShrink:0,flexDirection:"column",transition:"0.3s ease-in-out",maxW:0,visibility:"hidden",zIndex:5,"&.show-side-panel":{maxW:{base:"100%",sm:n},w:{base:"100%",sm:"unset"},visibility:"initial"},"& .rmg-side-panel__inner":{flexDirection:"column",h:"100%",w:{base:"100vw",sm:n}},"& .rmg-side-panel__header":{flexShrink:0,pl:3,pr:1,py:0,"& button":{ml:"auto"}},"& .rmg-side-panel__body":{display:"flex",flexDirection:"column",flex:1,overflowY:"auto",p:1},"& .rmg-side-panel__footer":{display:"flex",justifyContent:"flex-end",p:1}}}},RmgThrottledSlider:{baseStyle:{h:6,alignItems:"center","& .chakra-button:first-of-type":{mr:1},"& .chakra-button:last-of-type":{ml:1}}},RmgWindow:{baseStyle:{position:"relative",flexDirection:"column",height:"100%",overflow:"hidden",background:"inherit"}},RmgWindowHeader:{baseStyle:{px:2,alignItems:"center",zIndex:15,minH:10,transition:"0.3s ease-in-out"}}},Bo=function(){return Bo=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Bo.apply(this,arguments)},Fo="chakra-ui-color-mode",Uo={primary:Bo({},ce.colors.teal)},Ho={global:{".mw-full":{w:"100%",flexBasis:"100%"}}},Go=function(e){var t,n=e.children;return o.jsx(de,{theme:ue({config:(t="system"===Fn.getColourMode(),Fn.isStandaloneWindow()&&(t?window.localStorage.removeItem(Fo):window.localStorage.setItem(Fo,Fn.getColourMode())),{initialColorMode:"system",useSystemColorMode:t}),colors:Uo,styles:Ho,components:Vo}),children:o.jsx(Yo,{children:n})})},Yo=function(e){var t=e.children,n=he().setColorMode,i=pe();return Re.useEffect((function(){console.log("[rmg-components] RMG theme is initialised with",i.config),Fn.onColourModeChange((function(e){if("system"===e){var t=window.matchMedia("(prefers-color-scheme: dark)").matches;n(t?"dark":"light")}else n(e)}))}),[n]),o.jsx(o.Fragment,{children:t})},Xo=(e=>(e.Predefined="predefined",e.Customized="customized",e.Punctuation="punctuation",e))(Xo||{});const Jo=e("K",(e=>e.map((e=>e.text)).join(""))),Ko=e("p",(e=>e.map((e=>e.pinyin)).join("")));var qo=(e=>(e.BreakWeak=" ",e.BreakMedium=",",e.BreakStrong=".",e))(qo||{});const Qo=(e,t)=>{let n="";return[nr.ChineseWuSimplifiedXiaotong,nr.ChineseMandarinSimplified].includes(e)?n={" ":" ",",":"，",".":"。"}[t]:[nr.ChineseWuSimplifiedYunzhe].includes(e)&&(n={" ":" ",",":", ",".":". "}[t]),{type:"punctuation",voiceName:e,text:n,pinyin:n,subType:t}},Zo=16,er=e("I",32),tr=e("J",20);var nr=e("V",(e=>(e.ChineseWuSimplifiedXiaotong="shmetro-wuu",e.ChineseWuSimplifiedYunzhe="shmetro-en",e.ChineseMandarinSimplified="shmetro-zh",e))(nr||{})),ir=e("a2",(e=>(e.ShanghaiMetro="shmetro",e))(ir||{}));e("v",{shmetro:{defaultLang:{"shmetro-zh":"zh-CN","shmetro-wuu":"wuu-CN","shmetro-en":"en-GB"},preferredPreviewVoiceName:{"shmetro-zh":{win:"Microsoft Huihui Desktop - Chinese (Simplified)",mac:"Tingting",linux:void 0,ios:"Ting-Ting",android:void 0},"shmetro-wuu":void 0,"shmetro-en":{win:"Microsoft George - English (United Kingdom)",mac:"Daniel",linux:void 0,ios:"Daniel",android:void 0}}}});var or=e("O",(e=>(e.Arrival="arr",e.Stop="stp",e.Departure="dep",e.Midway="mdw",e))(or||{}));const rr=e("L",{version:1,style:"shmetro",baseVariants:{},stations:{},metadata:{}});e("y",(e=>{const t=[];for(const n in e)for(const i in e[n])for(const o in e[n][i]){const r=e[n][i][o];0!==r.length&&t.push(`${n}_${i}_${o}: ${Ko(r)}`)}return t}));var ar=(e=>(e.APP="app",e.PARAM="param",e.ACCOUNT="rmg-home__account",e))(ar||{}),sr=e("E",(e=>(e.APP_LOAD="APP_LOAD",e.IMPORT_RMG_PARAM="IMPORT_RMG_PARAM",e.DOWNLOAD_PARAM="DOWNLOAD_PARAM",e.DOWNLOAD_TEXT="DOWNLOAD_TEXT",e))(sr||{})),lr=e("P",(e=>(e.left="left",e.right="right",e))(lr||{})),cr=e("N",(e=>(e.left="l",e.right="r",e))(cr||{})),ur=e("S",(e=>(e.local="local",e.express="express",e.direct="direct",e))(ur||{}));const dr={telemetry:{app:!0,project:!0},preference:{import:{route:0,service:ur.local},previewAudio:{}}},hr=Le({name:"app",initialState:dr,reducers:{setTelemetryProject:(e,t)=>{e.telemetry.project=t.payload},setPreferenceImport:(e,t)=>{e.preference.import=t.payload},setPreviewAudioBulk:(e,t)=>{e.preference.previewAudio=t.payload},setPreviewAudio:(e,t)=>{const[n,i]=t.payload;e.preference.previewAudio[n]=i},removePreviewAudio:(e,t)=>{e.preference.previewAudio[t.payload]&&delete e.preference.previewAudio[t.payload]}}}),{setTelemetryProject:pr,setPreferenceImport:fr,setPreviewAudioBulk:gr,setPreviewAudio:mr,removePreviewAudio:vr}=hr.actions;e({a6:pr,a5:mr,a4:vr});const yr=hr.reducer;var xr=e("A",(e=>(e.CREATED="CREATED",e.CANCELLED="CANCELLED",e.PROCESSING="PROCESSING",e.COMPLETED="COMPLETED",e.FAILED="FAILED",e))(xr||{}));const br={reconciledPhrases:{},stationVariantsExpanded:!0,showDefaultVariants:!1,currentStyle:ir.ShanghaiMetro,currentStationID:"kaxg",currentStage:or.Departure,currentVoice:nr.ChineseMandarinSimplified,showWelcome:!1,globalAlerts:{}},wr=Le({name:"runtime",initialState:br,reducers:{setReconciledPhrases:(e,t)=>{e.reconciledPhrases=t.payload},setStationVariantsExpanded:(e,t)=>{e.stationVariantsExpanded=t.payload},setShowDefaultVariants:(e,t)=>{e.showDefaultVariants=t.payload},setCurrentStationID:(e,t)=>{e.currentStationID=t.payload},setCurrentStage:(e,t)=>{e.currentStage=t.payload},setCurrentVoice:(e,t)=>{e.currentVoice=t.payload},setRmtToken:(e,t)=>{e.rmtToken=t.payload},removeRmtToken:e=>{e.rmtToken=void 0},setShowWelcome:(e,t)=>{e.showWelcome=t.payload},setGlobalAlert:(e,t)=>{const{status:n,message:i,url:o,linkedApp:r}=t.payload;e.globalAlerts[n]={message:i,url:o,linkedApp:r}},closeGlobalAlert:(e,t)=>{delete e.globalAlerts[t.payload]}}}),{setReconciledPhrases:Sr,setStationVariantsExpanded:Cr,setShowDefaultVariants:Or,setCurrentStationID:Pr,setCurrentStage:kr,setCurrentVoice:jr,setRmtToken:Ar,removeRmtToken:Rr,setShowWelcome:Nr,setGlobalAlert:Lr,closeGlobalAlert:Ir}=wr.actions;e({X:Pr,Y:kr,ah:jr,s:Lr,ac:Ir});const Mr=wr.reducer;var Er=e("x",(e=>(e.AUDIOTASKS="/audio",e))(Er||{}));const Tr=e("w",(async(e,t,n)=>{const i=structuredClone({accept:"application/json","Content-Type":"application/json","Cache-Control":"no-cache"});n&&(i.Authorization=`Bearer ${n}`);const o=await fetch(`https://railmapgen.org/v1${e}`,{headers:i,...t});if(401!==o.status)return o})),zr=e("j",Ie("audio/fetchTasks",(async(e,{getState:t,rejectWithValue:n})=>{const{rmtToken:i}=t().runtime;if(!i)return n("No token.");const o=await Tr(Er.AUDIOTASKS,{},i);return o?200!==o.status?n(o.text):await o.json():n("Can not recover from expired refresh token.")}))),_r=(e("o",Ie("audio/cancelTask",(async(e,{getState:t,dispatch:n,rejectWithValue:i})=>{const{rmtToken:o}=t().runtime;if(!o)return i("No token.");const r=await Tr(`${Er.AUDIOTASKS}/${e}`,{method:"PATCH",body:JSON.stringify({status:xr.CANCELLED})},o);return r?200!==r.status?i(r.text):void n(zr()):i("Can not recover from expired refresh token.")}))),e("n",Ie("audio/newTask",(async(e,{getState:t,dispatch:n,rejectWithValue:i})=>{const{rmtToken:o,reconciledPhrases:r}=t().runtime;if(!o)return i("No token.");const a=(e=>{const t=structuredClone(e);for(const n in e)for(const i in e[n])for(const o in e[n][i]){const r=e[n][i][o].map((e=>{const t=structuredClone(e);return delete t.text,delete t.voiceName,t}));t[n][i][o]=r}return t})(r),s=await Tr(Er.AUDIOTASKS,{method:"POST",body:JSON.stringify({data:a})},o);return s?201!==s.status?i(s.text):void n(zr()):i("Can not recover from expired refresh token.")}))),Le({name:"app",initialState:{isModalOpen:!1,tasks:[],points:0},reducers:{openAudioModal:e=>{e.isModalOpen=!0},closeAudioModal:e=>{e.isModalOpen=!1}},extraReducers:e=>{e.addCase(zr.fulfilled,((e,t)=>{e.tasks=t.payload.tasks,e.points=t.payload.points}))}})),{openAudioModal:Dr,closeAudioModal:$r}=_r.actions;e({F:Dr,H:$r});const Wr=_r.reducer,Vr=Le({name:"crawl",initialState:{content:"ご欢１迎1乘こじ。nihao",columns:200,realColumns:200,scale:.2},reducers:{setContent:(e,t)=>{e.content=t.payload},setColumns:(e,t)=>{e.columns=t.payload},setRealColumns:(e,t)=>{e.realColumns=t.payload},setScale:(e,t)=>{e.scale=t.payload}}}),{setContent:Br,setColumns:Fr,setRealColumns:Ur,setScale:Hr}=Vr.actions;e("a3",Hr);const Gr=Vr.reducer,Yr={rmgParam:void 0,route:0,service:ur.local},Xr=Le({name:"runtime",initialState:Yr,reducers:{setRMGParam:(e,t)=>{e.rmgParam=t.payload},removeRMGParam:e=>{e.rmgParam=void 0},setRoute:(e,t)=>{e.route=t.payload},setService:(e,t)=>{e.service=t.payload}}}),{setRMGParam:Jr,removeRMGParam:Kr,setRoute:qr,setService:Qr}=Xr.actions;e({_:Jr,U:Kr,Q:qr,T:Qr});const Zr=Xr.reducer,ea=Le({name:"param",initialState:{project:rr},reducers:{setProject:(e,t)=>{e.project=t.payload},setVariant:(e,t)=>{const{stnID:n,stage:i,voiceName:o,variant:r,value:a}=t.payload;e.project.stations[n]?.[i]?.[o]&&(e.project.stations[n][i][o][r]=a)},setBaseVariant:(e,t)=>{const{stage:n,voiceName:i,variant:o,value:r}=t.payload;e.project.baseVariants[n]?.[i]&&(e.project.baseVariants[n][i][o]=r)}}}),{setProject:ta,setVariant:na,setBaseVariant:ia}=ea.actions;e({W:ta,ad:na,ae:ia});const oa=ea.reducer,ra=Me({app:yr,crawl:Gr,param:oa,runtime:Mr,audio:Wr,import:Zr}),aa=Ee(),sa=((e={})=>Te({reducer:ra,middleware:e=>e().prepend(aa.middleware),preloadedState:e}))(),la=e("f",(()=>ze())),ca=e("e",_e),ua=aa.startListening;window.rmgStore=sa,e("g",(()=>{const[e,t]=Re.useState([]);return Re.useEffect((()=>{const e=window.speechSynthesis,n=()=>{const n=e.getVoices();t(n)};return e.addEventListener("voiceschanged",n),n(),()=>{e.removeEventListener("voiceschanged",n)}}),[]),e}));const da=3,ha=8,pa=4;function fa(e,t){return e.getUint32(t,!0)}function ga(e){const t=new DataView(e),n=new Uint8Array(e);if(1!==n[0]||102!==n[1]||99!==n[2]||112!==n[3])throw new Error("Not a valid PCF file (bad signature)");const i=fa(t,4);let o=8;const r=[];for(let h=0;h<i;h++){const e=fa(t,o+0),n=fa(t,o+4),i=fa(t,o+8),a=fa(t,o+12);r.push({type:e,format:n,size:i,offset:a}),o+=16}const a=r.find((e=>4===e.type));if(!a)throw new Error("No PCF_METRICS in file");const s=function(e,t){const n=t.offset,i=fa(e,n),o=!!(256&i);let r,a=n+4;o?(r=e.getInt16(a),a+=2):(r=e.getInt32(a),a+=4);const s=[];for(let l=0;l<r;l++){let t,n,i,r,l;o?(t=e.getUint8(a+0)-128,n=e.getUint8(a+1)-128,i=e.getUint8(a+2)-128,r=e.getUint8(a+3)-128,l=e.getUint8(a+4)-128,a+=5):(t=e.getInt16(a+0),n=e.getInt16(a+2),i=e.getInt16(a+4),r=e.getInt16(a+6),l=e.getInt16(a+8),a+=10,a+=2),s.push({leftSideBearing:t,rightSideBearing:n,characterWidth:i,ascent:r,descent:l})}return s}(t,a),l=r.find((e=>8===e.type));if(!l)throw new Error("No PCF_BITMAPS in file");const c=function(e,t,n,i){const o=n.offset,r=fa(e,o);let a=o+4;const s=r&da,l=(0===s?8:1===s?16:32)/8,c=!(r&ha),u=e.getInt32(a);a+=4;const d=[];for(let f=0;f<u;f++)d.push(e.getInt32(a)),a+=4;e.getInt32(a+0),e.getInt32(a+4),e.getInt32(a+8),e.getInt32(a+12),a+=16;const h=a,p=new Array(u);for(let f=0;f<u;f++){const e=i[f],n=e.rightSideBearing-e.leftSideBearing,o=e.ascent+e.descent,r=Math.max(e.characterWidth,n),a=[];let s=h+d[f];for(let i=0;i<o;i++){const e=new Array(n).fill(!1);for(let i=0;i<l;i++){const o=t[s+i];for(let t=0;t<8;t++){const r=8*i+t;if(r<n)if(c){const n=1<<t;e[r]=!!(o&n)}else{const n=1<<7-t;e[r]=!!(o&n)}}}r>n&&e.push(...new Array(r-n).fill(!1)),a.push(e),s+=l}let u=pa;0!==e.descent&&(u=-e.descent+pa);for(let t=0;t<u;t++){const e=new Array(r).fill(!1);a.push(e)}p[f]=a}return p}(t,n,l,s),u=r.find((e=>32===e.type));if(!u)throw new Error("No PCF_BDF_ENCODINGS in file");const d=function(e,t){const n=t.offset;fa(e,n);let i=n+4;const o=e.getInt16(i);i+=2;const r=e.getInt16(i);i+=2;const a=e.getInt16(i);i+=2;const s=e.getInt16(i);i+=2;const l=e.getInt16(i);i+=2;const c=(r-o+1)*(s-a+1),u=new Uint16Array(c);for(let d=0;d<c;d++)u[d]=e.getInt16(i),i+=2;return{minCharOrByte2:o,maxCharOrByte2:r,minByte1:a,maxByte1:s,defaultChar:l,glyphIndexes:u}}(t,u);return{allBitmaps:c,encData:d}}const ma=(e,t,n)=>{const i=function(e,t){const n=e.codePointAt(0);if(null==n)return null;const i=n>>8&255,o=255&n;if(i<t.minByte1||i>t.maxByte1)return null;if(o<t.minCharOrByte2||o>t.maxCharOrByte2)return null;const r=t.maxCharOrByte2-t.minCharOrByte2+1,a=i-t.minByte1,s=o-t.minCharOrByte2,l=a*r+s,c=t.glyphIndexes[l];return 65535===c?null:c}(n,t);return null==i?(console.warn(`No glyph found for character: '${n}'`),null):e[i]},va=()=>{const e=la(),{reconciledPhrases:t,currentStationID:n,currentStage:i,currentVoice:r}=ca((e=>e.runtime)),{columns:a,realColumns:s,scale:l}=ca((e=>e.crawl)),c=t[n]?.[i]?.[r],u=Jo(c??[]),d=""===u?" ":u,h=Ne.useRef(null),p=Ne.useRef([]),f=Ne.useRef(null),[g,m]=Ne.useState([]),[v,y]=Ne.useState([]),x=Ne.useCallback((()=>{if(!p.current||!f.current||!d)return;Un.debug(`Reconciling bitmaps for "${d}"`);const t=[],n=[];for(const e of d){const i=ma(p.current,f.current,e);i&&(i.length<tr&&i.unshift(...Array.from({length:tr-i.length},(()=>Array(i[0].length).fill(!1)))),t.push(i),n.push(i[0].length))}m(t),y(n),e(Ur(n.reduce(((e,t)=>e+t),0)))}),[d]);Ne.useEffect((()=>{(async()=>{const e=await fetch("fonts/wenquanyi_12pt.pcf"),t=await e.arrayBuffer();h.current=t;const{allBitmaps:n,encData:i}=ga(t);p.current=n,f.current=i,x()})()}),[]),Ne.useEffect((()=>x()),[d]);const b=a-s&&0,w=Math.floor(b/2),S=b-w;return o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",id:"crawl",style:{backgroundColor:"black"},viewBox:`0 0 ${s*er} ${tr*er}`,width:s*er*l,height:tr*er*l,children:[o.jsxs("defs",{children:[o.jsxs("filter",{id:"glow",children:[o.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),o.jsxs("feMerge",{children:[o.jsx("feMergeNode",{in:"coloredBlur"}),o.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),o.jsxs("filter",{id:"neon",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[o.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"2",floodColor:ya,floodOpacity:"1"}),o.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"5",floodColor:ya,floodOpacity:"0.7"}),o.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"10",floodColor:ya,floodOpacity:"0.4"})]}),o.jsxs("filter",{id:"orange-glow",filterUnits:"userSpaceOnUse",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[o.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"5",result:"blur5"}),o.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"10",result:"blur10"}),o.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"20",result:"blur20"}),o.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"30",result:"blur30"}),o.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"50",result:"blur50"}),o.jsxs("feMerge",{result:"blur-merged",children:[o.jsx("feMergeNode",{in:"blur10"}),o.jsx("feMergeNode",{in:"blur20"}),o.jsx("feMergeNode",{in:"blur30"}),o.jsx("feMergeNode",{in:"blur50"})]}),o.jsx("feColorMatrix",{result:"red-blur",in:"blur-merged",type:"matrix",values:"1 0 0 0 0\n                                0 0.65 0 0 0\n                                0 0 0.1 0 0\n                                0 0 0 1 0"}),o.jsxs("feMerge",{children:[o.jsx("feMergeNode",{in:"red-blur"})," ",o.jsx("feMergeNode",{in:"blur5"})," ",o.jsx("feMergeNode",{in:"SourceGraphic"})," "]})]})]}),b>0&&o.jsx("g",{id:"remaining-left",children:Array(w).fill(0).map(((e,t)=>Array(tr).fill(0).map(((e,n)=>o.jsx(xa,{x:t*er+Zo,y:n*er+Zo},`rl${t}${n}`)))))}),g.map(((e,t)=>o.jsx("g",{id:d.at(t),children:e.map(((e,n)=>e.map(((e,i)=>o.jsx(xa,{x:i*er+v.slice(0,t).reduce(((e,t)=>e+t),0)*er+Zo+(b>0?w*er:0),y:n*er+Zo,on:e},d.at(t)+i.toString()+n.toString())))))},`${d.at(t)}+${t}}`))),b>0&&o.jsx("g",{id:"remaining-right",children:Array(S).fill(0).map(((e,t)=>Array(tr).fill(0).map(((e,n)=>o.jsx(xa,{x:(w+s+t)*er+Zo,y:n*er+Zo},`rr${t}${n}`)))))})]})},ya="orange",xa=({x:e,y:t,on:n=!1})=>o.jsx("circle",{cx:e,cy:t,r:14,fill:n?ya:"dimgray",filter:n?"url(#neon)":void 0});function ba(e){return fe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"},child:[]}]})(e)}function wa(){const{t:e}=De(),t=la(),n=G("blue.100","blue.700"),i=G("gray.800","white"),r=G("gray.100","gray.700"),{project:a}=ca((e=>e.param)),{metadata:s}=a,{currentStationID:l}=ca((e=>e.runtime)),[c,u]=Re.useState({});return Re.useEffect((()=>{const t=Object.fromEntries([["default",e("stationVariants.baseVariant")],...Object.entries(s).map((([e,{name:t}])=>[e,t]))]);u(t)}),[s]),o.jsx(ge,{height:"100%",overflowY:"auto",children:o.jsxs(me,{variant:"simple",height:"100%",children:[o.jsx(ve,{children:o.jsx(ye,{children:o.jsx(xe,{width:"100%",onClick:()=>t(Cr(!1)),children:o.jsxs(g,{justifyContent:"space-between",children:[o.jsx(F,{fontSize:"md",alignSelf:"center",children:e("stationVariants.title")}),o.jsx(ie,{"aria-label":"Close",size:"sm",variant:"ghost",icon:o.jsx(ba,{transform:"rotate(90)"}),children:e("stationVariants.title")})]})})})}),o.jsx(be,{children:Object.entries(c).map((([e,s])=>o.jsx(ye,{bg:e===l?n:"transparent",_hover:{bg:r},onClick:()=>(e=>{if("default"===e)t(Or(!0));else{t(Or(!1)),t(Pr(e));const n=Object.keys(a.stations[e]).at(1);t(kr(n??or.Departure))}})(e),children:o.jsx(we,{children:o.jsx(F,{color:i,children:s})})},e)))})]})})}const Sa=e=>{const{isOpen:t,onClose:n}=e,{t:i}=De();return o.jsxs(Se,{isOpen:t,onClose:n,size:"xl",scrollBehavior:"inside",children:[o.jsx(D,{backdropFilter:"blur(5px)"}),o.jsxs(Ce,{borderRadius:"xl",overflow:"hidden",children:[o.jsx(W,{bgGradient:"linear(to-r, blue.500, teal.400)",color:"white",py:6,fontSize:"2xl",fontWeight:"bold",textAlign:"center",children:i("welcome.title")}),o.jsx(V,{color:"white",_hover:{bg:"rgba(255,255,255,0.2)"},size:"lg"}),o.jsx(B,{p:8,children:o.jsxs(Oe,{spacing:6,align:"stretch",children:[o.jsx(m,{textAlign:"center",mb:4,children:o.jsx(F,{fontSize:"lg",color:"gray.600",children:i("welcome.desc")})}),o.jsxs(m,{bg:"blue.50",p:4,borderRadius:"lg",children:[o.jsx(Pe,{size:"md",color:"blue.700",mb:3,children:i("welcome.steps")}),o.jsxs(ke,{spacing:3,children:[o.jsx(je,{children:o.jsx(F,{fontWeight:"medium",children:i("welcome.step1")})}),o.jsx(je,{children:o.jsx(F,{fontWeight:"medium",children:i("welcome.step2")})}),o.jsx(je,{children:o.jsx(F,{fontWeight:"medium",children:i("welcome.step3")})})]})]}),o.jsx(m,{bgGradient:"linear(to-r, teal.100, blue.100)",p:4,borderRadius:"lg",textAlign:"center",children:o.jsx(F,{fontWeight:"bold",color:"teal.800",children:i("welcome.start")})})]})})]})]})},Ca=Ne.lazy((()=>Xn((()=>t.import("./page-header-legacy-CJjPl4we.js"))))),Oa=Ne.lazy((()=>Xn((()=>t.import("./stage-legacy-BqahkpWQ.js")))));function Pa(){const{t:e}=De(),t=la(),{project:{style:n}}=ca((e=>e.param)),{stationVariantsExpanded:i,showWelcome:r}=ca((e=>e.runtime)),{scale:a}=ca((e=>e.crawl)),s=(()=>{const[e,t]=Re.useState({width:void 0,height:void 0});return Re.useEffect((()=>{function e(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[]),e})(),{width:l=1280,height:c=720}=s,u=i?200:0;return o.jsx(Go,{children:o.jsxs(Io,{children:[o.jsx(Ca,{}),o.jsx(Mo,{children:o.jsxs(g,{flexDirection:"row",children:[i?o.jsx(m,{style:{width:"200px",height:"calc(100vh - 40px)",overflowY:"auto"},children:o.jsx(wa,{})}):o.jsx(H,{onClick:()=>t(Cr(!0)),size:"lg",style:{position:"absolute",left:"0px",top:"0px"},borderRadius:"0px",children:e("stationVariants.title")}),o.jsxs(g,{width:`calc(100% - ${u}px)`,flexDirection:"column",children:[o.jsx(m,{style:{overflowX:"auto"},children:o.jsx(va,{})}),o.jsx(v,{marginTop:"2"}),o.jsx(m,{style:{height:c-40-tr*er*a-10,overflowY:"auto"},children:n===ir.ShanghaiMetro&&o.jsx(Oa,{})})]})]})}),o.jsx(Sa,{isOpen:r,onClose:()=>t(Nr(!1))})]})})}const ka={header:{about:{title:"About",rma:"Rail Map Announcer",railmapgen:"A Rail Map Toolkit project",desc:"",contributors:"Contributors",content1:"reflexion,allegretto,you",content2:"2024/02/21 in Shanghai",contactUs:"Contact Us",github:"Project repository",githubContent:"Face any problems? Search or raise an issue here!",slack:"Slack group",slackContent:"Chat in these Slack channels!"},donation:{title:"Donation",openCollective:"Open Collective",viaUSD:"Donate in USD via Paypal or Visa card.",afdian:"爱发电",viaCNY:"Donate in CNY via Alipay or Wechat Pay."},paly:{previewWarning:"Not satisfied with the preview voice? Try voices generated by our lastest AI in export audio."},open:{config:"Import project",projectRMG:"Import from RMG project",invalidType:"Invalid file type! Only files exported from RMA are accepted.",unknownError:"Unknown error occurred while parsing the uploaded file! Please try again."},download:{config:"Export project",image:"Export image",audio:"Export audio",format:"Format",png:"PNG",svg:"SVG",scale:"Scale",disabledScaleOptions:"Some scale options are disabled due to your browser's canvas limitation.",disabledScaleOptionsWorkarounds:"Possible workarounds include generating the image from svg using this cli tool: ",shareInfo1:"I will attach ",shareInfo2:" and its link when I share this image.",termsAndConditions:"Terms and Conditions",termsAndConditionsInfo:"I agree to ",period:".",confirm:"Download"},settings:{title:"Settings",crawl:{title:"Crawl Settings",scale:"Scale"},previewAudio:{title:"Preferred Preview Voice",notModified:"Use style preference","shmetro-zh":"Shanghai Metro (Mandarin)","shmetro-en":"Shanghai Metro (English)"},telemetry:{title:"Telemetry",info:"To help improve Rail Map Announcer and keep contributors motivated to enhance the project, anonymous usage data is collected through Google Analytics. This data is used solely for enhancing the user experience and optimizing the tool's functionality and is never shared with third parties.",essential:"Basic",essentialTooltip:"Change this global setting in Rail Map Toolkit",essentialInfo:"Rail Map Announcer collects essential usage data that helps us understand how and when users interact with the tool. Rest assured, no personally identifiable information or data from your projects is ever collected.",essentialLink:"Click this link to see detailed fields that Google Analytics may collect.",additional:"Additional",additionalInfo:"Rail Map Announcer also gathers data on interactions, such as project creation or variants modification, when you input. These additional data is also anonymous and are only used for statistical analysis to help us make the tool better."}},audioTask:{title:"Audio Task",desc:"We are committed to generating the most natural station announcements. To achieve this, we've collected hundreds of minutes of official broadcasts and trained our models. Experience the highest quality announcements powered by the latest large-scale machine learning models!",note1:"Please note that currently only Shanghai-style station announcements are available.",note2:"Due to computational limitations, please be patient after submitting your request - we aim to process all requests within 30 hours.",note3:"Please download and save your creations promptly, as we only guarantee data storage for 30 days.",exampleZH:"本次列车终点站 上海宝山站。下一站 工口足球场。开左边门。可换乘三号线。",exampleEN:"The terminal of this train is 莘庄 University. Next station is 五角场 Railway Station. Doors will open on the right.",audioNotSupported:"Your browser does not support audio playback. Chrome or Firefox is recommended.",loginFirst:"Please log in first to generate audio with AI.",topUp:"Top up",table:{id:"ID",status:"Status",createdAt:"Created At",updatedAt:"Updated At",points:"Points",actions:"Actions"},freeInternet1:"We believe in a free and open internet. You may also ",freeInternet2:"download raw text",freeInternet3:" and use in your preferred audio provider :)",new:{title:"New Task",content1:"This will create a new task from the current project.",content2:"The estimated points consumed will be ",content3:"The actual points used is subject to the server.",content4:"You may cancel the task before processing to get a full refund.",create:"Create a new task"}}},stationVariants:{title:"Station Variants",baseVariant:"Base Variant"},welcome:{title:"Welcome to the Rail Map Announcer",desc:"Here, you can create and generate customized line displays and announcements!",steps:"🚇 Complete in just 3 steps",step1:"Import your work from the Rail Map Generator (top-right)",step2:"Adjust details like door opening direction",step3:"Click 'Play' (top-right) to preview announcements",start:"We've prepared a sample project—close this window and start exploring! :)"},import:{title:"Import RMG Project",goodToGo:"All set! Import this RMG work now.",routes:"Select the route you want to import",services:"Select the service you want to import",service:{local:"Local",express:"Express",direct:"Direct"},import:"Import"}},ja={header:{about:{title:"关于",rma:"地铁线路图放送机",railmapgen:"地铁线路图工具包项目",desc:"",contributors:"贡献者",content1:"reflexion,allegretto,you",content2:"2024/02/21 于上海",contactUs:"联系我们",github:"项目仓库",githubContent:"遇到问题？在这里搜索或提交问题！",slack:"Slack群组",slackContent:"在这些Slack频道中聊天！"},donation:{title:"捐赠",openCollective:"Open Collective",viaUSD:"通过Paypal或Visa卡以美元捐赠。",afdian:"爱发电",viaCNY:"通过支付宝或微信支付以人民币捐赠。"},paly:{previewWarning:"对预览声音不满意？试试在导出音频中使用我们最新大模型生成的声音。"},open:{config:"导入项目",projectRMG:"从RMG项目导入",invalidType:"文件类型无效！只接受从RMA导出的文件。",unknownError:"解析上传文件时发生未知错误！请重试。"},download:{config:"导出项目",image:"导出图片",audio:"导出音频",format:"格式",png:"PNG",svg:"SVG",scale:"缩放比例",disabledScaleOptions:"由于浏览器的画布限制，某些缩放比例选项被禁用。",disabledScaleOptionsWorkarounds:"可能的解决方法包括使用此CLI工具从svg生成图片：",shareInfo1:"我将在分享此图片时附上",shareInfo2:"及其链接。",termsAndConditions:"条款和条件",termsAndConditionsInfo:"我同意",period:"。",confirm:"下载"},settings:{title:"设置",crawl:{title:"走字屏",scale:"缩放比例"},previewAudio:{title:"首选预览语音",notModified:"使用风格偏好","shmetro-zh":"上海地铁（普通话）","shmetro-en":"上海地铁（英语）"},telemetry:{title:"遥测",info:"为了帮助改进地铁线路图放送机并激励贡献者增强项目，通过Google Analytics收集匿名使用数据。这些数据仅用于增强用户体验和优化工具功能，绝不会与第三方共享。",essential:"基本",essentialTooltip:"在地铁线路图工具包中更改此全局设置",essentialInfo:"地铁线路图放送机收集基本使用数据，帮助我们了解用户如何以及何时与工具互动。请放心，绝不会收集任何个人身份信息或项目数据。",essentialLink:"点击此链接查看Google Analytics可能收集的详细字段。",additional:"附加",additionalInfo:"地铁线路图放送机还会在您输入时收集交互数据，例如项目创建或变体修改。这些附加数据也是匿名的，仅用于统计分析，以帮助我们改进工具。"}},audioTask:{title:"声音任务",desc:"我们致力于生成最自然的报站广播。为此，我们收集了数百分钟的官方广播录音并进行训练。欢迎体验由最新机器学习大模型提供的高质量广播！",note1:"请注意目前仅提供上海风格的报站广播。",note2:"由于算力限制，提交任务后请耐心等待，我们将尽力在30小时内处理完毕。",note3:"请及时下载保存您的作品，我们仅承诺保存30天内的数据。",audioNotSupported:"您的浏览器不支持音频播放。推荐使用Chrome或Firefox浏览器。",loginFirst:"请先登录以使用大模型生成音频。",topUp:"充值",table:{id:"ID",status:"状态",createdAt:"创建时间",updatedAt:"更新时间",points:"积分",actions:"操作"},freeInternet1:"我们相信自由开放的互联网。您也可以",freeInternet2:"下载原始文本",freeInternet3:"并在您喜欢的声音提供商中使用 :)",new:{title:"新任务",content1:"这将从当前项目创建一个新任务。",content2:"预计消耗的积分为",content3:"实际使用的积分以服务器为准。",content4:"您可以在处理前取消任务以获得全额退款。",create:"创建新任务"}}},stationVariants:{title:"车站变体",baseVariant:"基础变体"},welcome:{title:"欢迎来到地铁线路图放送机",desc:"在这里，您可以制作并生成专属于你的地铁线路走字屏和报站！",steps:"🚇 简单三步完成创作",step1:"右上角导入来自地铁线路图生成器的作品",step2:"修改诸如开门方向等的细节",step3:"点击右上角的播放预览报站音",start:"我们给你准备好了示例作品，关闭窗口后尽情体验吧 :)"},import:{title:"导入RMG作品",goodToGo:"一切就绪！立即导入此RMG作品。",routes:"选择要导入的路线",services:"选择要导入的班次类型",service:{local:"普通",express:"快速",direct:"直达"},import:"导入"}},Aa={header:{about:{title:"關於",rma:"地鐵線路圖放送機",railmapgen:"地鐵線路圖工具組專案",desc:"",contributors:"貢獻者",content1:"reflexion,allegretto,you",content2:"2024/02/21 於上海",contactUs:"聯絡我們",github:"項目倉庫",githubContent:"遇到任何問題？在這裡搜索或提出問題！",slack:"Slack 群組",slackContent:"在這些 Slack 頻道中聊天！"},donation:{title:"捐贈",openCollective:"Open Collective",viaUSD:"通過 Paypal 或 Visa 卡以美元捐贈。",afdian:"愛發電",viaCNY:"通過支付寶或微信支付以人民幣捐贈。"},paly:{previewWarning:"對預覽聲音不滿意？試試在導出音頻中使用我們最新大模型生成的聲音。"},open:{config:"導入項目",projectRMG:"從 RMG 項目導入",invalidType:"無效的文件類型！只接受從RMA匯出的檔案。",unknownError:"解析上傳文件時發生未知錯誤！請重試。"},download:{config:"導出項目",image:"導出圖片",audio:"導出音頻",format:"格式",png:"PNG",svg:"SVG",scale:"比例",disabledScaleOptions:"由於瀏覽器的畫布限制，某些比例選項已被禁用。",disabledScaleOptionsWorkarounds:"可能的解決方法包括使用此命令行工具從 svg 生成圖片：",shareInfo1:"我將在分享此圖片時附加 ",shareInfo2:" 及其鏈接。",termsAndConditions:"條款與條件",termsAndConditionsInfo:"我同意 ",period:"。",confirm:"下載"},settings:{title:"設置",crawl:{title:"走字螢幕",scale:"縮放比例"},previewAudio:{title:"首選預覽語音",notModified:"使用風格偏好","shmetro-zh":"上海地鐵（普通話）","shmetro-en":"上海地鐵（英語）"},telemetry:{title:"遙測",info:"為了幫助改進地鐵線路圖放送機並激勵貢獻者增強項目，通過 Google Analytics 收集匿名使用數據。這些數據僅用於增強用戶體驗和優化工具功能，絕不會與第三方共享。",essential:"基本",essentialTooltip:"在路綫圖工具組中更改此全局設置",essentialInfo:"地鐵線路圖放送機收集基本使用數據，幫助我們了解用戶如何以及何時與工具互動。請放心，絕不會收集任何個人身份信息或項目數據。",essentialLink:"點擊此鏈接查看 Google Analytics 可能收集的詳細字段。",additional:"附加",additionalInfo:"地鐵線路圖放送機還會收集互動數據，例如項目創建或變體修改時的輸入。這些附加數據也是匿名的，僅用於統計分析，以幫助我們改進工具。"}},audioTask:{title:"音頻任務",desc:"我們致力於生成最自然的報站廣播。為此，我們收集了數百分鐘的官方廣播錄音並進行訓練。歡迎體驗由最新機器學習大模型提供的高品質廣播！",note1:"請注意目前僅提供上海風格的報站廣播。",note2:"由於算力限制，提交任務後請耐心等待，我們將盡力在30小時內處理完畢。",note3:"請及時下載保存您的作品，我們僅承諾保存30天內的數據。",audioNotSupported:"您的瀏覽器不支援音頻播放。推薦使用Chrome或Firefox瀏覽器。",loginFirst:"請先登入以使用大模型生成音頻。",topUp:"充值",table:{id:"ID",status:"狀態",createdAt:"創建時間",updatedAt:"更新時間",points:"點數",actions:"操作"},freeInternet1:"我們相信自由開放的互聯網。您也可以 ",freeInternet2:"下載原始文本",freeInternet3:" 並在您喜歡的音頻提供商中使用 :)",new:{title:"新任務",content1:"這將從當前項目創建一個新任務。",content2:"預計消耗的點數為 ",content3:"實際使用的點數以服務器為準。",content4:"您可以在處理前取消任務以獲得全額退款。",create:"創建新任務"}}},stationVariants:{title:"車站變體",baseVariant:"基礎變體"},welcome:{title:"歡迎來到地鐵路綫圖放送機",desc:"在這裡，您可以製作專屬的地鐵路綫走馬燈與報站廣播！",steps:"🚇 簡單三步驟完成",step1:"從右上角匯入「地鐵路綫圖產生器」的作品",step2:"調整開門方向等細節",step3:"點擊右上角「播放」預覽報站音",start:"我們已準備好示例作品，關閉此視窗即可開始體驗！ :)"},import:{title:"匯入RMG作品",goodToGo:"準備完成！立即匯入此RMG作品。",routes:"選擇要匯入的路線",services:"選擇要匯入的班次類型",service:{local:"普通車",express:"快速車",direct:"直達車"},import:"匯入"}},Ra={header:{about:{title:"について",rma:"地下鉄路線図放送機",railmapgen:"地下鉄路線図工具一式プロジェクト",desc:"",contributors:"貢献者",content1:"reflexion,allegretto,you",content2:"2024/02/21 上海にて",contactUs:"お問い合わせ",github:"プロジェクトリポジトリ",githubContent:"問題が発生しましたか？ここで検索またはイシューを提起してください！",slack:"Slackグループ",slackContent:"これらのSlackチャンネルでチャットしてください！"},donation:{title:"寄付",openCollective:"Open Collective",viaUSD:"PaypalまたはVisaカードでUSDで寄付してください。",afdian:"爱发电",viaCNY:"AlipayまたはWechat PayでCNYで寄付してください。"},paly:{previewWarning:"プレビューの音声に満足できないですか？エクスポート音声で私たちの最新AIが生成した音声をお試しください。"},open:{config:"プロジェクトをインポート",projectRMG:"RMGプロジェクトからインポート",invalidType:"無効なファイルタイプです！RMAからエクスポートされたファイルのみが受け入れられます。",unknownError:"アップロードされたファイルの解析中に不明なエラーが発生しました！もう一度お試しください。"},download:{config:"プロジェクトをエクスポート",image:"画像をエクスポート",audio:"音声をエクスポート",format:"フォーマット",png:"PNG",svg:"SVG",scale:"スケール",disabledScaleOptions:"ブラウザのキャンバス制限により、一部のスケールオプションは無効です。",disabledScaleOptionsWorkarounds:"可能な回避策としては、このCLIツールを使用してSVGから画像を生成することがあります: ",shareInfo1:"この画像を共有する際に ",shareInfo2:" とそのリンクを添付します。",termsAndConditions:"利用規約",termsAndConditionsInfo:"私は以下に同意します ",period:"。",confirm:"ダウンロード"},settings:{title:"設定",crawl:{title:"ドットマトリクス文字",scale:"スケール"},previewAudio:{title:"優先プレビュー音声",notModified:"風格設定を使用","shmetro-zh":"上海地下鉄（普通話）","shmetro-en":"上海地下鉄（英語）"},telemetry:{title:"テレメトリ",info:"地下鉄路線図放送機を改善し、貢献者がプロジェクトを強化する意欲を維持するために、Google Analyticsを通じて匿名の使用データが収集されます。このデータはユーザーエクスペリエンスの向上とツールの機能最適化にのみ使用され、第三者と共有されることはありません。",essential:"基本",essentialTooltip:"このグローバル設定は路線図ツールキットで変更できます",essentialInfo:"地下鉄路線図放送機は、ユーザーがツールとどのように、いつ相互作用するかを理解するのに役立つ基本的な使用データを収集します。安心してください、個人を特定できる情報やプロジェクトのデータは一切収集されません。",essentialLink:"このリンクをクリックして、Google Analyticsが収集する可能性のある詳細なフィールドを確認してください。",additional:"追加",additionalInfo:"地下鉄路線図放送機は、入力時にプロジェクトの作成やバリアントの変更などの相互作用に関するデータも収集します。これらの追加データも匿名であり、統計分析にのみ使用され、ツールをより良くするのに役立ちます。"}},audioTask:{title:"音声タスク",desc:"私たちは最も自然な駅案内放送の生成に取り組んでいます。このため、数百分間の公式放送を収集し、トレーニングを行いました。最新の機械学習モデルが提供する高品質な放送をお楽しみください！",note1:"現在提供しているのは上海スタイルの駅案内放送のみとなります。",note2:"計算リソースに制限があるため、タスク送信後はお待ちください。30時間以内に処理を完了するよう最善を尽くします。",note3:"作成された作品はお早めにダウンロードして保存してください。データの保存期間は30日間のみとさせていただきます。",audioNotSupported:"お使いのブラウザでは音声再生がサポートされていません。ChromeまたはFirefoxの使用を推奨します。",loginFirst:"最初にログインして、AIで音声を生成してください。",topUp:"チャージ",table:{id:"ID",status:"ステータス",createdAt:"作成日",updatedAt:"更新日",points:"ポイント",actions:"操作"},freeInternet1:"私たちは自由でオープンなインターネットを信じています。また、",freeInternet2:"生のテキストをダウンロード",freeInternet3:"して、お気に入りの音声プロバイダーで使用することもできます :)",new:{title:"新しいタスク",content1:"これにより、現在のプロジェクトから新しいタスクが作成されます。",content2:"推定されるポイント消費量は ",content3:"実際に使用されるポイントはサーバーに依存します。",content4:"処理前にタスクをキャンセルすると、全額返金されます。",create:"新しいタスクを作成"}}},stationVariants:{title:"駅バリアント",baseVariant:"基本バリアント"},welcome:{title:"地下鉄路線図放送機へようこそ",desc:"ここでは、オリジナルの地下鉄路線表示とアナウンスを作成できます！",steps:"🚇 3ステップで簡単作成",step1:"右上の「地下鉄路線図ジェネレータ」から作品をインポート",step2:"ドア開閉方向などの詳細を調整",step3:"右上の「再生」でアナウンスを試聴",start:"サンプル作品を用意しました。この画面を閉じてお試しください！ :)"},import:{title:"RMG作品をインポート",goodToGo:"準備完了！このRMG作品をインポートします。",routes:"インポートする路線を選択",services:"インポートする列車種別を選択",service:{local:"普通列車",express:"快速列車",direct:"直通列車"},import:"インポート"}},Na={header:{about:{title:"소개",rma:"철도 노선도 방송 기계",railmapgen:"노선도 툴킷 프로젝트",desc:"",contributors:"기여자",content1:"reflexion,allegretto,you",content2:"2024/02/21 상하이",contactUs:"문의하기",github:"프로젝트 저장소",githubContent:"문제가 있나요? 여기서 검색하거나 이슈를 등록하세요!",slack:"Slack 그룹",slackContent:"이 Slack 채널에서 채팅하세요!"},donation:{title:"기부",openCollective:"Open Collective",viaUSD:"Paypal 또는 Visa 카드로 USD로 기부하세요.",afdian:"爱发电",viaCNY:"Alipay 또는 Wechat Pay로 CNY로 기부하세요."},paly:{previewWarning:"미리보기 음성에 만족하지 못하셨나요? 내보내기 오디오에서 우리의 최신 AI가 생성한 음성을 시도해 보세요."},open:{config:"프로젝트 가져오기",projectRMG:"RMG 프로젝트에서 가져오기",invalidType:"잘못된 파일 형식입니다! RMA에서 내보낸 파일만 허용됩니다.",unknownError:"업로드한 파일을 파싱하는 중 알 수 없는 오류가 발생했습니다! 다시 시도해 주세요."},download:{config:"프로젝트 내보내기",image:"이미지 내보내기",audio:"오디오 내보내기",format:"형식",png:"PNG",svg:"SVG",scale:"스케일",disabledScaleOptions:"일부 스케일 옵션은 브라우저의 캔버스 제한으로 인해 비활성화되었습니다.",disabledScaleOptionsWorkarounds:"가능한 해결 방법으로는 이 CLI 도구를 사용하여 SVG에서 이미지를 생성하는 것이 있습니다: ",shareInfo1:"이 이미지를 공유할 때 ",shareInfo2:" 및 해당 링크를 첨부할 것입니다.",termsAndConditions:"이용 약관",termsAndConditionsInfo:"나는 다음에 동의합니다: ",period:".",confirm:"다운로드"},settings:{title:"설정",crawl:{title:"도트 매트릭스 문자",scale:"스케일"},previewAudio:{title:"선호 미리보기 음성",notModified:"스타일 설정 사용","shmetro-zh":"상하이 지하철 (보통화)","shmetro-en":"상하이 지하철 (영어)"},telemetry:{title:"원격 측정",info:"지하철 노선도 안내원을 개선하고 기여자들이 프로젝트를 개선할 동기를 유지하기 위해 Google Analytics를 통해 익명의 사용 데이터를 수집합니다. 이 데이터는 사용자 경험을 향상시키고 도구의 기능을 최적화하는 데만 사용되며 제3자와 공유되지 않습니다.",essential:"기본",essentialTooltip:"이 전역 설정은 노선도 툴킷에서 변경하세요",essentialInfo:"지하철 노선도 안내원은 사용자가 도구와 상호 작용하는 방식과 시기를 이해하는 데 도움이 되는 기본 사용 데이터를 수집합니다. 안심하세요, 개인 식별 정보나 프로젝트 데이터는 절대 수집되지 않습니다.",essentialLink:"Google Analytics가 수집할 수 있는 상세 필드를 보려면 이 링크를 클릭하세요.",additional:"추가",additionalInfo:"지하철 노선도 안내원은 또한 프로젝트 생성 또는 변형 수정과 같은 상호 작용에 대한 데이터를 수집합니다. 이 추가 데이터도 익명이며 통계 분석을 위해 사용되어 도구를 개선하는 데 도움을 줍니다."}},audioTask:{title:"오디오 작업",desc:"우리는 가장 자연스러운 역 안내 방송 생성을 위해 노력하고 있습니다. 이를 위해 수백 분 분량의 공식 방송을 수집하여 학습시켰습니다. 최신 머신러닝 대형 모델이 제공하는 고품질 방송을 경험해 보세요!",note1:"현재 상하이 스타일의 역 안내 방송만 제공됩니다.",note2:"계산 자원 제한으로 인해 작업 제출 후 잠시 기다려 주시기 바랍니다. 30시간 이내에 처리 완료할 수 있도록 최선을 다하겠습니다.",note3:"작품은 반드시 다운로드하여 저장해 주시기 바랍니다. 데이터는 30일 동안만 보관됩니다.",audioNotSupported:"현재 브라우저에서는 오디오 재생을 지원하지 않습니다.Chrome 또는 Firefox 브라우저 사용을 권장합니다.",loginFirst:"먼저 로그인하여 AI로 오디오를 생성하세요.",topUp:"충전",table:{id:"ID",status:"상태",createdAt:"생성일",updatedAt:"수정일",points:"포인트",actions:"작업"},freeInternet1:"우리는 자유롭고 개방된 인터넷을 믿습니다. 또한 ",freeInternet2:"원본 텍스트 다운로드",freeInternet3:" 를 통해 선호하는 오디오 제공자를 사용할 수 있습니다 :)",new:{title:"새 작업",content1:"이 작업은 현재 프로젝트에서 새 작업을 생성합니다.",content2:"예상 소모 포인트는 ",content3:"실제 사용 포인트는 서버에 따라 다릅니다.",content4:"처리 전 작업을 취소하면 전액 환불받을 수 있습니다.",create:"새 작업 생성"}}},stationVariants:{title:"역 변형",baseVariant:"기본 변형"},welcome:{title:"철도 노선도 방송 기계에 오신 것을 환영합니다",desc:"여기서 나만의 지하철 노선 디스플레이와 안내 방송을 만들 수 있습니다!",steps:"🚇 3단계로 간편하게 완성",step1:"오른쪽 상단에서 '철도 노선도 생성기' 작품 불러오기",step2:"문 열림 방향 등 세부 설정 수정",step3:"오른쪽 상단 '재생'으로 안내 방송 미리듣기",start:"예시 프로젝트를 준비했어요. 이 창을 닫고 시작해 보세요! :)"},import:{title:"RMG 프로젝트 가져오기",goodToGo:"모든 준비 완료! 이 RMG 작품을 지금 가져옵니다.",routes:"가져올 노선 선택",services:"가져올 열차 종류 선택",service:{local:"일반 열차",express:"급행 열차",direct:"직통 열차"},import:"가져오기"}},La=(new Fn.I18nBuilder).use($e).withAppName("Rail Map Announcer").withLng(Fn.getLanguage()).withResource("en",ka).withResource("zh-Hans",ja).withResource("zh-Hant",Aa).withResource("ja",Ra).withResource("ko",Na).build(),Ia={version:1,style:"shmetro",baseVariants:{arr:{"shmetro-wuu":{terminal:"莘庄",terminalPinyin:"莘庄",doorDirection:"left"},"shmetro-zh":{terminal:"莘庄",terminalPinyin:"莘庄",doorDirection:"left"},"shmetro-en":{terminal:"Xinzhuang",terminalPinyin:"Xinzhuang",doorDirection:"left"}},dep:{"shmetro-wuu":{terminal:"莘庄",terminalPinyin:"莘庄",nextDoorDirection:"left",lineName:"1号线",lineNamePinyin:"1号线",noteLastTrain:!0,loop:"none",loopTerminal:!1,service:"local"},"shmetro-zh":{terminal:"莘庄",terminalPinyin:"莘庄",nextDoorDirection:"left",lineName:"1号线",lineNamePinyin:"1号线",noteLastTrain:!0,loop:"none",loopTerminal:!1,service:"local"},"shmetro-en":{terminal:"Xinzhuang",terminalPinyin:"Xinzhuang",nextDoorDirection:"left",lineName:"Line 1",lineNamePinyin:"Line 1",service:"local"}},mdw:{"shmetro-wuu":{caution:!1},"shmetro-zh":{caution:!1},"shmetro-en":{}}},stations:{sd6y:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},dep:{"shmetro-wuu":{next:"汉中路",nextPinyin:"汉中路",int:[["12号线","13号线"]]},"shmetro-zh":{next:"汉中路",nextPinyin:"汉中路",int:[["12号线","13号线"]]},"shmetro-en":{welcomeAbroad:!1,next:"Hanzhong Road",nextPinyin:"Hanzhong Road",int:[["Line 12","Line 13"]],noteLastTrain:!1}}},qnbj:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"汉中路",namePinyin:"汉中路"},"shmetro-zh":{name:"汉中路",namePinyin:"汉中路"},"shmetro-en":{name:"Hanzhong Road",namePinyin:"Hanzhong Road"}},dep:{"shmetro-wuu":{next:"新闸路",nextPinyin:"新闸路",int:[]},"shmetro-zh":{next:"新闸路",nextPinyin:"新闸路",int:[]},"shmetro-en":{welcomeAbroad:!1,next:"XinZha Road",nextPinyin:"XinZha Road",int:[],noteLastTrain:!1}}},"7x7k":{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"新闸路",namePinyin:"新闸路"},"shmetro-zh":{name:"新闸路",namePinyin:"新闸路"},"shmetro-en":{name:"XinZha Road",namePinyin:"XinZha Road"}},dep:{"shmetro-wuu":{next:"人民广场",nextPinyin:"人民广场",int:[["2号线","8号线"]]},"shmetro-zh":{next:"人民广场",nextPinyin:"人民广场",int:[["2号线","8号线"]]},"shmetro-en":{welcomeAbroad:!1,next:"People's Square",nextPinyin:"People's Square",int:[["Line 2","Line 8"]],noteLastTrain:!1}}},kaxg:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"人民广场",namePinyin:"人民广场"},"shmetro-zh":{name:"人民广场",namePinyin:"人民广场"},"shmetro-en":{name:"People's Square",namePinyin:"People's Square"}},dep:{"shmetro-wuu":{next:"一大会址·黄陂南路",nextPinyin:"一大会址·黄陂南路",int:[["14号线"]]},"shmetro-zh":{next:"一大会址·黄陂南路",nextPinyin:"一大会址·黄陂南路",int:[["14号线"]]},"shmetro-en":{welcomeAbroad:!1,next:"Site of the First CPC National Congress · South Huangpi Road",nextPinyin:"Site of the First CPC National Congress · South Huangpi Road",int:[["Line 14"]],noteLastTrain:!1}}},wbtv:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"一大会址·黄陂南路",namePinyin:"一大会址·黄陂南路"},"shmetro-zh":{name:"一大会址·黄陂南路",namePinyin:"一大会址·黄陂南路"},"shmetro-en":{name:"Site of the First CPC National Congress · South Huangpi Road",namePinyin:"Site of the First CPC National Congress · South Huangpi Road"}},dep:{"shmetro-wuu":{next:"陕西南路",nextPinyin:"陕西南路",int:[["10号线","12号线"]]},"shmetro-zh":{next:"陕西南路",nextPinyin:"陕西南路",int:[["10号线","12号线"]]},"shmetro-en":{welcomeAbroad:!1,next:"South Shaanxi Road",nextPinyin:"South Shaanxi Road",int:[["Line 10","Line 12"]],noteLastTrain:!1}}},jjh7:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"陕西南路",namePinyin:"陕西南路"},"shmetro-zh":{name:"陕西南路",namePinyin:"陕西南路"},"shmetro-en":{name:"South Shaanxi Road",namePinyin:"South Shaanxi Road"}},dep:{"shmetro-wuu":{next:"常熟路",nextPinyin:"常熟路",int:[["7号线"]]},"shmetro-zh":{next:"常熟路",nextPinyin:"常熟路",int:[["7号线"]]},"shmetro-en":{welcomeAbroad:!1,next:"Changshu Road",nextPinyin:"Changshu Road",int:[["Line 7"]],noteLastTrain:!1}}},h3vs:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"常熟路",namePinyin:"常熟路"},"shmetro-zh":{name:"常熟路",namePinyin:"常熟路"},"shmetro-en":{name:"Changshu Road",namePinyin:"Changshu Road"}},dep:{"shmetro-wuu":{next:"衡山路",nextPinyin:"衡山路",int:[]},"shmetro-zh":{next:"衡山路",nextPinyin:"衡山路",int:[]},"shmetro-en":{welcomeAbroad:!1,next:"Hengshan Road",nextPinyin:"Hengshan Road",int:[],noteLastTrain:!1}}},lcgp:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"衡山路",namePinyin:"衡山路"},"shmetro-zh":{name:"衡山路",namePinyin:"衡山路"},"shmetro-en":{name:"Hengshan Road",namePinyin:"Hengshan Road"}},dep:{"shmetro-wuu":{next:"徐家汇",nextPinyin:"徐家汇",int:[["9号线","11号线"]]},"shmetro-zh":{next:"徐家汇",nextPinyin:"徐家汇",int:[["9号线","11号线"]]},"shmetro-en":{welcomeAbroad:!1,next:"Xujiahui",nextPinyin:"Xujiahui",int:[["Line 9","Line 11"]],noteLastTrain:!1}}},j2kn:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"徐家汇",namePinyin:"徐家汇"},"shmetro-zh":{name:"徐家汇",namePinyin:"徐家汇"},"shmetro-en":{name:"Xujiahui",namePinyin:"Xujiahui"}},dep:{"shmetro-wuu":{next:"上海体育馆",nextPinyin:"上海体育馆",int:[["4号线"]]},"shmetro-zh":{next:"上海体育馆",nextPinyin:"上海体育馆",int:[["4号线"]]},"shmetro-en":{welcomeAbroad:!1,next:"Shanghai Indoor Stadium",nextPinyin:"Shanghai Indoor Stadium",int:[["Line 4"]],noteLastTrain:!1}}},k9k5:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"上海体育馆",namePinyin:"上海体育馆"},"shmetro-zh":{name:"上海体育馆",namePinyin:"上海体育馆"},"shmetro-en":{name:"Shanghai Indoor Stadium",namePinyin:"Shanghai Indoor Stadium"}},dep:{"shmetro-wuu":{next:"漕宝路",nextPinyin:"漕宝路",int:[["12号线"]]},"shmetro-zh":{next:"漕宝路",nextPinyin:"漕宝路",int:[["12号线"]]},"shmetro-en":{welcomeAbroad:!1,next:"Caobao Road",nextPinyin:"Caobao Road",int:[["Line 12"]],noteLastTrain:!1}}},x9gu:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"漕宝路",namePinyin:"漕宝路"},"shmetro-zh":{name:"漕宝路",namePinyin:"漕宝路"},"shmetro-en":{name:"Caobao Road",namePinyin:"Caobao Road"}},dep:{"shmetro-wuu":{next:"上海南站",nextPinyin:"上海南站",int:[["3号线","15号线"],["金山铁路"]]},"shmetro-zh":{next:"上海南站",nextPinyin:"上海南站",int:[["3号线","15号线"],["金山铁路"]]},"shmetro-en":{welcomeAbroad:!1,next:"Shanghai South Railway Station",nextPinyin:"Shanghai South Railway Station",int:[["Line 3","Line 15"],["Jingshan Railway"]],noteLastTrain:!1}}},srpy:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"上海南站",namePinyin:"上海南站"},"shmetro-zh":{name:"上海南站",namePinyin:"上海南站"},"shmetro-en":{name:"Shanghai South Railway Station",namePinyin:"Shanghai South Railway Station"}},dep:{"shmetro-wuu":{next:"锦江乐园",nextPinyin:"锦江乐园",int:[]},"shmetro-zh":{next:"锦江乐园",nextPinyin:"锦江乐园",int:[]},"shmetro-en":{welcomeAbroad:!1,next:"JinJiang Park",nextPinyin:"JinJiang Park",int:[],noteLastTrain:!1}}},jsat:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"锦江乐园",namePinyin:"锦江乐园"},"shmetro-zh":{name:"锦江乐园",namePinyin:"锦江乐园"},"shmetro-en":{name:"JinJiang Park",namePinyin:"JinJiang Park"}},dep:{"shmetro-wuu":{next:"莲花路",nextPinyin:"莲花路",int:[]},"shmetro-zh":{next:"莲花路",nextPinyin:"莲花路",int:[]},"shmetro-en":{welcomeAbroad:!1,next:"Lianhua Road ",nextPinyin:"Lianhua Road ",int:[],noteLastTrain:!1}}},qzjx:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"莲花路",namePinyin:"莲花路"},"shmetro-zh":{name:"莲花路",namePinyin:"莲花路"},"shmetro-en":{name:"Lianhua Road ",namePinyin:"Lianhua Road "}},dep:{"shmetro-wuu":{next:"外环路",nextPinyin:"外环路",int:[]},"shmetro-zh":{next:"外环路",nextPinyin:"外环路",int:[]},"shmetro-en":{welcomeAbroad:!1,next:"Waihuanlu",nextPinyin:"Waihuanlu",int:[],noteLastTrain:!1}}},l1mz:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"外环路",namePinyin:"外环路"},"shmetro-zh":{name:"外环路",namePinyin:"外环路"},"shmetro-en":{name:"Waihuanlu",namePinyin:"Waihuanlu"}},dep:{"shmetro-wuu":{next:"莘庄",nextPinyin:"莘庄",int:[["5号线"]]},"shmetro-zh":{next:"莘庄",nextPinyin:"莘庄",int:[["5号线"]]},"shmetro-en":{welcomeAbroad:!1,next:"Xinzhuang",nextPinyin:"Xinzhuang",int:[["Line 5"]],noteLastTrain:!1}}},iwf6:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"莘庄",namePinyin:"莘庄"},"shmetro-zh":{name:"莘庄",namePinyin:"莘庄"},"shmetro-en":{name:"Xinzhuang",namePinyin:"Xinzhuang"}}}},metadata:{sd6y:{name:"上海火车站"},qnbj:{name:"汉中路"},"7x7k":{name:"新闸路"},kaxg:{name:"人民广场"},wbtv:{name:"一大会址·黄陂南路"},jjh7:{name:"陕西南路"},h3vs:{name:"常熟路"},lcgp:{name:"衡山路"},j2kn:{name:"徐家汇"},k9k5:{name:"上海体育馆"},x9gu:{name:"漕宝路"},srpy:{name:"上海南站"},jsat:{name:"锦江乐园"},qzjx:{name:"莲花路"},l1mz:{name:"外环路"},iwf6:{name:"莘庄"}}};var Ma=(e=>(e.NextStopTerminal="NextStopTerminal",e.TerminalAllGetOffLeft="TerminalAllGetOffLeft",e.TerminalAllGetOffRight="TerminalAllGetOffRight",e.Arrive="Arrive",e.DoorOpenLeft="DoorOpenLeft",e.DoorOpenRight="DoorOpenRight",e.TheTerminalOfThisTrain="TheTerminalOfThisTrain",e.NextStop="NextStop",e.InterchangeAvailable="InterchangeAvailable",e.OutOfStationInterchangeAvailable="OutOfStationInterchangeAvailable",e.OutOfStationInterchangeAvailableEnglish2="OutOfStationInterchangeAvailableEnglish2",e.OutOfSystemInterchangeAvailable="OutOfSystemInterchangeAvailable",e.NoteLastTrain="NoteLastTrain",e.LeaveLoveSeat="LeaveLoveSeat",e.Caution="Caution",e.Loop="Loop",e.InnerLoop="InnerLoop",e.OuterLoop="OuterLoop",e.BranchTerminal1="BranchTerminal1",e.BranchTerminal2="BranchTerminal2",e.BranchTerminalEnglish="BranchTerminalEnglish",e.ServiceExpress="ServiceExpress",e.ServiceDirect="ServiceDirect",e.Stopovers1="Stopovers1",e.Stopovers2="Stopovers2",e.Stopovers3="Stopovers3",e))(Ma||{});const Ea={[or.Arrival]:{[nr.ChineseMandarinSimplified]:{NextStopTerminal:{type:Xo.Predefined,voiceName:nr.ChineseMandarinSimplified,text:"终点站",pinyin:"终点站",rate:"+18.00%"},Arrive:{type:Xo.Predefined,voiceName:nr.ChineseMandarinSimplified,text:"到了",pinyin:"到了",rate:"+18.00%"},TerminalAllGetOffLeft:{type:Xo.Predefined,voiceName:nr.ChineseMandarinSimplified,text:"请全体乘客在屏蔽门完全打开后，从左边车门下车。",pinyin:"请全体乘客在屏蔽门完全打开后，从左边车门下车。",rate:"+18.00%"},TerminalAllGetOffRight:{type:Xo.Predefined,voiceName:nr.ChineseMandarinSimplified,text:"请全体乘客在屏蔽门完全打开后，从右边车门下车。",pinyin:"请全体乘客在屏蔽门完全打开后，从右边车门下车。",rate:"+18.00%"},DoorOpenLeft:{type:Xo.Predefined,voiceName:nr.ChineseMandarinSimplified,text:"开左边门",pinyin:"开左边门",rate:"+18.00%"},DoorOpenRight:{type:Xo.Predefined,voiceName:nr.ChineseMandarinSimplified,text:"开右边门",pinyin:"开右边门",rate:"+18.00%"}},[nr.ChineseWuSimplifiedXiaotong]:{NextStopTerminal:{type:Xo.Predefined,voiceName:nr.ChineseWuSimplifiedXiaotong,text:"终点站",rate:"+18.00%",pinyin:"终点站"},Arrive:{type:Xo.Predefined,voiceName:nr.ChineseWuSimplifiedXiaotong,text:"到了",pinyin:"到了",rate:"+18.00%"},TerminalAllGetOffLeft:{type:Xo.Predefined,voiceName:nr.ChineseWuSimplifiedXiaotong,text:"请所有乘客勒屏蔽门完全打开后，从左边车门下车。",pinyin:"请所有乘客勒屏蔽门完全打开后，从左边车门下车。",rate:"+18.00%"},TerminalAllGetOffRight:{type:Xo.Predefined,voiceName:nr.ChineseWuSimplifiedXiaotong,text:"请所有乘客勒屏蔽门完全打开后，从右边车门下车。",pinyin:"请所有乘客勒屏蔽门完全打开后，从右边车门下车。",rate:"+18.00%"},DoorOpenLeft:{type:Xo.Predefined,voiceName:nr.ChineseWuSimplifiedXiaotong,text:"开左边门",pinyin:"开左边门",rate:"+18.00%"},DoorOpenRight:{type:Xo.Predefined,voiceName:nr.ChineseWuSimplifiedXiaotong,text:"开右边门",pinyin:"开右边门",rate:"+18.00%"}},[nr.ChineseWuSimplifiedYunzhe]:{NextStopTerminal:{type:Xo.Predefined,voiceName:nr.ChineseWuSimplifiedYunzhe,text:"the terminal station",pinyin:"the terminal station"},Arrive:{type:Xo.Predefined,voiceName:nr.ChineseWuSimplifiedYunzhe,text:"We are now at",pinyin:"We are now at"},TerminalAllGetOffLeft:{type:Xo.Predefined,voiceName:nr.ChineseWuSimplifiedYunzhe,text:"Please get ready to the exit from the left side. ",pinyin:"Please get ready to the exit from the left side. "},TerminalAllGetOffRight:{type:Xo.Predefined,voiceName:nr.ChineseWuSimplifiedYunzhe,text:"Please get ready to the exit from the right side. ",pinyin:"Please get ready to the exit from the right side. "},DoorOpenLeft:{type:Xo.Predefined,voiceName:nr.ChineseWuSimplifiedYunzhe,text:"Doors will open on the left",pinyin:"Doors will open on the left"},DoorOpenRight:{type:Xo.Predefined,voiceName:nr.ChineseWuSimplifiedYunzhe,text:"Doors will open on the right",pinyin:"Doors will open on the right"}}},[or.Departure]:{[nr.ChineseMandarinSimplified]:{TheTerminalOfThisTrain:{type:Xo.Predefined,voiceName:nr.ChineseMandarinSimplified,text:"本次列车终点站",pinyin:"本次列车终点站",rate:"+18.00%"},InnerLoop:{type:Xo.Predefined,voiceName:nr.ChineseMandarinSimplified,text:"本次列车内圈运行",pinyin:"本次列车内圈运行",rate:"+18.00%"},OuterLoop:{type:Xo.Predefined,voiceName:nr.ChineseMandarinSimplified,text:"本次列车外圈运行",pinyin:"本次列车外圈运行",rate:"+18.00%"},Loop:{type:Xo.Predefined,voiceName:nr.ChineseMandarinSimplified,text:"本线为环线",pinyin:"本线为环线",rate:"+18.00%"},NextStop:{type:Xo.Predefined,voiceName:nr.ChineseMandarinSimplified,text:"下一站",pinyin:"下一站",rate:"+18.00%"},NextStopTerminal:{type:Xo.Predefined,voiceName:nr.ChineseMandarinSimplified,text:"终点站",pinyin:"终点站",rate:"+18.00%"},DoorOpenLeft:{type:Xo.Predefined,voiceName:nr.ChineseMandarinSimplified,text:"开左边门",pinyin:"开左边门",rate:"+18.00%"},DoorOpenRight:{type:Xo.Predefined,voiceName:nr.ChineseMandarinSimplified,text:"开右边门",pinyin:"开右边门",rate:"+18.00%"},InterchangeAvailable:{type:Xo.Predefined,voiceName:nr.ChineseMandarinSimplified,text:"可换乘",pinyin:"可换乘",rate:"+18.00%",contour:"(50%, +0%) (100%, +30%)"},OutOfStationInterchangeAvailable:{type:Xo.Predefined,voiceName:nr.ChineseMandarinSimplified,text:"手持交通卡的乘客，可在出站后30分钟内，免费换乘",pinyin:"手持交通卡的乘客，可在出站后30分钟内，免费换乘",rate:"+18.00%",contour:"(50%, +0%) (100%, +30%)"},OutOfSystemInterchangeAvailable:{type:Xo.Predefined,voiceName:nr.ChineseMandarinSimplified,text:"可转乘",pinyin:"可转乘",rate:"+18.00%",contour:"(50%, +0%) (100%, +30%)"},NoteLastTrain:{type:Xo.Predefined,voiceName:nr.ChineseMandarinSimplified,text:"请注意换乘列车的首末班车时间。",pinyin:"请注意换乘列车的首末班车时间。",rate:"+18.00%"},BranchTerminal1:{type:Xo.Predefined,voiceName:nr.ChineseMandarinSimplified,text:"要往",pinyin:"要往",rate:"+18.00%"},BranchTerminal2:{type:Xo.Predefined,voiceName:nr.ChineseMandarinSimplified,text:"方向的乘客，请在本站下车后换乘",pinyin:"方向的乘客，请在本站下车后换乘",rate:"+18.00%"},ServiceExpress:{type:Xo.Predefined,voiceName:nr.ChineseMandarinSimplified,text:"本次列车是大站车。",pinyin:"本次列车是大站车。",rate:"+18.00%"},ServiceDirect:{type:Xo.Predefined,voiceName:nr.ChineseMandarinSimplified,text:"本次列车是直达车。",pinyin:"本次列车是直达车。",rate:"+18.00%"},Stopovers1:{type:Xo.Predefined,voiceName:nr.ChineseMandarinSimplified,text:"中途停靠",pinyin:"中途停靠",rate:"+18.00%"},Stopovers2:{type:Xo.Predefined,voiceName:nr.ChineseMandarinSimplified,text:"到其他车站的乘客，请在",pinyin:"到其他车站的乘客，请在",rate:"+18.00%"},Stopovers3:{type:Xo.Predefined,voiceName:nr.ChineseMandarinSimplified,text:"换乘",pinyin:"换乘",rate:"+18.00%"}},[nr.ChineseWuSimplifiedXiaotong]:{TheTerminalOfThisTrain:{type:Xo.Predefined,voiceName:nr.ChineseWuSimplifiedXiaotong,text:"本趟列车额终点站是",pinyin:"本趟列车额终点站是",rate:"+18.00%"},InnerLoop:{type:Xo.Predefined,voiceName:nr.ChineseMandarinSimplified,text:"本趟列车内圈运行",pinyin:"本趟列车内圈运行",rate:"+18.00%"},OuterLoop:{type:Xo.Predefined,voiceName:nr.ChineseMandarinSimplified,text:"本趟列车外圈运行",pinyin:"本趟列车外圈运行",rate:"+18.00%"},Loop:{type:Xo.Predefined,voiceName:nr.ChineseMandarinSimplified,text:"本线为环线",pinyin:"本线为环线",rate:"+18.00%"},NextStop:{type:Xo.Predefined,voiceName:nr.ChineseWuSimplifiedXiaotong,text:"下一站",pinyin:"下一站",rate:"+18.00%"},NextStopTerminal:{type:Xo.Predefined,voiceName:nr.ChineseWuSimplifiedXiaotong,text:"终点站",pinyin:"终点站",rate:"+18.00%"},DoorOpenLeft:{type:Xo.Predefined,voiceName:nr.ChineseWuSimplifiedXiaotong,text:"开左边门",pinyin:"开左边门",rate:"+18.00%"},DoorOpenRight:{type:Xo.Predefined,voiceName:nr.ChineseWuSimplifiedXiaotong,text:"开右边门",pinyin:"开右边门",rate:"+18.00%"},InterchangeAvailable:{type:Xo.Predefined,voiceName:nr.ChineseWuSimplifiedXiaotong,text:"可以换乘",pinyin:"可以换乘",rate:"+18.00%",contour:"(50%, +0%) (100%, +30%)"},OutOfStationInterchangeAvailable:{type:Xo.Predefined,voiceName:nr.ChineseWuSimplifiedXiaotong,text:"拿着交通卡的乘客，好勒出站后30分钟内，免费换乘",pinyin:"拿着交通卡的乘客，好勒出站后30分钟内，免费换乘",rate:"+18.00%",contour:"(50%, +0%) (100%, +30%)"},OutOfSystemInterchangeAvailable:{type:Xo.Predefined,voiceName:nr.ChineseWuSimplifiedXiaotong,text:"可以转乘",pinyin:"可以转乘",rate:"+18.00%",contour:"(50%, +0%) (100%, +30%)"},NoteLastTrain:{type:Xo.Predefined,voiceName:nr.ChineseWuSimplifiedXiaotong,text:"请注意换乘列车额首末班车辰光。",pinyin:"请注意换乘列车额首末班车辰光。",rate:"+18.00%"},BranchTerminal1:{type:Xo.Predefined,voiceName:nr.ChineseWuSimplifiedXiaotong,text:"要往",pinyin:"要往",rate:"+18.00%"},BranchTerminal2:{type:Xo.Predefined,voiceName:nr.ChineseWuSimplifiedXiaotong,text:"方向的乘客，请勒本站下车后调车",pinyin:"方向的乘客，请勒本站下车后调车",rate:"+18.00%"},ServiceExpress:{type:Xo.Predefined,voiceName:nr.ChineseMandarinSimplified,text:"本趟列车是大站车。",pinyin:"本趟列车是大站车。",rate:"+18.00%"},ServiceDirect:{type:Xo.Predefined,voiceName:nr.ChineseMandarinSimplified,text:"本趟列车是直达车。",pinyin:"本趟列车是直达车。",rate:"+18.00%"},Stopovers1:{type:Xo.Predefined,voiceName:nr.ChineseMandarinSimplified,text:"中途停靠",pinyin:"中途停靠",rate:"+18.00%"},Stopovers2:{type:Xo.Predefined,voiceName:nr.ChineseMandarinSimplified,text:"到其他车站的乘客，请勒",pinyin:"到其他车站的乘客，请勒",rate:"+18.00%"},Stopovers3:{type:Xo.Predefined,voiceName:nr.ChineseMandarinSimplified,text:"换乘",pinyin:"换乘",rate:"+18.00%"}},[nr.ChineseWuSimplifiedYunzhe]:{TheTerminalOfThisTrain:{type:Xo.Predefined,voiceName:nr.ChineseWuSimplifiedYunzhe,text:"The terminal station",pinyin:"The terminal station"},NextStop:{type:Xo.Predefined,voiceName:nr.ChineseWuSimplifiedYunzhe,text:"Next station",pinyin:"Next station"},NextStopTerminal:{type:Xo.Predefined,voiceName:nr.ChineseWuSimplifiedYunzhe,text:"is the terminal station",pinyin:"is the terminal station"},DoorOpenLeft:{type:Xo.Predefined,voiceName:nr.ChineseWuSimplifiedYunzhe,text:"Doors will open on the left",pinyin:"Doors will open on the left"},DoorOpenRight:{type:Xo.Predefined,voiceName:nr.ChineseWuSimplifiedYunzhe,text:"Doors will open on the right",pinyin:"Doors will open on the right"},InterchangeAvailable:{type:Xo.Predefined,voiceName:nr.ChineseWuSimplifiedYunzhe,text:"You can transfer to",pinyin:"You can transfer to"},OutOfStationInterchangeAvailable:{type:Xo.Predefined,voiceName:nr.ChineseWuSimplifiedYunzhe,text:"Passengers holding public transportation card, may transfer to",pinyin:"Passengers holding public transportation card, may transfer to",contour:"(60%, +0%) (100%, +30%)"},OutOfStationInterchangeAvailableEnglish2:{type:Xo.Predefined,voiceName:nr.ChineseWuSimplifiedYunzhe,text:"within 30 minutes after getting out of the station. ",pinyin:"within 30 minutes after getting out of the station. "},OutOfSystemInterchangeAvailable:{type:Xo.Predefined,voiceName:nr.ChineseWuSimplifiedYunzhe,text:"or take the",pinyin:"or take the",contour:"(50%, +0%) (100%, +30%)"},BranchTerminalEnglish:{type:Xo.Predefined,voiceName:nr.ChineseWuSimplifiedYunzhe,text:"You may transfer trains bound for",pinyin:"You may transfer trains bound for"}}},[or.Midway]:{[nr.ChineseMandarinSimplified]:{LeaveLoveSeat:{type:Xo.Predefined,voiceName:nr.ChineseMandarinSimplified,text:"请把爱心专座留给有需要的乘客。",pinyin:"请把爱心专座留给有需要的乘客。",rate:"+18.00%"},Caution:{type:Xo.Predefined,voiceName:nr.ChineseMandarinSimplified,text:"列车运行，请站稳扶好，不要看手机，注意脚下安全。",pinyin:"列车运行，请站稳扶好，不要看手机，注意脚下安全。",rate:"+18.00%"}}}},Ta=(e,t,n)=>{const i=Ea[e]?.[t]?.[n];if(!i)throw new Error(`Predefined phrase must exist in predefinedPhrases, stage: ${e}, voiceName: ${t}, predefinedPhraseType: ${n}.`);return{...i,subType:n}},za={[ir.ShanghaiMetro]:{reconcile:(e,t,n,i)=>{((e,t,n)=>{if(e===or.Arrival){if(void 0===n[or.Arrival]?.[t]?.terminal)throw new Error(`Terminal must exist in baseVariants, stage: ${or.Arrival}, voiceName: ${t}.`);if(void 0===n[or.Arrival]?.[t]?.doorDirection)throw new Error(`Door direction must exist in baseVariants, stage: ${or.Arrival}, voiceName: ${t}.`)}if(e===or.Departure){if(void 0===n[or.Departure]?.[t]?.terminal)throw new Error(`Terminal must exist in baseVariants, stage: ${or.Departure}, voiceName: ${t}.`);if(void 0===n[or.Departure]?.[t]?.nextDoorDirection)throw new Error(`Next door direction must exist in baseVariants, stage: ${or.Departure}, voiceName: ${t}.`)}})(e,t,i);const o=t===nr.ChineseWuSimplifiedYunzhe?void 0:"+18.00%",r=[];if(e===or.Arrival){t===nr.ChineseWuSimplifiedYunzhe&&(r.push(Ta(e,t,Ma.Arrive)),r.push(Qo(t,qo.BreakWeak)));const a=(n.terminal??i[or.Arrival][t].terminal)===n.name;a&&(r.push(Ta(e,t,Ma.NextStopTerminal)),r.push(Qo(t,qo.BreakWeak))),r.push({type:Xo.Customized,voiceName:t,text:n.name,pinyin:n.namePinyin,rate:o}),r.push(Qo(t,t===nr.ChineseWuSimplifiedYunzhe?qo.BreakStrong:qo.BreakWeak)),[nr.ChineseMandarinSimplified,nr.ChineseWuSimplifiedXiaotong].includes(t)&&(r.push(Ta(e,t,Ma.Arrive)),r.push(Qo(t,qo.BreakStrong)));const s=n.doorDirection??i[or.Arrival][t].doorDirection??"left";if(a){const n="left"===s?Ma.TerminalAllGetOffLeft:Ma.TerminalAllGetOffRight;if(r.push(Ta(e,t,n)),i[or.Arrival][t].thanksForTaking){const e={[nr.ChineseMandarinSimplified]:`感谢您乘坐${i[or.Arrival][t].thanksForTaking}，祝您旅途愉快。`,[nr.ChineseWuSimplifiedXiaotong]:`谢谢侬搭乘${i[or.Arrival][t].thanksForTaking}，阿拉下趟再会。`,[nr.ChineseWuSimplifiedYunzhe]:`Thanks for taking ${i[or.Arrival][t].thanksForTaking}, see you next time.`}[t];r.push({type:Xo.Customized,voiceName:t,text:e,pinyin:i[or.Arrival][t].thanksForTakingPinyin,rate:o})}}else{const n="left"===s?Ma.DoorOpenLeft:Ma.DoorOpenRight;r.push(Ta(e,t,n)),r.push(Qo(t,qo.BreakStrong))}}else if(e===or.Departure){const a=n.welcomeAbroad??i[or.Departure][t].welcomeAbroad,s=n.lineName??i[or.Departure][t].lineName;if(a&&s){const e={[nr.ChineseMandarinSimplified]:`欢迎乘坐${a}${s}`,[nr.ChineseWuSimplifiedXiaotong]:`欢迎搭乘${a}${s}`,[nr.ChineseWuSimplifiedYunzhe]:`Welcome aboard ${a} ${s}`}[t],l=n.welcomeAbroadPinyin??i[or.Departure][t].welcomeAbroadPinyin,c=n.lineNamePinyin??i[or.Departure][t].lineNamePinyin,u={[nr.ChineseMandarinSimplified]:`欢迎乘坐${l}${c}`,[nr.ChineseWuSimplifiedXiaotong]:`欢迎搭乘${l}${c}`,[nr.ChineseWuSimplifiedYunzhe]:`Welcome aboard ${l} ${c}`}[t];r.push({type:Xo.Customized,voiceName:t,text:e,pinyin:u,rate:o}),r.push(Qo(t,qo.BreakStrong))}const l=n.service??i[or.Departure][t].service;"local"===l||t!==nr.ChineseMandarinSimplified&&t!==nr.ChineseWuSimplifiedXiaotong||("express"===l?r.push(Ta(e,t,Ma.ServiceExpress)):"direct"===l&&r.push(Ta(e,t,Ma.ServiceDirect)));const c=n.loop??i[or.Departure][t].loop,u=n.terminal??i[or.Departure][t].terminal,d=n.terminal??i[or.Departure][t].terminalPinyin;if("none"===c)"local"===l||t===nr.ChineseWuSimplifiedYunzhe?r.push(Ta(e,t,Ma.TheTerminalOfThisTrain)):r.push(Ta(e,t,Ma.NextStopTerminal)),r.push(Qo(t,qo.BreakWeak)),r.push({type:Xo.Customized,voiceName:t,text:u,pinyin:d,rate:o}),r.push(Qo(t,qo.BreakStrong));else if(!("inner"!==c&&"outer"!==c||t!==nr.ChineseMandarinSimplified&&t!==nr.ChineseWuSimplifiedXiaotong)){const a=!1===c?Ma.Loop:"inner"===c?Ma.InnerLoop:Ma.OuterLoop;r.push(Ta(e,t,a)),r.push(Qo(t,qo.BreakStrong)),(n.loopTerminal??i[or.Departure][t].loopTerminal)&&(r.push(Ta(e,t,Ma.NextStopTerminal)),r.push(Qo(t,qo.BreakWeak)),r.push({type:Xo.Customized,voiceName:t,text:u,pinyin:d,rate:o}),r.push(Qo(t,qo.BreakStrong)))}const h=n.stopovers;if("local"!==l&&h&&h.length>0&&(t===nr.ChineseMandarinSimplified||t===nr.ChineseWuSimplifiedXiaotong)){r.push(Ta(e,t,Ma.Stopovers1)),r.push(Qo(t,qo.BreakWeak));for(const e of h)r.push({type:Xo.Customized,voiceName:t,text:e,pinyin:e,rate:o}),r.push(Qo(t,qo.BreakMedium));r.pop(),r.push(Qo(t,qo.BreakStrong)),r.push(Ta(e,t,Ma.Stopovers2)),r.push(Qo(t,qo.BreakWeak));for(const e of h)r.push({type:Xo.Customized,voiceName:t,text:e,pinyin:e,rate:o}),r.push(Qo(t,qo.BreakMedium));r.pop(),r.push(Qo(t,qo.BreakWeak)),r.push(Ta(e,t,Ma.Stopovers3)),r.push(Qo(t,qo.BreakStrong))}r.push(Ta(e,t,Ma.NextStop)),r.push(Qo(t,qo.BreakWeak)),n.next===u&&(r.push(Ta(e,t,Ma.NextStopTerminal)),r.push(Qo(t,qo.BreakWeak))),r.push({type:Xo.Customized,voiceName:t,text:n.next,pinyin:n.nextPinyin,rate:o}),r.push(Qo(t,qo.BreakStrong));const p="left"===(n.nextDoorDirection??i[or.Departure][t].nextDoorDirection??"left")?Ma.DoorOpenLeft:Ma.DoorOpenRight;r.push(Ta(e,t,p)),r.push(Qo(t,qo.BreakStrong));const f=n.int;f?.flat().length&&((f.at(0)?.length??0)>0&&(r.push(Ta(e,t,Ma.InterchangeAvailable)),r.push(Qo(t,qo.BreakWeak)),r.push(...f.at(0).map((e=>[{type:Xo.Customized,voiceName:t,text:e,pinyin:e,rate:o},Qo(t,qo.BreakWeak)])).flat()),r.pop(),r.push(Qo(t,qo.BreakStrong))),(f.at(1)?.length??0)>0&&(r.push(Ta(e,t,Ma.OutOfStationInterchangeAvailable)),r.push(Qo(t,qo.BreakWeak)),r.push(...f.at(1).map((e=>[{type:Xo.Customized,voiceName:t,text:e,pinyin:e,rate:o},Qo(t,qo.BreakWeak)])).flat()),r.pop(),t===nr.ChineseWuSimplifiedYunzhe?(r.push(Qo(t,qo.BreakWeak)),r.push(Ta(e,t,Ma.OutOfStationInterchangeAvailableEnglish2))):r.push(Qo(t,qo.BreakStrong))),(f.at(2)?.length??0)>0&&(r.push(Ta(e,t,Ma.OutOfSystemInterchangeAvailable)),r.push(Qo(t,qo.BreakWeak)),r.push(...f.at(2).map((e=>[{type:Xo.Customized,voiceName:t,text:e,pinyin:e,rate:o},Qo(t,qo.BreakWeak)])).flat()),r.pop(),r.push(Qo(t,qo.BreakStrong))),!(n.noteLastTrain??i[or.Departure][t].noteLastTrain)||t!==nr.ChineseMandarinSimplified&&t!==nr.ChineseWuSimplifiedXiaotong||r.push(Ta(e,t,Ma.NoteLastTrain)));const g=n.branchTerminalName;g&&(t!==nr.ChineseMandarinSimplified&&t!==nr.ChineseWuSimplifiedXiaotong||(r.push(Ta(e,t,Ma.BranchTerminal1)),r.push({type:Xo.Customized,voiceName:t,text:g,pinyin:n.branchTerminalNamePinyin,rate:o}),r.push(Ta(e,t,Ma.BranchTerminal2)),r.push(Qo(t,qo.BreakStrong))),t===nr.ChineseWuSimplifiedYunzhe&&(r.push(Ta(e,t,Ma.BranchTerminalEnglish)),r.push(Qo(t,qo.BreakWeak)),r.push({type:Xo.Customized,voiceName:t,text:g,pinyin:n.branchTerminalNamePinyin,rate:o}),r.push(Qo(t,qo.BreakStrong))))}else e===or.Midway&&((n.leaveLoveSeat??i[or.Midway][t].leaveLoveSeat)&&r.push(Ta(e,t,Ma.LeaveLoveSeat)),(n.caution??i[or.Midway][t].caution)&&r.push(Ta(e,t,Ma.Caution)));return r}}};function _a(e){ua({predicate:(e,t,n)=>JSON.stringify(t.param.project)!==JSON.stringify(n.param.project),effect:(e,t)=>{const{project:n}=t.getState().param,i=(e=>{const t={};for(const n in e.stations){t[n]={};for(const i in e.stations[n]){t[n][i]={};for(const o in e.stations[n][i]){const r=e.stations[n][i][o];if(!r)throw new Error("Should never happen!");const a=za[e.style].reconcile(i,o,r,e.baseVariants);t[n][i][o]=a}}}return t})(n);Un.debug(i),t.dispatch(Sr(i));const o=t.getState().param;Fn.storage.set(ar.PARAM,JSON.stringify(o))}}),ua({predicate:(e,t,n)=>JSON.stringify(t.app)!==JSON.stringify(n.app),effect:(e,t)=>{const n=t.getState().app;Fn.storage.set(ar.APP,JSON.stringify(n))}}),Da(e),$a(e)}const Da=e=>{const t=Fn.storage.get(ar.APP);if(t){const n=JSON.parse(t);"telemetry"in n&&"project"in n.telemetry&&e.dispatch(pr(n.telemetry.project)),"preference"in n&&("import"in n.preference&&e.dispatch(fr(n.preference.import)),"previewAudio"in n.preference&&e.dispatch(gr(n.preference.previewAudio)))}},$a=e=>{const t=Fn.storage.get(ar.PARAM);if(t){const n=JSON.parse(t);e.dispatch(ta(n.project)),e.dispatch(Pr(Object.keys(n.project.metadata)[0])),e.dispatch(kr(or.Departure)),JSON.stringify(n.project)===JSON.stringify(Ia)&&e.dispatch(Nr(!0))}else Un.warn("No param from local storage. Setting to default."),e.dispatch(ta(Ia)),e.dispatch(Nr(!0))};let Wa;Fn.ready().then((()=>{_a(sa),Wa=Yn.createRoot(document.getElementById("root")),Wa.render(o.jsx(Re.StrictMode,{children:o.jsx(We,{store:sa,children:o.jsx(Ve,{i18n:La,children:o.jsx(Pa,{})})})})),Fn.injectUITools(),Fn.event(sr.APP_LOAD,{}),(e=>{const t=t=>{if(!t)return Un.debug("Account string is empty, logging out"),void e.dispatch(Rr());const n=JSON.parse(t),{token:i}=n;Un.debug(`Updating token to: ${i}`),e.dispatch(Ar(i))};let n=localStorage.getItem(ar.ACCOUNT);t(n??void 0),window.onstorage=()=>{const e=localStorage.getItem(ar.ACCOUNT);n!==e&&(n=e,Un.debug(`Account string changed to: ${e}`),t(e??void 0))}})(sa)}))}}}));
