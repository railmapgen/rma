const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/page-header-CsZ-Mflg.js","assets/chakra-BiadmNKO.js","assets/react-DFJlY5Ze.js","assets/rmg-output-B97GirQX.js","assets/stage-DV8VowsM.js"])))=>i.map(i=>d[i]);
import{u as Be,a as Ci,j as d,P as Oi,c as rn,F as Ai,f as We,W as br,T as Pi,b as Ri,d as _i,e as wr,g as ft,h as be,B as Ie,D as on,i as ji,k as Ei,l as Li,m as Sr,C as Mi,S as Cr,n as Ii,o as ki,p as Ti,I as Di,q as Or,r as zi,s as Ni,t as Fi,v as $i,w as Bi,x as Wi,y as Vi,z as Ui,A as Hi,M as Ar,E as Gi,G as Pr,H as Rr,J as _r,K as ce,L as Ki,N as an,O as Ne,Q as Wn,R as Yi,U as Xi,V as Ji,X as qi,Y as Qi,Z as Zi,_ as eo,$ as to,a0 as no,a1 as sn,a2 as ro,a3 as io,a4 as oo,a5 as ao,a6 as at,a7 as so,a8 as lo,a9 as uo,aa as co,ab as fo,ac as X,ad as ho,ae as po,af as go,ag as Vn,ah as mo,ai as yo,aj as vo,ak as xo,al as bo,am as wo,an as So,ao as Co,ap as Jt}from"./chakra-BiadmNKO.js";import{e as Oo,a as v,d as ae,f as Ze,h as Tt,i as Ao,j as Po,k as Ro,u as _o,l as jo,m as bn,n as Eo,P as Lo,I as Mo}from"./react-DFJlY5Ze.js";function Wc(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Io=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(h){a(h)}}function l(u){try{c(r.throw(u))}catch(h){a(h)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})};const jr=t=>new Promise(e=>{setTimeout(e,t,"Timeout after ".concat(t/1e3," seconds"))}),ko=t=>new Promise(e=>{const n=new FileReader;n.onloadend=()=>e(n.result),n.readAsDataURL(t)}),To=t=>{let e,n=!1;return r=>Io(void 0,void 0,void 0,function*(){return e&&(n||!r)?e:(e=t(),n=!0,e.then(i=>(n=!1,i)).catch(i=>{throw e=null,i}))})},wn=t=>{let e=0;for(let n=0;n<t.length;n++)e=t.charCodeAt(n)+((e<<5)-e);return e},Sn=t=>{const e=(t&16777215).toString(16).toUpperCase();return"#"+"00000".substring(0,6-e.length)+e};var ke;(function(t){t.DEV="DEV",t.UAT="UAT",t.PRD="PRD"})(ke||(ke={}));const Er="rmg-runtime__language",Lr="rmg-runtime__colourMode",At="rmg-runtime__allowAnalytics",ht="rmg-unknown",Do="railmapgen.github.io",zo="rmg-home";let Pt=ht,Mr=Sn(wn(ht));const No=t=>{Pt=t,Mr=Sn(wn(t))},gt=()=>"[".concat(Pt,"]"),mt=()=>Mr,Pe=(t,e,n)=>(...r)=>{typeof r[0]=="string"?t("%c".concat(e(),"%c ").concat(r[0]),"color: ".concat(n()),"",...r.slice(1)):t("%c".concat(e(),"%c"),"color: ".concat(n()),"",...r)},Fo={debug:Pe(console.debug,gt,mt),info:Pe(console.info,gt,mt),warn:Pe(console.warn,gt,mt),error:Pe(console.error,gt,mt)},nt=()=>Pt===ht?"[runtime]":"[runtime@".concat(Pt,"]"),$o=Sn(wn("runtime")),rt=()=>$o,Y={setup:No,logger:Fo,debug:Pe(console.debug,nt,rt),info:Pe(console.info,nt,rt),warn:Pe(console.warn,nt,rt),error:Pe(console.error,nt,rt),group:Pe(console.group,nt,rt),groupEnd:console.groupEnd};var Ir=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(h){a(h)}}function l(u){try{c(r.throw(u))}catch(h){a(h)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})};let Cn,Dt,On,An,Pn;const kr=()=>{Cn=!1,Dt=ht,On="unknown",An=ke.PRD,Pn="unknown"},Bo=()=>Ir(void 0,void 0,void 0,function*(){const t=window.location.pathname.split("/")[1],e=t?"/".concat(t,"/info.json"):"/info.json",n=yield fetch(e);if(n.ok){const r=yield n.json();Y.info("Received info.json",r),Dt=r.component,On=r.version,An=r.environment,Pn=r.instance}else throw new Error("Failed to fetch config from ".concat(e))}),Wo=()=>Ir(void 0,void 0,void 0,function*(){try{Y.group("Loading config...");const t=yield Promise.race([Bo(),jr(10*1e3)]);t?Y.error("❌ Failed to load config.",t):(Cn=!0,Y.info("✅ Config loaded!"))}catch(t){Y.error("❌ Failed to load config.",t)}finally{Y.groupEnd()}}),Vo=()=>Cn,Uo=()=>Tr()?zo:Dt,Ho=()=>On,Go=()=>An,Ko=()=>Pn,Tr=()=>Dt===Do;kr();const se={loadWithTimeout:Wo,isInitialised:Vo,getComponent:Uo,getVersion:Ho,getEnvironment:Go,getInstance:Ko,isRMT:Tr,_resetConfig:kr};window.dataLayer=window.dataLayer||[];const Yo=()=>{const t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-2HP8Y4MRRQ",document.head.append(t)};function ln(...t){if(se.getEnvironment()!==ke.DEV)return window.dataLayer.push(arguments);Y.info("Not going to send event in DEV environment",t)}const Xo=(t,e={})=>{ln("event",t,e)},Jo=()=>{Yo(),ln("js",new Date),ln("config","G-2HP8Y4MRRQ",{appName:se.getComponent(),version:se.getVersion(),environment:se.getEnvironment(),instance:se.getInstance()})},Rt={init:Jo,customEvent:Xo},qo="rmg-runtime-channel",bt={};let st;try{st=new BroadcastChannel(qo),st.onmessage=t=>{var e;const{event:n,data:r,frameId:i}=t.data;(e=bt[n])===null||e===void 0||e.forEach(o=>o(r,i))}}catch(t){Y.warn("Failed to initiate broadcast channel. Some features may be unavailable.",t)}const Qo=(t,e)=>{var n;Y.debug("Broadcasting event ".concat(t," with data"),e),st==null||st.postMessage({event:t,data:e,frameId:(n=window.frameElement)===null||n===void 0?void 0:n.id})},Zo=(t,e)=>{var n;t in bt?(n=bt[t])===null||n===void 0||n.push(e):bt[t]=[e]},ee={postEvent:Qo,onMessage:Zo},Dr="TOGGLE_NAV_MENU",zr="OPEN_APP",Nr="CLOSE_APP",Fr="UPDATE_APP_METADATA",$r="UPDATE_URL",wt=()=>!window.frameElement,ea=()=>{var t;return!!(!((t=window.frameElement)===null||t===void 0)&&t.closest(".show-menu"))},ta=()=>{if(!wt()){const e=document.createElement("style");e.textContent="body{padding: 0;}",document.head.appendChild(e)}const t=document.createElement("style");t.textContent=".rmg-window__header:not(.rmg-window__app-clip-header),.rm-window__header:not(.rm-window__app-clip-header){margin-left: 40px;}",!wt()&&!ea()&&document.head.appendChild(t),wt()||ee.onMessage(Dr,e=>{if(e)try{document.head.removeChild(t)}catch(n){Y.warn("Unable to remove indent style from RmgWindowHeader",n)}else document.head.appendChild(t)})},na=t=>{ee.postEvent(zr,t)},ra=t=>{ee.postEvent(Nr,t)},ia=t=>{ee.postEvent(Fr,t)},oa=t=>{ee.postEvent($r,t)},aa=t=>{ee.onMessage(zr,t)},sa=t=>{ee.onMessage(Nr,t)},la=t=>{ee.onMessage(Fr,t)},ua=t=>{ee.onMessage($r,t)},ca=t=>{ee.postEvent(Dr,t)},pe={isStandaloneWindow:wt,injectUITools:ta,openApp:na,onAppOpen:aa,closeApp:ra,onAppClose:sa,updateAppMetadata:ia,onAppMetadataUpdate:la,updateUrl:oa,onUrlUpdate:ua,toggleNavMenu:ca},Br="SET_LANGUAGE",Wr="SET_COLOUR_MODE",da=t=>{ee.postEvent(Br,t),window.localStorage.setItem(Er,t)},fa=()=>window.localStorage.getItem(Er)||"en",ha=t=>{ee.onMessage(Br,t)},Vr=["light","dark","system"],pa=t=>{Vr.includes(t)&&(ee.postEvent(Wr,t),window.localStorage.setItem(Lr,t))},ga=t=>!!(t&&Vr.includes(t)),ma=()=>{const t=window.localStorage.getItem(Lr);return ga(t)?t:"system"},ya=t=>{ee.onMessage(Wr,t)},va=()=>window.localStorage.getItem(At)!==null,Ur=()=>window.localStorage.getItem(At)==="true",xa=t=>{const e=Ur();return t?(e||(window.localStorage.setItem(At,t.toString()),Rt.init()),{refreshRequired:!1}):e?(window.localStorage.setItem(At,t.toString()),{refreshRequired:!0}):{refreshRequired:!1}},ge={setLanguage:da,getLanguage:fa,onLanguageChange:ha,setColourMode:pa,getColourMode:ma,onColourModeChange:ya,isAnalyticsQADone:va,isAllowAnalytics:Ur,allowAnalytics:xa},ba=new Date().getTime();function wa(){const t=se.getComponent(),e=window.localStorage.getItem(t+"__startTime");return e===null?new Date().getTime()-ba:new Date().getTime()-Number(e)}const Sa={getMsSinceStartUp:wa},St={},et=()=>{const t=se.getComponent();if(t===ht)throw new Error("Unable to clear storage for unknown app");return t};window.addEventListener("storage",t=>{var e;const{key:n,newValue:r}=t;n&&((e=St[n])===null||e===void 0||e.forEach(i=>i(r)))});const Ca=(t,e)=>{var n;const r="".concat(et(),"__").concat(t);r in St?(n=St[r])===null||n===void 0||n.push(e):St[r]=[e]},Oa=t=>{const e=et();return window.localStorage.getItem("".concat(e,"__").concat(t))},Aa=()=>{const t=et(),e={};let n=0;for(;n<window.localStorage.length;){const r=window.localStorage.key(n);if(r!=null&&r.startsWith(t+"__")){const i=window.localStorage.getItem(r);i&&(e[r]=i)}n++}return e},Pa=(t,e)=>{const n=et();window.localStorage.setItem("".concat(n,"__").concat(t),e)},Ra=t=>{const e=et();window.localStorage.removeItem("".concat(e,"__").concat(t))},_a=()=>{const t=et();let e=0;for(;e<window.localStorage.length;){const n=window.localStorage.key(e);n!=null&&n.startsWith(t+"__")?(window.localStorage.removeItem(n),Y.info("Removed item ".concat(n))):e++}},Ke={on:Ca,get:Oa,getAll:Aa,set:Pa,remove:Ra,clear:_a},C=t=>typeof t=="string",it=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},Un=t=>t==null?"":""+t,ja=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},Ea=/###/g,Hn=t=>t&&t.indexOf("###")>-1?t.replace(Ea,"."):t,Gn=t=>!t||C(t),lt=(t,e,n)=>{const r=C(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(Gn(t))return{};const o=Hn(r[i]);!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={},++i}return Gn(t)?{}:{obj:t,k:Hn(r[i])}},Kn=(t,e,n)=>{const{obj:r,k:i}=lt(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let o=e[e.length-1],a=e.slice(0,e.length-1),s=lt(t,a,Object);for(;s.obj===void 0&&a.length;)o="".concat(a[a.length-1],".").concat(o),a=a.slice(0,a.length-1),s=lt(t,a,Object),s&&s.obj&&typeof s.obj["".concat(s.k,".").concat(o)]<"u"&&(s.obj=void 0);s.obj["".concat(s.k,".").concat(o)]=n},La=(t,e,n,r)=>{const{obj:i,k:o}=lt(t,e,Object);i[o]=i[o]||[],i[o].push(n)},_t=(t,e)=>{const{obj:n,k:r}=lt(t,e);if(n)return n[r]},Ma=(t,e,n)=>{const r=_t(t,n);return r!==void 0?r:_t(e,n)},Hr=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?C(t[r])||t[r]instanceof String||C(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):Hr(t[r],e[r],n):t[r]=e[r]);return t},Ye=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Ia={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const ka=t=>C(t)?t.replace(/[&<>"'\/]/g,e=>Ia[e]):t;class Ta{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const Da=[" ",",","?","!",";"],za=new Ta(20),Na=(t,e,n)=>{e=e||"",n=n||"";const r=Da.filter(a=>e.indexOf(a)<0&&n.indexOf(a)<0);if(r.length===0)return!0;const i=za.getRegExp("(".concat(r.map(a=>a==="?"?"\\?":a).join("|"),")"));let o=!i.test(t);if(!o){const a=t.indexOf(n);a>0&&!i.test(t.substring(0,a))&&(o=!0)}return o},un=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(n);let i=t;for(let o=0;o<r.length;){if(!i||typeof i!="object")return;let a,s="";for(let l=o;l<r.length;++l)if(l!==o&&(s+=n),s+=r[l],a=i[s],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<r.length-1)continue;o+=l-o+1;break}i=a}return i},jt=t=>t&&t.replace("_","-"),Fa={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class Et{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||Fa,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(C(e[0])&&(e[0]="".concat(r).concat(this.prefix," ").concat(e[0])),this.logger[n](e))}create(e){return new Et(this.logger,{prefix:"".concat(this.prefix,":").concat(e,":"),...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Et(this.logger,e)}}var xe=new Et;class zt{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(a=>{let[s,l]=a;for(let c=0;c<l;c++)s(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[s,l]=a;for(let c=0;c<l;c++)s.apply(s,[e,...r])})}}class Yn extends zt{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let s;e.indexOf(".")>-1?s=e.split("."):(s=[e,n],r&&(Array.isArray(r)?s.push(...r):C(r)&&o?s.push(...r.split(o)):s.push(r)));const l=_t(this.data,s);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=s[0],n=s[1],r=s.slice(2).join(".")),l||!a||!C(r)?l:un(this.data&&this.data[e]&&this.data[e][n],r,o)}addResource(e,n,r,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let s=[e,n];r&&(s=s.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(s=e.split("."),i=n,n=s[1]),this.addNamespaces(n),Kn(this.data,s,i),o.silent||this.emit("added",e,n,r,i)}addResources(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in r)(C(r[o])||Array.isArray(r[o]))&&this.addResource(e,n,o,r[o],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,o){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},s=[e,n];e.indexOf(".")>-1&&(s=e.split("."),i=r,r=n,n=s[1]),this.addNamespaces(n);let l=_t(this.data,s)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?Hr(l,r,o):l={...l,...r},Kn(this.data,s,l),a.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var Gr={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(o=>{this.processors[o]&&(e=this.processors[o].process(e,n,r,i))}),e}};const Xn={};class Lt extends zt{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),ja(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=xe.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,n);return r&&r.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const a=r&&e.indexOf(r)>-1,s=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Na(e,r,i);if(a&&!s){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:C(o)?[o]:o};const c=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(o=c.shift()),e=c.join(i)}return{key:e,namespaces:C(o)?[o]:o}}translate(e,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:a,namespaces:s}=this.extractFromKey(e[e.length-1],n),l=s[s.length-1],c=n.lng||this.language,u=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&c.toLowerCase()==="cimode"){if(u){const P=n.nsSeparator||this.options.nsSeparator;return i?{res:"".concat(l).concat(P).concat(a),usedKey:a,exactUsedKey:a,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:"".concat(l).concat(P).concat(a)}return i?{res:a,usedKey:a,exactUsedKey:a,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:a}const h=this.resolve(e,n);let f=h&&h.res;const g=h&&h.usedKey||a,y=h&&h.exactUsedKey||a,x=Object.prototype.toString.apply(f),w=["[object Number]","[object Function]","[object RegExp]"],L=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,O=!this.i18nFormat||this.i18nFormat.handleAsObject,V=!C(f)&&typeof f!="boolean"&&typeof f!="number";if(O&&f&&V&&w.indexOf(x)<0&&!(C(L)&&Array.isArray(f))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const P=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,f,{...n,ns:s}):"key '".concat(a," (").concat(this.language,")' returned an object instead of string.");return i?(h.res=P,h.usedParams=this.getUsedParamsDetails(n),h):P}if(o){const P=Array.isArray(f),D=P?[]:{},$=P?y:g;for(const I in f)if(Object.prototype.hasOwnProperty.call(f,I)){const k="".concat($).concat(o).concat(I);D[I]=this.translate(k,{...n,joinArrays:!1,ns:s}),D[I]===k&&(D[I]=f[I])}f=D}}else if(O&&C(L)&&Array.isArray(f))f=f.join(L),f&&(f=this.extendTranslation(f,e,n,r));else{let P=!1,D=!1;const $=n.count!==void 0&&!C(n.count),I=Lt.hasDefaultValue(n),k=$?this.pluralResolver.getSuffix(c,n.count,n):"",_=n.ordinal&&$?this.pluralResolver.getSuffix(c,n.count,{ordinal:!1}):"",N=$&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),S=N&&n["defaultValue".concat(this.options.pluralSeparator,"zero")]||n["defaultValue".concat(k)]||n["defaultValue".concat(_)]||n.defaultValue;!this.isValidLookup(f)&&I&&(P=!0,f=S),this.isValidLookup(f)||(D=!0,f=a);const B=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&D?void 0:f,W=I&&S!==f&&this.options.updateMissing;if(D||P||W){if(this.logger.log(W?"updateKey":"missingKey",c,l,a,W?S:f),o){const K=this.resolve(a,{...n,keySeparator:!1});K&&K.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let M=[];const G=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&G&&G[0])for(let K=0;K<G.length;K++)M.push(G[K]);else this.options.saveMissingTo==="all"?M=this.languageUtils.toResolveHierarchy(n.lng||this.language):M.push(n.lng||this.language);const we=(K,J,Se)=>{const Ce=I&&Se!==f?Se:B;this.options.missingKeyHandler?this.options.missingKeyHandler(K,l,J,Ce,W,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(K,l,J,Ce,W,n),this.emit("missingKey",K,l,J,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&$?M.forEach(K=>{const J=this.pluralResolver.getSuffixes(K,n);N&&n["defaultValue".concat(this.options.pluralSeparator,"zero")]&&J.indexOf("".concat(this.options.pluralSeparator,"zero"))<0&&J.push("".concat(this.options.pluralSeparator,"zero")),J.forEach(Se=>{we([K],a+Se,n["defaultValue".concat(Se)]||S)})}):we(M,a,S))}f=this.extendTranslation(f,e,n,h,r),D&&f===a&&this.options.appendNamespaceToMissingKey&&(f="".concat(l,":").concat(a)),(D||P)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?f=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(l,":").concat(a):a,P?f:void 0):f=this.options.parseMissingKeyHandler(f))}return i?(h.res=f,h.usedParams=this.getUsedParamsDetails(n),h):f}extendTranslation(e,n,r,i,o){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=C(e)&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(c){const f=e.match(this.interpolator.nestingRegexp);u=f&&f.length}let h=r.replace&&!C(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||i.usedLng,r),c){const f=e.match(this.interpolator.nestingRegexp),g=f&&f.length;u<g&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var f=arguments.length,g=new Array(f),y=0;y<f;y++)g[y]=arguments[y];return o&&o[0]===g[0]&&!r.context?(a.logger.warn("It seems you are nesting recursively key: ".concat(g[0]," in key: ").concat(n[0])),null):a.translate(...g,n)},r)),r.interpolation&&this.interpolator.reset()}const s=r.postProcess||this.options.postProcess,l=C(s)?[s]:s;return e!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(e=Gr.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,o,a,s;return C(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(l,n),u=c.key;i=u;let h=c.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const f=n.count!==void 0&&!C(n.count),g=f&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),y=n.context!==void 0&&(C(n.context)||typeof n.context=="number")&&n.context!=="",x=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(w=>{this.isValidLookup(r)||(s=w,!Xn["".concat(x[0],"-").concat(w)]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(s)&&(Xn["".concat(x[0],"-").concat(w)]=!0,this.logger.warn('key "'.concat(i,'" for languages "').concat(x.join(", "),'" won\'t get resolved as namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(L=>{if(this.isValidLookup(r))return;a=L;const O=[u];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(O,u,L,w,n);else{let P;f&&(P=this.pluralResolver.getSuffix(L,n.count,n));const D="".concat(this.options.pluralSeparator,"zero"),$="".concat(this.options.pluralSeparator,"ordinal").concat(this.options.pluralSeparator);if(f&&(O.push(u+P),n.ordinal&&P.indexOf($)===0&&O.push(u+P.replace($,this.options.pluralSeparator)),g&&O.push(u+D)),y){const I="".concat(u).concat(this.options.contextSeparator).concat(n.context);O.push(I),f&&(O.push(I+P),n.ordinal&&P.indexOf($)===0&&O.push(I+P.replace($,this.options.pluralSeparator)),g&&O.push(I+D))}}let V;for(;V=O.pop();)this.isValidLookup(r)||(o=V,r=this.getResource(L,w,V,n))}))})}),{res:r,usedKey:i,exactUsedKey:o,usedLng:a,usedNS:s}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!C(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const o of n)delete i[o]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}const qt=t=>t.charAt(0).toUpperCase()+t.slice(1);class Jn{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=xe.create("languageUtils")}getScriptPartFromCode(e){if(e=jt(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=jt(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(C(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let i=Intl.getCanonicalLocales(e)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch(i){}const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=qt(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=qt(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=qt(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),C(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),i=[],o=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn("rejecting language code not found in supportedLngs: ".concat(a)))};return C(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):C(e)&&o(this.formatLanguageCode(e)),r.forEach(a=>{i.indexOf(a)<0&&o(this.formatLanguageCode(a))}),i}}let $a=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Ba={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const Wa=["v1","v2","v3"],Va=["v4"],qn={zero:0,one:1,two:2,few:3,many:4,other:5},Ua=()=>{const t={};return $a.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:Ba[e.fc]}})}),t};class Ha{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=xe.create("pluralResolver"),(!this.options.compatibilityJSON||Va.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Ua(),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const r=jt(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:i});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let a;try{a=new Intl.PluralRules(r,{type:i})}catch(s){if(!e.match(/-|_/))return;const l=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(l,n)}return this.pluralRulesCache[o]=a,a}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(i=>"".concat(n).concat(i))}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,o)=>qn[i]-qn[o]).map(i=>"".concat(this.options.prepend).concat(n.ordinal?"ordinal".concat(this.options.prepend):"").concat(i)):r.numbers.map(i=>this.getSuffix(e,i,n)):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,r);return i?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.ordinal?"ordinal".concat(this.options.prepend):"").concat(i.select(n)):this.getSuffixRetroCompatible(i,n):(this.logger.warn("no plural rule found for: ".concat(e)),"")}getSuffixRetroCompatible(e,n){const r=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let i=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const o=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?"_plural_".concat(i.toString()):o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!Wa.includes(this.options.compatibilityJSON)}}const Qn=function(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=Ma(t,e,n);return!o&&i&&C(n)&&(o=un(t,n,r),o===void 0&&(o=un(e,n,r))),o},Qt=t=>t.replace(/\$/g,"$$$$");class Ga{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=xe.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:o,prefixEscaped:a,suffix:s,suffixEscaped:l,formatSeparator:c,unescapeSuffix:u,unescapePrefix:h,nestingPrefix:f,nestingPrefixEscaped:g,nestingSuffix:y,nestingSuffixEscaped:x,nestingOptionsSeparator:w,maxReplaces:L,alwaysFormat:O}=e.interpolation;this.escape=n!==void 0?n:ka,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=o?Ye(o):a||"{{",this.suffix=s?Ye(s):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=f?Ye(f):g||Ye("$t("),this.nestingSuffix=y?Ye(y):x||Ye(")"),this.nestingOptionsSeparator=w||",",this.maxReplaces=L||1e3,this.alwaysFormat=O!==void 0?O:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,"".concat(this.prefix,"(.+?)").concat(this.suffix)),this.regexpUnescape=e(this.regexpUnescape,"".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix)),this.nestingRegexp=e(this.nestingRegexp,"".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix))}interpolate(e,n,r,i){let o,a,s;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=g=>{if(g.indexOf(this.formatSeparator)<0){const L=Qn(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(L,void 0,r,{...i,...n,interpolationkey:g}):L}const y=g.split(this.formatSeparator),x=y.shift().trim(),w=y.join(this.formatSeparator).trim();return this.format(Qn(n,l,x,this.options.keySeparator,this.options.ignoreJSONStructure),w,r,{...i,...n,interpolationkey:x})};this.resetRegExp();const u=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,h=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>Qt(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?Qt(this.escape(g)):Qt(g)}].forEach(g=>{for(s=0;o=g.regex.exec(e);){const y=o[1].trim();if(a=c(y),a===void 0)if(typeof u=="function"){const w=u(e,o,i);a=C(w)?w:""}else if(i&&Object.prototype.hasOwnProperty.call(i,y))a="";else if(h){a=o[0];continue}else this.logger.warn("missed to pass in variable ".concat(y," for interpolating ").concat(e)),a="";else!C(a)&&!this.useRawValueToEscape&&(a=Un(a));const x=g.safeValue(a);if(e=e.replace(o[0],x),h?(g.regex.lastIndex+=a.length,g.regex.lastIndex-=o[0].length):g.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,o,a;const s=(l,c)=>{const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const h=l.split(new RegExp("".concat(u,"[ ]*{")));let f="{".concat(h[1]);l=h[0],f=this.interpolate(f,a);const g=f.match(/'/g),y=f.match(/"/g);(g&&g.length%2===0&&!y||y.length%2!==0)&&(f=f.replace(/'/g,'"'));try{a=JSON.parse(f),c&&(a={...c,...a})}catch(x){return this.logger.warn("failed parsing options string in nesting for key ".concat(l),x),"".concat(l).concat(u).concat(f)}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];a={...r},a=a.replace&&!C(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let c=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const u=i[1].split(this.formatSeparator).map(h=>h.trim());i[1]=u.shift(),l=u,c=!0}if(o=n(s.call(this,i[1].trim(),a),a),o&&i[0]===e&&!C(o))return o;C(o)||(o=Un(o)),o||(this.logger.warn("missed to resolve ".concat(i[1]," for nesting ").concat(e)),o=""),c&&(o=l.reduce((u,h)=>this.format(u,h,r.lng,{...r,interpolationkey:i[1].trim()}),o.trim())),e=e.replace(i[0],o),this.regexp.lastIndex=0}return e}}const Ka=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(a=>{if(a){const[s,...l]=a.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),u=s.trim();n[u]||(n[u]=c),c==="false"&&(n[u]=!1),c==="true"&&(n[u]=!0),isNaN(c)||(n[u]=parseInt(c,10))}})}return{formatName:e,formatOptions:n}},Xe=t=>{const e={};return(n,r,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o={...o,[i.interpolationkey]:void 0});const a=r+JSON.stringify(o);let s=e[a];return s||(s=t(jt(r),i),e[a]=s),s(n)}};class Ya{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=xe.create("formatter"),this.options=e,this.formats={number:Xe((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return o=>i.format(o)}),currency:Xe((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return o=>i.format(o)}),datetime:Xe((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return o=>i.format(o)}),relativetime:Xe((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return o=>i.format(o,r.range||"day")}),list:Xe((n,r)=>{const i=new Intl.ListFormat(n,{...r});return o=>i.format(o)})},this.init(e)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Xe(n)}format(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(s=>s.indexOf(")")>-1)){const s=o.findIndex(l=>l.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,s)].join(this.formatSeparator)}return o.reduce((s,l)=>{const{formatName:c,formatOptions:u}=Ka(l);if(this.formats[c]){let h=s;try{const f=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},g=f.locale||f.lng||i.locale||i.lng||r;h=this.formats[c](s,g,{...u,...i,...f})}catch(f){this.logger.warn(f)}return h}else this.logger.warn("there was no format function for ".concat(c));return s},e)}}const Xa=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class Ja extends zt{constructor(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=xe.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(e,n,r,i){const o={},a={},s={},l={};return e.forEach(c=>{let u=!0;n.forEach(h=>{const f="".concat(c,"|").concat(h);!r.reload&&this.store.hasResourceBundle(c,h)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?a[f]===void 0&&(a[f]=!0):(this.state[f]=1,u=!1,a[f]===void 0&&(a[f]=!0),o[f]===void 0&&(o[f]=!0),l[h]===void 0&&(l[h]=!0)))}),u||(s[c]=!0)}),(Object.keys(o).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const i=e.split("|"),o=i[0],a=i[1];n&&this.emit("failedLoading",o,a,n),!n&&r&&this.store.addResourceBundle(o,a,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const s={};this.queue.forEach(l=>{La(l.loaded,[o],a),Xa(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{s[c]||(s[c]={});const u=l.loaded[c];u.length&&u.forEach(h=>{s[c][h]===void 0&&(s[c][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:o,callback:a});return}this.readingCalls++;const s=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(c&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,o*2,a)},o);return}a(c,u)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const c=l(e,n);c&&typeof c.then=="function"?c.then(u=>s(null,u)).catch(s):s(null,c)}catch(c){s(c)}return}return l(e,n,s)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();C(e)&&(e=this.languageUtils.toResolveHierarchy(e)),C(n)&&(n=[n]);const o=this.queueLoad(e,n,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(a=>{this.loadOne(a)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(a,s)=>{a&&this.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(i," failed"),a),!a&&s&&this.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(i),s),this.loaded(e,a,s)})}saveMissing(e,n,r,i,o){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn('did not save key "'.concat(r,'" as the namespace "').concat(n,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...a,isUpdate:o},c=this.backend.create.bind(this.backend);if(c.length<6)try{let u;c.length===5?u=c(e,n,r,i,l):u=c(e,n,r,i),u&&typeof u.then=="function"?u.then(h=>s(null,h)).catch(s):s(null,u)}catch(u){s(u)}else c(e,n,r,i,s,l)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const Zn=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),C(t[1])&&(e.defaultValue=t[1]),C(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),er=t=>(C(t.ns)&&(t.ns=[t.ns]),C(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),C(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),yt=()=>{},qa=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class ct extends zt{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=er(e),this.services={},this.logger=xe,this.modules={external:[]},qa(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(C(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=Zn();this.options={...i,...this.options,...er(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const o=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?xe.init(o(this.modules.logger),this.options):xe.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:typeof Intl<"u"&&(u=Ya);const h=new Jn(this.options);this.store=new Yn(this.options.resources,this.options);const f=this.services;f.logger=xe,f.resourceStore=this.store,f.languageUtils=h,f.pluralResolver=new Ha(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(f.formatter=o(u),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new Ga(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new Ja(o(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(g){for(var y=arguments.length,x=new Array(y>1?y-1:0),w=1;w<y;w++)x[w-1]=arguments[w];e.emit(g,...x)}),this.modules.languageDetector&&(f.languageDetector=o(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=o(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new Lt(this.services,this.options),this.translator.on("*",function(g){for(var y=arguments.length,x=new Array(y>1?y-1:0),w=1;w<y;w++)x[w-1]=arguments[w];e.emit(g,...x)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,r||(r=yt),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=function(){return e.store[u](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=function(){return e.store[u](...arguments),e}});const l=it(),c=()=>{const u=(h,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),r(h,f)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),l}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yt;const i=C(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],a=s=>{if(!s||s==="cimode")return;this.services.languageUtils.toResolveHierarchy(s).forEach(c=>{c!=="cimode"&&o.indexOf(c)<0&&o.push(c)})};i?a(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>a(l)),this.options.preload&&this.options.preload.forEach(s=>a(s)),this.services.backendConnector.load(o,this.options.ns,s=>{!s&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(s)})}else r(null)}reloadResources(e,n,r){const i=it();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=yt),this.services.backendConnector.reload(e,n,o=>{i.resolve(),r(o)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Gr.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const i=it();this.emit("languageChanging",e);const o=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,c)=>{c?(o(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},s=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const c=C(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);c&&(this.language||o(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(c)),this.loadResources(c,u=>{a(u,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e),i}getFixedT(e,n,r){var i=this;const o=function(a,s){let l;if(typeof s!="object"){for(var c=arguments.length,u=new Array(c>2?c-2:0),h=2;h<c;h++)u[h-2]=arguments[h];l=i.options.overloadTranslationOptionHandler([a,s].concat(u))}else l={...s};l.lng=l.lng||o.lng,l.lngs=l.lngs||o.lngs,l.ns=l.ns||o.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||o.keyPrefix);const f=i.options.keySeparator||".";let g;return l.keyPrefix&&Array.isArray(a)?g=a.map(y=>"".concat(l.keyPrefix).concat(f).concat(y)):g=l.keyPrefix?"".concat(l.keyPrefix).concat(f).concat(a):a,i.t(g,l)};return C(e)?o.lng=e:o.lngs=e,o.ns=n,o.keyPrefix=r,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(s,l)=>{const c=this.services.backendConnector.state["".concat(s,"|").concat(l)];return c===-1||c===0||c===2};if(n.precheck){const s=n.precheck(this,a);if(s!==void 0)return s}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,e)&&(!i||a(o,e)))}loadNamespaces(e,n){const r=it();return this.options.ns?(C(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=it();C(e)&&(e=[e]);const i=this.options.preload||[],o=e.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return o.length?(this.options.preload=i.concat(o),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new Jn(Zn());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new ct(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yt;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},o=new ct(i);return(e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(s=>{o[s]=this[s]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r&&(o.store=new Yn(this.store.data,i),o.services.resourceStore=o.store),o.translator=new Lt(o.services,i),o.translator.on("*",function(s){for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];o.emit(s,...c)}),o.init(i,n),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const re=ct.createInstance();re.createInstance=ct.createInstance;re.createInstance;re.dir;re.init;re.loadResources;re.reloadResources;re.use;re.changeLanguage;re.getFixedT;re.t;re.exists;re.setDefaultNamespace;re.hasLoadedNamespace;re.loadNamespaces;re.loadLanguages;let Je;const Qa=()=>Je,Za=t=>{ge.onLanguageChange(e=>t.changeLanguage(e))};class es{constructor(){this._appName="RMG",this._lng=void 0,this._defaultResources={},this._resources={}}use(e){return re.use(e),this}withAppName(e){return this._appName=e,this}withLng(e){return this._lng=e,this}withDefaultResource(e){return Object.entries(e).forEach(([n,r])=>{this._defaultResources[n]=r}),this}withResource(e,n){return this._resources[e]=n,this}combineResource(){const e={};return Object.entries(this._defaultResources).forEach(([n,r])=>{e[n]={translation:r}}),Object.entries(this._resources).forEach(([n,r])=>{n in e?e[n].translation=Object.assign(Object.assign({},e[n].translation),r):e[n]={translation:r}}),e}build(){return Je=re.createInstance({lng:this._lng,fallbackLng:{"zh-CN":["zh-Hans","zh-Hant","en"],"zh-HK":["zh-Hant","zh-Hans","en"],"zh-TW":["zh-Hant","zh-Hans","en"],default:["en"]},resources:this.combineResource()},(e,n)=>{var r;if(e){Y.error("unexpected error occurs while initialising i18n",e);return}document.title=n(this._appName),document.documentElement.lang=(r=this._lng)!==null&&r!==void 0?r:"en"}),Je.on("languageChanged",e=>{document.title=Je.t(this._appName),document.documentElement.lang=e}),Za(Je),Je}}var dt=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(h){a(h)}}function l(u){try{c(r.throw(u))}catch(h){a(h)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})};let Me={};const ts=()=>Me,Kr="LOAD_REMOTE_FONT",ns=(t,e)=>{ee.postEvent(Kr,{family:t,definition:e})},rs=t=>{ee.onMessage(Kr,t)},Rn=t=>t.source.startsWith("local"),is=t=>{var e;const n=(e=t.source.match(/url\(['"](\S+)['"]\)/))===null||e===void 0?void 0:e[1];if(!n)throw new Error("Invalid URL in source "+t.source);return new URL(n,window.location.href)},tr=(t,e)=>{var n;return"@font-face {\n    font-family: '".concat(t,"';\n    src: ").concat(e.source,";\n    ").concat(Object.entries((n=e.descriptors)!==null&&n!==void 0?n:{}).map(([r,i])=>"".concat(r,": ").concat(i,";")).join("\n"),"\n}")},os=()=>To(()=>fetch("/fonts/config.json").then(t=>t.json()));let Yr=os();const as=(t,e,n)=>dt(void 0,void 0,void 0,function*(){try{const r=new FontFace(t,e.source,e.descriptors);return Rn(e)?yield r.load():r.loaded.then(n),document.fonts.add(r),Me[t]={configs:[Object.assign(Object.assign({},e),{font:r})]},!0}catch(r){return Y.warn("Failed to load font ".concat(t," with source ").concat(e.source),r),!1}}),ss=(t,e,n)=>dt(void 0,void 0,void 0,function*(){if(e.some(Rn))return Y.error("Unable to load multiple FontFace for the same family ".concat(t)),!1;const r=[];return e.forEach(i=>{const o=new FontFace(t,i.source,i.descriptors);o.loaded.then(n),document.fonts.add(o),r.push(Object.assign(Object.assign({},i),{font:o}))}),Me[t]={configs:r},!0}),ls=(t,e)=>dt(void 0,void 0,void 0,function*(){if(t in Me)return Me[t];let n;if(e)n=e;else try{n=(yield Yr())[t]}catch(o){const a=o instanceof Error?" due to "+o.message:"";throw new Error("Unable to load font definition of "+t+a)}const r=()=>{ns(t,n)};for(const o of n.configs)if(Array.isArray(o)?yield ss(t,o,r):yield as(t,o,r))break;const i=Me[t];if(i)return i.displayName=n.displayName,i.url=n.url,Me[t]}),us=t=>dt(void 0,void 0,void 0,function*(){const e=Me[t];if(!e)throw new Error("Font family ".concat(t," is not loaded"));return(yield Promise.all(e.configs.filter(r=>{const i=r.font.status==="loaded";return i||Y.warn("Font family ".concat(t," is not loaded completely. Some FontFaceRules may be missing")),i}).map(r=>dt(void 0,void 0,void 0,function*(){if(Rn(r))return tr(t,r);const i=is(r),o=yield fetch(i),a=yield ko(yield o.blob());return tr(t,Object.assign(Object.assign({},r),{source:"url('".concat(a,"')")}))})))).join("\n\n")}),ot={getAllFonts:Yr,getLoadedFonts:ts,loadFont:ls,getFontCSS:us,onRemoteFontLoaded:rs},cs=()=>{if(se.getEnvironment()!=="PRD"||!se.isRMT())if(document.querySelector('meta[name="robots"]'))Y.info("Noindex meta tag already presents.");else{Y.info("Injecting noindex meta tag as this app is not PRD RMT.");const t=document.createElement("meta");t.name="robots",t.content="noindex",document.head.appendChild(t)}},ds={injectNoindexRule:cs};var Xr=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(h){a(h)}}function l(u){try{c(r.throw(u))}catch(h){a(h)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})};let Jr=!1;const fs=()=>Xr(void 0,void 0,void 0,function*(){yield se.loadWithTimeout(),Y.setup(se.getComponent()),ds.injectNoindexRule(),ge.isAnalyticsQADone()?ge.isAllowAnalytics()&&(Y.info("User has previously allowed GA"),Rt.init()):pe.isStandaloneWindow()&&!se.isRMT()&&(Y.warn("App is opened in standalone window but analytics Q&A is not finished. GA will be init by default."),Rt.init()),Jr=!0}),hs=()=>Xr(void 0,void 0,void 0,function*(){let t=0;for(;t<=10&&!Jr;)yield jr(1e3),t+=1}),Z={ready:hs,getAppName:se.getComponent,getAppVersion:se.getVersion,getEnv:se.getEnvironment,getInstance:se.getInstance,event:Rt.customEvent,isStandaloneWindow:pe.isStandaloneWindow,injectUITools:pe.injectUITools,openApp:pe.openApp,onAppOpen:pe.onAppOpen,closeApp:pe.closeApp,onAppClose:pe.onAppClose,updateAppMetadata:pe.updateAppMetadata,onAppMetadataUpdate:pe.onAppMetadataUpdate,updateUrl:pe.updateUrl,onUrlUpdate:pe.onUrlUpdate,toggleNavMenu:pe.toggleNavMenu,postEvent:ee.postEvent,onMessage:ee.onMessage,setLanguage:ge.setLanguage,getLanguage:ge.getLanguage,onLanguageChange:ge.onLanguageChange,setColourMode:ge.setColourMode,getColourMode:ge.getColourMode,onColourModeChange:ge.onColourModeChange,isAnalyticsQADone:ge.isAnalyticsQADone,isAllowAnalytics:ge.isAllowAnalytics,allowAnalytics:ge.allowAnalytics,storage:{on:Ke.on,get:Ke.get,getAll:Ke.getAll,set:Ke.set,remove:Ke.remove,clear:Ke.clear},getMsSinceStartUp:Sa.getMsSinceStartUp,I18nBuilder:es,getI18nInstance:Qa,getAllFonts:ot.getAllFonts,getLoadedFonts:ot.getLoadedFonts,loadFont:ot.loadFont,getFontCSS:ot.getFontCSS,onRemoteFontLoaded:ot.onRemoteFontLoaded};fs().then();window.rmgRuntime=Z;const qe=Y.logger;var vt={},nr;function ps(){if(nr)return vt;nr=1;var t=Oo();return vt.createRoot=t.createRoot,vt.hydrateRoot=t.hydrateRoot,vt}var gs=ps();const ms="modulepreload",ys=function(t){return"/rma/"+t},rr={},qr=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),s=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=ys(l),l in rr)return;rr[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector('link[href="'.concat(l,'"]').concat(u)))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":ms,c||(h.as="script"),h.crossOrigin="",h.href=l,s&&h.setAttribute("nonce",s),document.head.appendChild(h),c)return new Promise((f,g)=>{h.addEventListener("load",f),h.addEventListener("error",()=>g(new Error("Unable to preload CSS for ".concat(l))))})}))}function o(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return i.then(a=>{for(const s of a||[])s.status==="rejected"&&o(s.reason);return e().catch(o)})};var Qr=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var a=o[i];n.call(r,a[1],a[0])}},e}()}(),cn=typeof window<"u"&&typeof document<"u"&&window.document===document,Mt=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),vs=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Mt):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),xs=2;function bs(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&s()}function a(){vs(o)}function s(){var l=Date.now();if(n){if(l-i<xs)return;r=!0}else n=!0,r=!1,setTimeout(a,e);i=l}return s}var ws=20,Ss=["top","right","bottom","left","width","height","size","weight"],Cs=typeof MutationObserver<"u",Os=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=bs(this.refresh.bind(this),ws)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!cn||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Cs?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!cn||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=Ss.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),Zr=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},Qe=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Mt},ei=Nt(0,0,0,0);function It(t){return parseFloat(t)||0}function ir(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var o=t["border-"+i+"-width"];return r+It(o)},0)}function As(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],a=t["padding-"+o];n[o]=It(a)}return n}function Ps(t){var e=t.getBBox();return Nt(0,0,e.width,e.height)}function Rs(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return ei;var r=Qe(t).getComputedStyle(t),i=As(r),o=i.left+i.right,a=i.top+i.bottom,s=It(r.width),l=It(r.height);if(r.boxSizing==="border-box"&&(Math.round(s+o)!==e&&(s-=ir(r,"left","right")+o),Math.round(l+a)!==n&&(l-=ir(r,"top","bottom")+a)),!js(t)){var c=Math.round(s+o)-e,u=Math.round(l+a)-n;Math.abs(c)!==1&&(s-=c),Math.abs(u)!==1&&(l-=u)}return Nt(i.left,i.top,s,l)}var _s=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Qe(t).SVGGraphicsElement}:function(t){return t instanceof Qe(t).SVGElement&&typeof t.getBBox=="function"}}();function js(t){return t===Qe(t).document.documentElement}function Es(t){return cn?_s(t)?Ps(t):Rs(t):ei}function Ls(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(o.prototype);return Zr(a,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),a}function Nt(t,e,n,r){return{x:t,y:e,width:n,height:r}}var Ms=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Nt(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=Es(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),Is=function(){function t(e,n){var r=Ls(n);Zr(this,{target:e,contentRect:r})}return t}(),ks=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new Qr,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Qe(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new Ms(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Qe(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new Is(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),ti=typeof WeakMap<"u"?new WeakMap:new Qr,ni=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Os.getInstance(),r=new ks(e,n,this);ti.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){ni.prototype[t]=function(){var e;return(e=ti.get(this))[t].apply(e,arguments)}});var Ts=function(){return typeof Mt.ResizeObserver<"u"?Mt.ResizeObserver:ni}();window.ResizeObserver||(window.ResizeObserver=Ts);var dn=function(){return dn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},dn.apply(this,arguments)},Ds=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Hc=function(t){var e=t.isOpen,n=t.onClose,r=t.children,i=t.sx,o=t.size,a=t.zIndex,s=Ds(t,["isOpen","onClose","children","sx","size","zIndex"]),l=Be("RmgAppClip",{size:o,zIndex:a!=null?a:1500}),c=v.useRef(null);return Ci({ref:c,handler:n}),d.jsx(Oi,{children:d.jsxs(rn.div,dn({className:e?"show-app-clip":"",sx:l},s,{children:[d.jsx("div",{className:"rmg-app-clip__overlay"}),d.jsx(Ai,{isDisabled:!e,children:d.jsx("div",{className:"rmg-app-clip__container",children:d.jsx(rn.section,{ref:c,role:"dialog",className:"rmg-app-clip__content",sx:i,children:r})})})]}))})};const[zs,Ve]=Ns();function Ns(){const t=v.createContext(void 0);t.displayName="AutoCompleteContext";function e(){var n;const r=v.useContext(t),i="useAutoCompleteContext: `context` is undefined. Seems you forgot to wrap all autoomplete components within `<AutoComplete />`";if(!r){const o=new Error(i);throw o.name="ContextError",(n=Error.captureStackTrace)==null||n.call(Error,o,e),o}return r}return[t.Provider,e,t]}function Fs(t){return t==null?void 0:t[0]}function Zt(t){return t!=null&&t.length?t[t.length-1]:void 0}function ri(t,e,n=1,r=!0){if(e===0)return-1;let i=t+n;return t===-1&&(i=n>0?0:e-1),r?i=(i%e+e)%e:i=Math.max(0,Math.min(i,e-1)),i}function $s(t,e,n=!0){return ri(t,e,-1,n)}function Bs(t,e,n=!0){const r=ri(t,e.length,1,n);return e[r]}function Ws(t,e,n=!0){const r=$s(t,e.length,n);return e[r]}function _n(t){return Array.isArray(t)}function Vs(t){return _n(t)&&t.length===0}function jn(t){return t!==null&&typeof t=="object"&&!_n(t)}function Us(t){return jn(t)&&Object.keys(t).length===0}function ii(t){return _n(t)?Vs(t):jn(t)?Us(t):t==null||t===""}function Ct(t){return typeof t>"u"}function oi(t){return typeof t<"u"}function Hs(t,e){const n={};return e.forEach(r=>{r in t&&(n[r]=t[r])}),n}function En(t,e){const n={...t};return e.forEach(r=>{delete n[r]}),n}function Gs(t){return typeof t=="function"}function Q(t,...e){return Gs(t)?t(...e):t}var Ft=function(t,e){for(var n,r=v.Children.toArray(t),i=0,o=r;i<o.length;i++){var a=o[i];if(e(a))return a;if(!((n=a.props)===null||n===void 0)&&n.children){var s=Ft(a.props.children,e);if(s)return s}}},xt=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},ai=function(t,e){for(var n,r=v.Children.toArray(t),i=[],o=0,a=r;o<a.length;o++){var s=a[o];e(s)&&(i=xt(xt([],i),[s])),!((n=s.props)===null||n===void 0)&&n.children&&(i=xt(xt([],i),ai(s.props.children,e)))}return i};function or(t,e,n=2){function r(h,f){h=" ".repeat(f-1)+h.toLowerCase()+" ".repeat(f-1);let g=new Array(h.length-f+1);for(let y=0;y<g.length;y++)g[y]=h.slice(y,y+f);return g}if(!(t!=null&&t.length)||!(e!=null&&e.length))return 0;let i=t.length<e.length?t:e,o=t.length<e.length?e:t,a=r(i,n),s=r(o,n),l=new Set(a),c=s.length,u=0;for(let h of s)l.delete(h)&&u++;return u/c}const Ln=t=>{var e;return(e=typeof t=="string"||typeof t=="number"?t:t[Object.keys(t)[0]])==null?void 0:e.toString()},Ks=(t,e)=>typeof t!="string"||ii(e)?t:t.toString().replace(new RegExp(qs(e),"gi"),n=>"<mark>".concat(n,"</mark>")),Ys=t=>ai(t,e=>{var n;return((n=e==null?void 0:e.type)==null?void 0:n.displayName)==="AutoCompleteItem"}).map(e=>{const n=Hs(e.props,["value","label","fixed","disabled"]),{getValue:r=Ln}=e.props,i=r(n.value);return{...oi(n.label)?n:{...n,label:i},value:i,originalValue:n.value}}),Xs=()=>({bg:"whiteAlpha.100",_light:{bg:"gray.200"}}),Js=(t,e,n)=>(e==null?void 0:e.toLowerCase().indexOf(t==null?void 0:t.toLowerCase()))>=0||(n==null?void 0:n.toLowerCase().indexOf(t==null?void 0:t.toLowerCase()))>=0||or(t,e)>=.5||or(t,n)>=.5;function qs(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}const Qs=(t,e)=>Ft(t,n=>{var r;return((r=n==null?void 0:n.type)==null?void 0:r.displayName)==="AutoCompleteItem"&&n.props.value===(e==null?void 0:e.value)}),Zs=(t,e)=>Ft(t,n=>{var r;return((r=n==null?void 0:n.type)==null?void 0:r.displayName)==="AutoCompleteItem"&&n.props.value===(e==null?void 0:e.value)}),el=(t,e)=>oi(Ft(t,n=>{var r,i;const o=Q(((r=n.props)==null?void 0:r.getValue)||Ln,((i=n.props)==null?void 0:i.value)||{});return e.some(a=>a.value===o)})),tl=(t,e)=>{const n={},r={},{field:i}=t;return i&&Object.keys(i).forEach(o=>{if(o.startsWith("--input")===!1)n[o]=i[o];else{let a=i[o];const s=o.replace("--input-","").replace(/-([a-z])/g,function(l){return l[1].toUpperCase()});a.indexOf(".")!==-1&&(a=a.substring(a.indexOf(".")+1)),r[s]=a}}),{...e&&{...n,...r,_focusWithin:t.field._focus,pos:"relative",minH:9,py:1.5,spacing:3},cursor:"text",h:"fit-content"}};function nl(t){var e;let{prefocusFirstItem:n=!0,closeOnBlur:r=!0,creatable:i,emphasize:o,emptyState:a=!0,defaultEmptyStateProps:s={},freeSolo:l,isReadOnly:c,listAllValuesOnFocus:u,maxSuggestions:h,multiple:f,closeOnSelect:g=!f,defaultValue:y,defaultValues:x=y?[y]:[],onReady:w,defaultIsOpen:L,disableFilter:O,isLoading:V=!1,placement:P="bottom",restoreOnBlurIfEmpty:D=!l,shouldRenderSuggestions:$=()=>!0,submitKeys:I=[],suggestWhenEmpty:k,value:_,values:N=_?typeof _=="string"?[_]:[..._]:void 0}=t;l=l||(f?!0:t.freeSolo);const{isOpen:S,onClose:H,onOpen:B}=Ii({defaultIsOpen:L}),W=v.useMemo(()=>Q(t.children,{isOpen:S,onClose:H,onOpen:B}),[t.children,S]),M=v.useMemo(()=>Ys(W),[W]),G=v.useRef(null),we=v.useRef(null),K=v.useRef(null),J=v.useRef(null),[Se,Ce]=v.useState(!1);let ie="";f?ie="":Ct(x)?Ct(N)||(ie=N[0]):ie=x[0];const[de,oe]=v.useState(ie!=null?ie:""),te=v.useMemo(()=>O?M:M.filter(b=>b.fixed||Q(t.filter||Js,de,b.value,b.label)||Se).filter((b,F)=>h?b.fixed||F<h:!0),[de,M,Se,h,O]),Ue=i?[{value:de,noFilter:!0,creatable:!0}]:[],q=v.useMemo(()=>[...te,...Ue],[te,Ue]),[Oe,Vt]=ki({defaultValue:x.map(b=>b==null?void 0:b.toString()),value:N,onChange:b=>{const F=q.find(U=>U.value===b[0]);if(!F)return;const ne=b.map(U=>q.find(me=>me.value===U));Q(t.onChange,f?b:b[0],f?ne:F)}});v.useEffect(()=>{q.length===0&&!a&&S&&H()},[q.length,a,S]);const[He,Re]=v.useState(n?(e=M[0])==null?void 0:e.value:null),bi=t.maxSelections||Oe.length+1,Ut=q.findIndex(b=>b.value===He),Tn=Bs(Ut,q,!!t.rollNavigation),Dn=Ws(Ut,q,!!t.rollNavigation),Te=Fs(q),zn=Zt(q),Nn=!q.some(b=>b.value===He);v.useEffect(()=>{var b;Nn&&Re(n?(b=M[0])==null?void 0:b.value:null)},[Nn]),Ti(()=>{n&&Re(Te==null?void 0:Te.value)},[de,Te==null?void 0:Te.value]),v.useEffect(()=>{var b;!S&&n&&Re((b=M[0])==null?void 0:b.value)},[S]),v.useEffect(()=>{S&&u&&Ce(!0)},[S,u,Ce]),v.useEffect(()=>{const b=M.find(F=>F.value===He);Q(t.onOptionFocus,{item:b,focusMethod:J.current,isNewInput:b==null?void 0:b.creatable})},[He,t.onOptionFocus]);const Ht=b=>{var F,ne;const U=q.find(fe=>fe.value===b),me=(U==null?void 0:U.label)||(U==null?void 0:U.value);oe(()=>f?"":me!=null?me:""),!Oe.includes(b)&&Oe.length<bi&&Vt(fe=>f?[...fe,b]:[b]),f&&((F=G.current)==null||F.focus()),t.focusInputOnSelect&&((ne=G.current)==null||ne.focus()),Q(t.onSelectOption,{item:U,selectMethod:J.current,isNewInput:U==null?void 0:U.creatable}),U!=null&&U.creatable&&Q(t.onCreateOption,{item:En(U,["noFilter"]),selectMethod:J.current}),g&&H()},Fn=(b,F)=>{var ne;Vt(fe=>{const De=M.find(_e=>_e.value===b);return De?(Q(t.onTagRemoved,b,De,fe),fe.filter(_e=>_e!==b)):fe});const U=M.find(fe=>fe.value===b),me=(U==null?void 0:U.label)||(U==null?void 0:U.value);de===me&&oe(""),F&&((ne=G.current)==null||ne.focus())},wi=b=>{var F;Vt([]),b&&((F=G.current)==null||F.focus())},$n=f?Oe.map(b=>{var F;return{label:((F=M.find(ne=>ne.value===(b==null?void 0:b.toString())))==null?void 0:F.label)||b,onRemove:()=>Fn(b)}}):[];return v.useEffect(()=>{Q(w,{tags:$n})},[Oe]),{autoCompleteProps:t,children:W,filteredList:q,filteredResults:te,focusedValue:He,defaultEmptyStateProps:s,getEmptyStateProps:b=>{if(q.every(F=>F.noFilter)&&a&&!i)return typeof a=="boolean"?b:Q(a,{query:de})},getGroupProps:b=>{const F=el(b.children,q);return{divider:{hasFirstChild:Qs(b.children,Te),hasLastChild:Zs(b.children,Zt(q.filter(ne=>Ct(ne==null?void 0:ne.noFilter))))},group:{display:F?"initial":"none"}}},getInputProps:(b,F)=>{const{onBlur:ne,onChange:U,onFocus:me,onKeyDown:fe,variant:De,..._e}=b;return{wrapper:{ref:we,onClick:()=>{var z;(z=G==null?void 0:G.current)==null||z.focus()},...tl(F,f),..._e},input:{isReadOnly:c,onFocus:z=>{Q(me,z),t.openOnFocus&&!c&&B(),t.selectOnFocus&&z.target.select(),u&&Ce(!0)},onBlur:z=>{var ye,le;Q(ne,z);const ue=z.relatedTarget===(K==null?void 0:K.current)||((ye=K.current)==null?void 0:ye.contains(z.relatedTarget)),Gt=(le=we.current)==null?void 0:le.contains(z.relatedTarget);if(!ue&&!Gt&&(r&&H(),!Oe.includes(z.target.value)&&D)){const Kt=Zt(Oe),Ge=M.find(Yt=>Yt.value===Kt),Ae=(Ge==null?void 0:Ge.label)||(Ge==null?void 0:Ge.value)||"";oe(Ae)}},onChange:z=>{const ye=z.target.value;Q(U,z),oe(ye);const le=ii(ye);Q($,ye)&&(!le||k)?B():H(),Ce(!1)},onKeyDown:z=>{var ye;Q(fe,z),J.current="keyboard";const{key:le}=z,ue=q[Ut];if(["Enter",...I].includes(le)){ue&&!(ue!=null&&ue.disabled)&&S?Ht(ue==null?void 0:ue.value):(ye=G.current)==null||ye.focus(),z.preventDefault();return}if(le==="ArrowDown"){S?Re(Tn==null?void 0:Tn.value):B(),z.preventDefault();return}if(le==="ArrowUp"){S?Re(Dn==null?void 0:Dn.value):B(),z.preventDefault();return}if(le==="Tab"){S&&ue&&!(ue!=null&&ue.disabled)?Ht(ue==null?void 0:ue.value):H();return}if(le==="Home"){Re(Te==null?void 0:Te.value),z.preventDefault();return}if(le==="End"){Re(zn==null?void 0:zn.value),z.preventDefault();return}le==="Escape"&&(H(),z.preventDefault())},value:de,variant:f?"unstyled":De,..._e}}},getItemProps:(b,F)=>{var ne;const{_fixed:U,_focus:me,children:fe,disabled:De,label:_e,value:z,fixed:ye,getValue:le=Ln,onClick:ue,onMouseOver:Gt,sx:Kt,...Ge}=b,Ae=F?z:(ne=le(z))==null?void 0:ne.toString(),Yt=Ae===He,Si=q.findIndex(tt=>tt.value===Ae)>=0,Xt=fe||_e||Ae;return{item:{...typeof Xt!="string"||!o?{children:Xt}:{dangerouslySetInnerHTML:{__html:Ks(Xt,de)}},"aria-selected":Oe.includes(Ae),"aria-disabled":De,_disabled:{opacity:.4,cursor:"not-allowed",userSelect:"none"},onClick:tt=>{var Bn;Q(ue,tt),De?(Bn=G.current)==null||Bn.focus():Ht(Ae)},onMouseOver:tt=>{Q(Gt,tt),Re(Ae),J.current="mouse"},sx:{...Kt,mark:{color:"inherit",bg:"transparent",...jn(o)?o:{fontWeight:o?"extrabold":"inherit"}}},...Yt&&(me||Xs()),...ye&&U,...Ge},root:{isValidSuggestion:Si,value:Ae}}},inputRef:G,interactionRef:J,isLoading:V,isOpen:S,itemList:M,listRef:K,onClose:H,onOpen:B,placement:P,query:de,removeItem:Fn,resetItems:wi,setQuery:oe,tags:$n,value:_,values:Oe}}const rl=We((t,e)=>{const n=nl(t),{children:r,isOpen:i,onClose:o,onOpen:a,placement:s,resetItems:l,removeItem:c}=n;v.useImperativeHandle(e,()=>({resetItems:l,removeItem:c}));const{matchWidth:u=!0}=n.autoCompleteProps;return d.jsx(zs,{value:n,children:d.jsx(wr,{isLazy:!0,isOpen:i,autoFocus:!1,placement:s,closeOnBlur:!0,matchWidth:u,children:d.jsx(rn.div,{w:"full",ref:e,children:r})})})});rl.displayName="AutoComplete";const il=We((t,e)=>{const{focusedValue:n,getItemProps:r,interactionRef:i}=Ve(),o=v.useRef(),a=ft(e,o),s=r(t),{isValidSuggestion:l,value:c}=s.root,u=n===c;v.useEffect(()=>{var x;u&&i.current==="keyboard"&&((x=o==null?void 0:o.current)==null||x.scrollIntoView({behavior:"smooth",block:"nearest"}))},[u,i]),v.useEffect(()=>{typeof c!="string"&&console.warn("wow"),typeof c!="string"&&Ct(t.getValue)&&console.error("You must define the `getValue` prop, when an Item's value is not a string")},[]);const{children:h,dangerouslySetInnerHTML:f,...g}=s.item,y=En(g,["groupId"]);return l?d.jsx(be,{ref:a,...ol,...y,children:h||d.jsx("span",{dangerouslySetInnerHTML:f})}):null});il.displayName="AutoCompleteItem";const ol={mx:"2",px:"2",py:"2",rounded:"md",cursor:"pointer"},al=We((t,e)=>{const{children:n,showDivider:r,...i}=t,o=En(i,["groupSibling"]),{getGroupProps:a}=Ve(),{group:s}=a(t),l=ul(t);return d.jsxs(Ie,{ref:e,...s,...o,children:[d.jsx(on,{...l.top}),n,d.jsx(on,{...l.bottom})]})}),sl=We((t,e)=>d.jsx(be,{...ll,...t,ref:e}));al.displayName="AutoCompleteGroup";sl.displayName="AutoCompleteGroupTitle";const ll={ml:5,my:1,fontSize:"xs",letterSpacing:"wider",fontWeight:"extrabold",textTransform:"uppercase"},ul=t=>{const{getGroupProps:e}=Ve(),n=t.groupSibling,{divider:{hasFirstChild:r,hasLastChild:i}}=e(t),o={my:2,borderColor:t.dividerColor},a={...o,mb:4,display:!t.showDivider||r?"none":""},s={...o,display:!t.showDivider||i||n?"none":""};return{top:a,bottom:s}},ar=We((t,e)=>{const{isLoading:n}=Ve(),{loadingIcon:r,...i}=t;return d.jsxs(Di,{children:[d.jsx(Or,{...i,ref:e}),n&&d.jsx(zi,{children:r||d.jsx(Cr,{})})]})}),si=We((t,e)=>{const{autoCompleteProps:n,inputRef:r,getInputProps:i,tags:o,setQuery:a,value:s,itemList:l}=Ve(),{children:c,isInvalid:u,hidePlaceholder:h,...f}=t,{value:g}=f;v.useEffect(()=>{if(s!==void 0&&(typeof s=="string"||s instanceof String)){const I=l.find(_=>_.value===s),k=I===void 0?s:I.label;a(k)}},[s]),v.useEffect(()=>{g!==void 0&&(typeof g=="string"||g instanceof String)&&a(g)},[g]);const y=ji("Input",t);let{wrapper:x,input:w}=i(f,y);const{ref:L,...O}=x,V=ft(e,r),P=Q(c,{tags:o});h&&(w={...w,placeholder:Array.isArray(P)&&P.length?void 0:w.placeholder});const D=d.jsx(ar,{isInvalid:u,...w,ref:V}),$=d.jsxs(Ei,{"aria-invalid":u,...O,ref:L,children:[P,d.jsx(br,{as:ar,...w,ref:V})]});return d.jsx(Li,{children:n.multiple?$:D})});si.displayName="Input";si.id="Input";const cl=t=>{const{getEmptyStateProps:e,defaultEmptyStateProps:n}=Ve(),r=e(d.jsx(be,{...dl,...n,children:"No options found!"}));return d.jsx(Ie,{...t,children:r})},dl={fontSize:"sm",align:"center",justify:"center",fontWeight:"bold",fontStyle:"italic"},sr=["AutoCompleteGroup","AutoCompleteItem","AutoCompleteCreatable"],fl=t=>{const e=ae.Children.map(t,(r,i)=>{var o;if(((o=r==null?void 0:r.type)==null?void 0:o.displayName)==="AutoCompleteGroup"){const a=ae.Children.toArray(t)[i+1];return ae.cloneElement(r,{groupSibling:a?a.type.displayName==="AutoCompleteGroup":!1})}return r}),n=ae.Children.toArray(e).filter(r=>{var i;return!sr.includes((i=r==null?void 0:r.type)==null?void 0:i.displayName)});return[ae.Children.toArray(e).filter(r=>{var i;return sr.includes((i=r==null?void 0:r.type)==null?void 0:i.displayName)}),n]},hl=We((t,e)=>{const{children:n,loadingState:r,...i}=t,{listRef:o,isLoading:a}=Ve(),s=ft(e,o),[l,c]=fl(n);return d.jsxs(Sr,{ref:s,w:"inherit",...pl,...i,children:[a&&d.jsx(Mi,{children:r||d.jsx(Cr,{size:"md"})}),!a&&d.jsxs(d.Fragment,{children:[l,d.jsx(cl,{}),c]})]})});hl.displayName="AutoCompleteList";const pl={py:"4",opacity:"0",bg:"#232934",rounded:"md",maxH:"350px",border:"none",shadow:"base",zIndex:"popover",overflowY:"auto",_light:{bg:"#ffffff"},_focus:{boxShadow:"none"}};v.memo(t=>{const{label:e,onRemove:n,disabled:r,...i}=t;return d.jsx(br,{children:d.jsxs(Pi,{borderRadius:"md",fontWeight:"normal",...r&&lr,...i,children:[d.jsx(Ri,{children:e}),d.jsx(_i,{onClick:()=>!r&&Q(n),cursor:"pointer",...r&&lr})]})})});const lr={cursor:"text",userSelect:"none",opacity:.4,_focus:{boxShadow:"none"}};var fn=function(){return fn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},fn.apply(this,arguments)},gl=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},ml=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},yl=function(t,e){var n=t.validator,r=t.onDebouncedChange,i=t.delay,o=t.optionList,a=t.defaultValue;t.onChange;var s=gl(t,["validator","onDebouncedChange","delay","optionList","defaultValue","onChange"]),l=v.useRef(null),c=ft(l,e),u=v.useRef("datalist-"+new Date().valueOf()),h=ml(v.useState(!1),2),f=h[0],g=h[1],y=v.useRef();v.useEffect(function(){l.current&&(l.current.value=(a==null?void 0:a.toString())||"")},[a]);var x=function(L){var O=L.target.value;window.clearTimeout(y.current),n&&g(!n(O)),y.current=window.setTimeout(function(){r==null||r(O),y.current=void 0},i!=null?i:500)},w=function(L){var O=L.target.value;y.current!==void 0&&(window.clearTimeout(y.current),n&&g(!n(O)),r==null||r(O),y.current=void 0)};return d.jsxs(d.Fragment,{children:[d.jsx(Or,fn({ref:c,list:u.current,variant:"flushed",size:"sm",h:6,onChange:x,onBlur:w,isInvalid:f},s)),o&&d.jsx("datalist",{id:u.current,children:o==null?void 0:o.map(function(L,O){return d.jsx("option",{children:L},O)})})]})},Gc=v.forwardRef(yl),hn=function(){return hn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},hn.apply(this,arguments)},vl=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},xl=function(t,e){var n=t.onDebouncedChange,r=t.defaultValue;t.onChange;var i=vl(t,["onDebouncedChange","defaultValue","onChange"]),o=v.useRef(null),a=ft(o,e),s=v.useRef();v.useEffect(function(){o.current&&(o.current.value=(r==null?void 0:r.toString())||"")},[r]);var l=function(c){var u=c.target.value;window.clearTimeout(s.current),s.current=window.setTimeout(function(){n==null||n(u)},500)};return d.jsx(Ni,hn({ref:a,variant:"flushed",size:"sm",resize:"none",onChange:l},i))},Kc=v.forwardRef(xl);var bl=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},wl=function(t){switch(t){case ke.DEV:return"red";case ke.UAT:return"orange";case ke.PRD:return"green"}};function Yc(t){var e=t.environment,n=t.version,r=t.popoverHeader,i=t.popoverBody,o=bl(v.useState(!1),2),a=o[0],s=o[1];return d.jsxs(wr,{isOpen:a,onOpen:function(){return r&&s(!0)},onClose:function(){return s(!1)},children:[d.jsx(Fi,{children:d.jsx($i,{ml:1,colorScheme:wl(e),title:"".concat(e,": ").concat(n),cursor:r?"pointer":"help",children:e===ke.PRD?n:e})}),d.jsxs(Sr,{children:[d.jsx(Bi,{}),d.jsx(Wi,{}),d.jsx(Vi,{children:r}),d.jsx(Ui,{children:i})]})]})}var Sl=function(t,e,n){var r=new Blob([n],{type:e});Cl(t,r)},Cl=function(t,e){var n=window.URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n)},Ol=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o};function Al(t){var e=t.cancelRef,n=t.isOpen,r=t.onClose,i=Ol(v.useState(!1),2),o=i[0],a=i[1],s=function(){a(!0);var l=Z.storage.getAll(),c=Z.getAppName(),u="".concat(c,"_BACKUP_").concat(new Date().toISOString(),".json");Sl(u,"application/json",JSON.stringify(l)),Z.storage.clear(),setTimeout(function(){window.location.reload()},2e3)};return d.jsxs(Hi,{leastDestructiveRef:e,isOpen:n,onClose:r,children:[d.jsx(Ar,{}),d.jsxs(Gi,{children:[d.jsx(Pr,{children:"Warning 警告"}),d.jsx(Rr,{}),d.jsxs(_r,{sx:{"& p":{my:1}},children:[d.jsx(ce,{children:"Are you sure you want to reset the app? The webpage local storage for this app will be cleared. A copy of the local storage will be downloaded and it may be used for restoration (varies with app)."}),d.jsx(ce,{children:"確定重設該應用程式嗎？應用程式的網頁本地儲存將會被清除。本地儲存的副本可供下載及用於復原（因應用程式而異）。"}),d.jsx(ce,{children:"确定重置本应用程序吗？应用程序的网页本地存储将会被清除。本地存储的拷贝可供下载以及用于还原（因应用程序而異）。"})]}),d.jsxs(Ki,{children:[d.jsx(an,{ref:e,onClick:r,children:"Cancel"}),d.jsx(an,{isLoading:o,colorScheme:"red",ml:3,onClick:s,children:"Confirm and reload"})]})]})]})}var ut=function(){return ut=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ut.apply(this,arguments)},Pl=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Rl=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o};function _l(t){var e=t.error,n=t.errorInfo,r=t.allowReset,i=t.sx,o=Pl(t,["error","errorInfo","allowReset","sx"]),a=Be("RmgErrorBoundary"),s=Ne("primary.500","primary.300"),l=Rl(v.useState(!1),2),c=l[0],u=l[1],h=v.useRef(null),f=function(x){return d.jsx(Wn,{color:s,role:"button",onClick:function(){return u(!0)},children:x})},g=Z.getAppName(),y=d.jsx(Wn,{color:s,href:"https://github.com/railmapgen/".concat(g==="rmg-home"?"railmapgen.github.io":g,"/issues"),isExternal:!0,children:"GitHub Issue"});return d.jsxs(Yi,ut({status:"error",sx:ut(ut({},a),i)},o,{children:[d.jsx(Xi,{}),d.jsx(Ji,{children:"Something went wrong!"}),d.jsxs(qi,{children:[d.jsxs(ce,{children:["Please try to refresh or re-import your configuration files. If the issue still persists, please consider upgrading your browser",r?d.jsxs(d.Fragment,{children:[" or ",f("reset this app")]}):"",". Should you need any help, please contact us by submitting an issue in ",y," with the details shown below."]}),d.jsxs(ce,{children:["請嘗試重新整理或重新上載設定檔。如果問題仍然存在，請考慮更新你的瀏覽器",r?d.jsxs(d.Fragment,{children:["或",f("重設該應用程式")]}):"","。如需協助或與我們聯絡，請前往 ",y," 提交一個 Issue 並附以詳細資料。"]}),d.jsxs(ce,{children:["请尝试刷新或者重新上传配置文件。如果问题仍然存在，请考虑更新您的浏览器",r?d.jsxs(d.Fragment,{children:["或者",f("重置本应用程序")]}):"","。如需帮助或者联系我们，请前往 ",y," 提交一个 Issue 并附上详细信息。"]}),d.jsxs(ce,{as:"details",children:[e==null?void 0:e.toString(),d.jsx("br",{}),n==null?void 0:n.componentStack]}),r&&d.jsx(Al,{cancelRef:h,isOpen:c,onClose:function(){return u(!1)}})]})]}))}var jl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),pn=function(){return pn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},pn.apply(this,arguments)},El=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};(function(t){jl(e,t);function e(n){var r=t.call(this,n)||this;return r.state={hasError:!1,error:null,errorInfo:null},r}return e.getDerivedStateFromError=function(){return{hasError:!0}},e.prototype.componentDidCatch=function(n,r){this.setState({error:n,errorInfo:r})},e.prototype.render=function(){var n=this.props,r=n.children,i=n.suspenseFallback,o=n.allowReset,a=El(n,["children","suspenseFallback","allowReset"]);return this.state.hasError?d.jsx(_l,pn({error:this.state.error,errorInfo:this.state.errorInfo,allowReset:o},a)):i?d.jsx(v.Suspense,{fallback:i,children:r}):r},e})(ae.Component);var gn=function(){return gn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},gn.apply(this,arguments)},Ll=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Xc=function(t){var e=t.label,n=t.children;t.width;var r=t.noLabel,i=t.oneLine,o=t.helper,a=t.errorMessage,s=t.className,l=Ll(t,["label","children","width","noLabel","oneLine","helper","errorMessage","className"]),c=Be("RmgLabel");return d.jsxs(Qi,gn({className:"".concat(i?"rmg-label__one-line":""," ").concat(s!=null?s:""),"aria-label":e,sx:c,isInvalid:!!a},l,{children:[!r&&d.jsx(Zi,{size:"xs",children:e}),n,a?d.jsx(eo,{children:a}):o?d.jsx(to,{children:o}):d.jsx(d.Fragment,{})]}))},mn=function(){return mn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},mn.apply(this,arguments)},Ml=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},ur=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o};function Jc(t){var e=t.defaultValue,n=t.options,r=t.disabledOptions,i=Ml(t,["defaultValue","options","disabledOptions"]),o=v.useRef(null);v.useEffect(function(){o.current&&(o.current.value=(e==null?void 0:e.toString())||"")},[e]);var a=function(s,l){return d.jsx("option",{value:s,disabled:(r==null?void 0:r.find(function(c){return c.toString()===s}))!==void 0,children:l},s)};return d.jsx(no,mn({ref:o,variant:"flushed",size:"sm",h:6},i,{children:Object.entries(n).map(function(s){var l=ur(s,2),c=l[0],u=l[1];return typeof u=="object"?d.jsx("optgroup",{label:c,children:Object.entries(u).map(function(h){var f=ur(h,2),g=f[0],y=f[1];return a(g,y)})},c):a(c,u)})}))}var Il=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},qc=function(t,e,n){var r=Il(v.useState(e()),2),i=r[0],o=r[1];return v.useEffect(function(){t.then(function(){console.debug("[rmg-components] Getter updates finished"),o(e())})},[]),i},en=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},cr=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},kl=function(t,e){var n=en(v.useState(!0),2),r=n[0],i=n[1],o=v.useRef([]),a=v.useRef(),s=v.useCallback(function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];if(!r){o.current=l;return}i(!1),o.current=[],t.apply(void 0,cr([],en(l),!1))},[r,t]);return v.useEffect(function(){if(!r)return a.current=window.setTimeout(function(){i(!0),o.current.length&&t.apply(void 0,cr([],en(o.current),!1))},e),function(){window.clearTimeout(a.current)}},[r,e]),s},Tl=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o};function Qc(t){var e=t.defaultValue,n=t.min,r=t.max,i=t.step,o=t.onThrottledChange,a=t.leftIcon,s=t.rightIcon,l=Be("RmgThrottledSlider"),c=Tl(v.useState(e!=null?e:0),2),u=c[0],h=c[1];v.useEffect(function(){e!==void 0&&u!==e&&h(e)},[e]);var f=kl(o!=null?o:function(){},500),g=function(){var x=Math.min(u+(i!=null?i:1)*10,r!=null?r:100);o==null||o(x),h(x)},y=function(){var x=Math.max(u-(i!=null?i:1)*10,n!=null?n:0);o==null||o(x),h(x)};return d.jsxs(be,{sx:l,children:[a&&d.jsx(sn,{size:"xs",variant:"ghost","aria-label":"Drag left",icon:a,onClick:y}),d.jsxs(ro,{value:u,min:n,max:r,step:i,onChange:function(x){f(x),h(x)},children:[d.jsx(io,{children:d.jsx(oo,{})}),d.jsx(ao,{})]}),s&&d.jsx(sn,{size:"xs",variant:"ghost","aria-label":"Drag right",icon:s,onClick:g})]})}var ve=function(){return ve=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ve.apply(this,arguments)},Mn=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Dl=function(t){var e=t.sx,n=t.className,r=Mn(t,["sx","className"]),i=Be("RmgWindow");return d.jsx(be,ve({className:"rmg-window ".concat(n!=null?n:""),sx:ve(ve({},i),e)},r))},Zc=function(t){var e=t.isAppClipHeader,n=t.sx,r=t.className,i=Mn(t,["isAppClipHeader","sx","className"]),o=Be("RmgWindowHeader");return d.jsx(be,ve({className:"rmg-window__header ".concat(e?"rmg-window__app-clip-header":""," ").concat(r!=null?r:""),sx:ve(ve({},o),n)},i))},zl=function(t){var e=t.sx,n=t.className,r=Mn(t,["sx","className"]),i=Be("RmgPage");return d.jsx(be,ve({className:"rmg-page ".concat(n!=null?n:""),sx:ve(ve({},i),e)},r))};var dr=function(t){return t==="dark"?"primary.300":"primary.500"},tn={variants:{flushed:function(t){var e=t.theme,n=t.colorMode;return{field:{_focusVisible:{borderColor:dr(n),boxShadow:"0px 1px 0px 0px ".concat(at(e,dr(n)))}}}}}},Nl={defaultProps:{colorScheme:"primary"}},fr={defaultProps:{colorScheme:"primary"}},Fl={baseStyle:{w:"100%",h:"100%","& .ag-header-cell:not(.ag-header-cell-auto-height) .ag-header-cell-comp-wrapper":{height:"unset"},"& .ag-cell":{display:"flex",lineHeight:"unset",alignItems:"center"},"& .ag-cell, & .ag-header-cell":{padding:"8px 9px"},"& .ag-row, & .ag-header":{border:"unset"},"&.ag-theme-alpine .ag-row .ag-cell, &.ag-theme-alpine .ag-header .ag-header-cell":{borderRight:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, #dde2eb))",borderBottom:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, #dde2eb))"},"&.ag-theme-alpine-dark .ag-row .ag-cell, &.ag-theme-alpine-dark .ag-header .ag-header-cell":{borderRight:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, rgba(88, 86, 82, 0.5)))",borderBottom:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, rgba(88, 86, 82, 0.5)))"},"& .ag-pinned-left-cols-container, & .ag-pinned-left-header":{boxShadow:"var(--chakra-shadows-lg)",zIndex:1},"&.ag-theme-alpine":{"& .ag-row .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-background-color, #fff)"},"& .ag-row-odd .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-odd-row-background-color, #fcfcfc)"}},"&.ag-theme-alpine-dark":{"& .ag-row .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-background-color, #181d1f)"},"& .ag-row-odd .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-odd-row-background-color, #222628)"}}}},$l={baseStyle:function(t){var e=t.colorMode,n=t.zIndex;return{display:"none","&.show-app-clip":{display:"block"},"& .rmg-app-clip__overlay":{position:"fixed",top:0,left:0,w:"100vw",h:"100vh",zIndex:n,bg:"blackAlpha.600"},"& .rmg-app-clip__container":{position:"fixed",top:0,left:0,w:"100vw",h:"100vh",display:"flex",justifyContent:"center",alignItems:"flex-start",zIndex:n},"& .rmg-app-clip__content":{display:"flex",w:"100%",maxW:"md",my:16,bg:e==="light"?"white":"gray.700",boxShadow:"lg",borderRadius:"md",overflow:"hidden"}}},sizes:{xs:{"& .rmg-app-clip__content":{maxW:"xs"}},sm:{"& .rmg-app-clip__content":{maxW:"sm"}},lg:{"& .rmg-app-clip__content":{maxW:"lg"}},xl:{"& .rmg-app-clip__content":{maxW:"xl"}},full:{"& .rmg-app-clip__content":{maxW:"100vw",minH:"var(--chakra-vh)",my:0,borderRadius:0}}}},Bl={baseStyle:function(t){var e=t.colorMode;return{p:1,my:1,w:"100%",borderRadius:2,bg:e==="dark"?"gray.700":"gray.50",boxShadow:"lg"}}},Wl={baseStyle:function(t){var e=t.colorMode;return{"& thead":{position:"sticky",top:0,zIndex:10},"& td, th":{borderRight:"1px solid",borderColor:e==="dark"?"whiteAlpha.400":"blackAlpha.200",backgroundColor:e==="dark"?"gray.700":"gray.50",whiteSpace:"nowrap","&:first-of-type":{position:"sticky",left:0,zIndex:1},"&:last-of-type":{borderRight:"none",position:"sticky",right:0,zIndex:1}}}}},Vl={baseStyle:function(){return{flexGrow:1,flexDirection:"column",justifyContent:"center",alignItems:"flex-start",h:10,"& span":{maxW:"100%",textOverflow:"ellipsis",overflow:"hidden"},"& span:last-of-type":{fontWeight:"normal",fontSize:"2xs"}}}},Ul={baseStyle:{flexDirection:"column",alignItems:"center",maxH:"100%",overflowY:"auto","& .chakra-alert__icon":{w:"40px",h:"40px",mr:0},"& .chakra-alert__title":{mt:4,mb:1,fontSize:"lg"},"& .chakra-alert__desc":{w:"100%","& p":{my:1},"& details":{whiteSpace:"pre-wrap",fontFamily:"monospace",fontSize:"sm"}}}},Hl={baseStyle:{display:"flex",flexDirection:"column",m:1,w:"unset","& label":{overflow:"hidden",fontSize:12,mr:0,mb:-.5,whiteSpace:"nowrap",textOverflow:"ellipsis"},"&.rmg-label__one-line":{flexDirection:"row",alignItems:"center","& label:first-of-type":{mr:"auto"}}}},Gl={baseStyle:{display:"inline-flex",alignItems:"center","& > button:first-of-type":{ml:1}}},Kl={baseStyle:{w:"100%",h:"100%",position:"absolute",top:0,right:0,alignItems:"center",justifyContent:"center","& .rmg-loader__backdrop":{position:"absolute",w:"100%",h:"100%",zIndex:1500,bg:"blackAlpha.400"},"& .chakra-progress":{zIndex:2e3}}},je=function(t){return t==="dark"?"primary.300":"primary.500"},Yl={baseStyle:function(t){var e=t.theme,n=t.colorMode;return{"& .rmg-multi-select__wrapper":{position:"relative",w:"100%",h:"25.75px",transform:"translateY(1.75px)",cursor:"default"},"& .rmg-multi-select__field":{position:"relative",w:"100%",minW:0,outline:0,appearance:"none",transitionProperty:"common",transitionDuration:"normal",pb:"1px",fontSize:"sm",h:"6",borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_active:{borderColor:je(n),boxShadow:"0px 1px 0px 0px ".concat(at(e,je(n)))},_focus:{borderColor:je(n),boxShadow:"0px 1px 0px 0px ".concat(at(e,je(n)))},_focusVisible:{borderColor:je(n),boxShadow:"0px 1px 0px 0px ".concat(at(e,je(n)))},"&.active":{borderColor:je(n),boxShadow:"0px 1px 0px 0px ".concat(at(e,je(n)))},"& > span:last-of-type":{position:"absolute",right:8}},"& .rmg-multi-select__icon-wrapper":{display:"inline-flex",justifyContent:"center",w:6,h:"100%",position:"absolute",right:2,top:0,fontSize:"xl","& svg":{h:"1em",w:"1em"}},"& .chakra-popover__content":{w:"unset",minW:200},"& .chakra-popover__body":{p:0,"li label":{p:2,w:"100%",_hover:{bg:n==="dark"?"whiteAlpha.200":"gray.100"},_active:{bg:n==="dark"?"whiteAlpha.300":"gray.200"}}}}}},yn=function(){return yn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},yn.apply(this,arguments)},Xl={overflow:"hidden",textOverflow:"ellipsis",textWrap:"nowrap"},Jl={baseStyle:function(t){var e=t.noWrap;return yn({minH:6,fontSize:"sm"},e?Xl:{textWrap:"pretty"})}},ql={baseStyle:{position:"relative",flexDirection:"column",flex:1,overflow:"hidden",background:"inherit"}},Ql={baseStyle:{alignItems:"center",flexWrap:"wrap",pl:2,pr:3,py:1,zIndex:10}},Zl={baseStyle:{position:"relative",background:"inherit"}},eu={baseStyle:{display:"flex",alignItems:"center",flexWrap:"wrap",position:"sticky",top:0,background:"inherit",px:2,py:1,zIndex:5}},tu={baseStyle:function(t){var e=t.colorMode,n=t.width,r=t.alwaysOverlay;return{height:"100%",position:r?"absolute":{base:"absolute",lg:"relative"},right:r?0:{base:0,lg:"unset"},background:e==="light"?"white":"gray.800",boxShadow:"lg",flexShrink:0,flexDirection:"column",transition:"0.3s ease-in-out",maxW:0,visibility:"hidden",zIndex:5,"&.show-side-panel":{maxW:{base:"100%",sm:n},w:{base:"100%",sm:"unset"},visibility:"initial"},"& .rmg-side-panel__inner":{flexDirection:"column",h:"100%",w:{base:"100vw",sm:n}},"& .rmg-side-panel__header":{flexShrink:0,pl:3,pr:1,py:0,"& button":{ml:"auto"}},"& .rmg-side-panel__body":{display:"flex",flexDirection:"column",flex:1,overflowY:"auto",p:1},"& .rmg-side-panel__footer":{display:"flex",justifyContent:"flex-end",p:1}}}},nu={baseStyle:{h:6,alignItems:"center","& .chakra-button:first-of-type":{mr:1},"& .chakra-button:last-of-type":{ml:1}}},ru={baseStyle:{position:"relative",flexDirection:"column",height:"100%",overflow:"hidden",background:"inherit"}},iu={baseStyle:{px:2,alignItems:"center",zIndex:15,minH:10,transition:"0.3s ease-in-out"}},ou={Input:tn,Checkbox:fr,Select:tn,Slider:Nl,Switch:fr,Textarea:tn,RmgAgGrid:Fl,RmgAppClip:$l,RmgCard:Bl,RmgDataTable:Wl,RmgEnrichedButton:Vl,RmgErrorBoundary:Ul,RmgLabel:Hl,RmgLineBadge:Gl,RmgLoader:Kl,RmgMultiSelect:Yl,RmgOutput:Jl,RmgPage:ql,RmgPageHeader:Ql,RmgSection:Zl,RmgSectionHeader:eu,RmgSidePanel:tu,RmgThrottledSlider:nu,RmgWindow:ru,RmgWindowHeader:iu},vn=function(){return vn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},vn.apply(this,arguments)},hr="chakra-ui-color-mode",au=function(){var t=Z.getColourMode()==="system";return Z.isStandaloneWindow()&&(t?window.localStorage.removeItem(hr):window.localStorage.setItem(hr,Z.getColourMode())),{initialColorMode:"system",useSystemColorMode:t}},su={primary:vn({},so.colors.teal)},lu={global:{".mw-full":{w:"100%",flexBasis:"100%"}}},uu=function(){return lo({config:au(),colors:su,styles:lu,components:ou})},cu=function(t){var e=t.children;return d.jsx(uo,{theme:uu(),children:d.jsx(du,{children:e})})},du=function(t){var e=t.children,n=co().setColorMode,r=fo();return v.useEffect(function(){console.log("[rmg-components] RMG theme is initialised with",r.config),Z.onColourModeChange(function(i){if(i==="system"){var o=window.matchMedia("(prefers-color-scheme: dark)").matches;n(o?"dark":"light")}else n(i)})},[n]),d.jsx(d.Fragment,{children:e})},m=(t=>(t.Predefined="predefined",t.Customized="customized",t.Punctuation="punctuation",t))(m||{});const fu=t=>t.map(e=>e.text).join(""),hu=t=>t.map(e=>e.pinyin).join("");var R=(t=>(t.BreakWeak=" ",t.BreakMedium=",",t.BreakStrong=".",t))(R||{});const j=(t,e)=>{let n="";return[p.ChineseWuSimplifiedXiaotong,p.ChineseMandarinSimplified].includes(t)?n={" ":" ",",":"，",".":"。"}[e]:[p.ChineseWuSimplifiedYunzhe].includes(t)&&(n={" ":" ",",":", ",".":". "}[e]),{type:"punctuation",voiceName:t,text:n,pinyin:n,subType:e}},Ee=16,he=Ee*2,ze=20;var p=(t=>(t.ChineseWuSimplifiedXiaotong="shmetro-wuu",t.ChineseWuSimplifiedYunzhe="shmetro-en",t.ChineseMandarinSimplified="shmetro-zh",t))(p||{}),$t=(t=>(t.ShanghaiMetro="shmetro",t))($t||{});const ed={shmetro:{defaultLang:{"shmetro-zh":"zh-CN","shmetro-wuu":"wuu-CN","shmetro-en":"en-GB"},preferredPreviewVoiceName:{"shmetro-zh":{win:"Microsoft Huihui Desktop - Chinese (Simplified)",mac:"Tingting",linux:void 0,ios:"Ting-Ting",android:void 0},"shmetro-wuu":void 0,"shmetro-en":{win:"Microsoft George - English (United Kingdom)",mac:"Daniel",linux:void 0,ios:"Daniel",android:void 0}}}};var A=(t=>(t.Arrival="arr",t.Stop="stp",t.Departure="dep",t.Midway="mdw",t))(A||{});const pu={version:1,style:"shmetro",baseVariants:{},stations:{},metadata:{}},td=t=>{const e=[];for(const n in t)for(const r in t[n])for(const i in t[n][r]){const o=t[n][r][i];o.length!==0&&e.push("".concat(n,"_").concat(r,"_").concat(i,": ").concat(hu(o)))}return e},gu=t=>{const e=structuredClone(t);for(const n in t)for(const r in t[n])for(const i in t[n][r]){const a=t[n][r][i].map(s=>{const l=structuredClone(s);return delete l.text,delete l.voiceName,l});e[n][r][i]=a}return e};var $e=(t=>(t.APP="app",t.PARAM="param",t.ACCOUNT="rmg-home__account",t))($e||{}),li=(t=>(t.APP_LOAD="APP_LOAD",t.IMPORT_RMG_PARAM="IMPORT_RMG_PARAM",t.DOWNLOAD_PARAM="DOWNLOAD_PARAM",t.DOWNLOAD_TEXT="DOWNLOAD_TEXT",t))(li||{}),mu=(t=>(t.left="left",t.right="right",t))(mu||{}),yu=(t=>(t.left="l",t.right="r",t))(yu||{}),In=(t=>(t.local="local",t.express="express",t.direct="direct",t))(In||{});const vu={telemetry:{app:!0,project:!0},preference:{import:{route:0,service:In.local},previewAudio:{}}},ui=Ze({name:"app",initialState:vu,reducers:{setTelemetryProject:(t,e)=>{t.telemetry.project=e.payload},setPreferenceImport:(t,e)=>{t.preference.import=e.payload},setPreviewAudioBulk:(t,e)=>{t.preference.previewAudio=e.payload},setPreviewAudio:(t,e)=>{const[n,r]=e.payload;t.preference.previewAudio[n]=r},removePreviewAudio:(t,e)=>{t.preference.previewAudio[e.payload]&&delete t.preference.previewAudio[e.payload]}}}),{setTelemetryProject:xu,setPreferenceImport:bu,setPreviewAudioBulk:wu,setPreviewAudio:nd,removePreviewAudio:rd}=ui.actions,Su=ui.reducer;var ci=(t=>(t.CREATED="CREATED",t.CANCELLED="CANCELLED",t.PROCESSING="PROCESSING",t.COMPLETED="COMPLETED",t.FAILED="FAILED",t))(ci||{});const Cu={reconciledPhrases:{},stationVariantsExpanded:!0,showDefaultVariants:!1,currentStyle:$t.ShanghaiMetro,currentStationID:"kaxg",currentStage:A.Departure,currentVoice:p.ChineseMandarinSimplified,showWelcome:!1,globalAlerts:{}},di=Ze({name:"runtime",initialState:Cu,reducers:{setReconciledPhrases:(t,e)=>{t.reconciledPhrases=e.payload},setStationVariantsExpanded:(t,e)=>{t.stationVariantsExpanded=e.payload},setShowDefaultVariants:(t,e)=>{t.showDefaultVariants=e.payload},setCurrentStationID:(t,e)=>{t.currentStationID=e.payload},setCurrentStage:(t,e)=>{t.currentStage=e.payload},setCurrentVoice:(t,e)=>{t.currentVoice=e.payload},setRmtToken:(t,e)=>{t.rmtToken=e.payload},removeRmtToken:t=>{t.rmtToken=void 0},setShowWelcome:(t,e)=>{t.showWelcome=e.payload},setGlobalAlert:(t,e)=>{const{status:n,message:r,url:i,linkedApp:o}=e.payload;t.globalAlerts[n]={message:r,url:i,linkedApp:o}},closeGlobalAlert:(t,e)=>{delete t.globalAlerts[e.payload]}}}),{setReconciledPhrases:Ou,setStationVariantsExpanded:fi,setShowDefaultVariants:pr,setCurrentStationID:hi,setCurrentStage:pi,setCurrentVoice:id,setRmtToken:Au,removeRmtToken:Pu,setShowWelcome:xn,setGlobalAlert:od,closeGlobalAlert:ad}=di.actions,Ru=di.reducer,_u=t=>{const e=r=>{if(!r){qe.debug("Account string is empty, logging out"),t.dispatch(Pu());return}const i=JSON.parse(r),{token:o}=i;qe.debug("Updating token to: ".concat(o)),t.dispatch(Au(o))};let n=localStorage.getItem($e.ACCOUNT);e(n!=null?n:void 0),window.onstorage=()=>{const r=localStorage.getItem($e.ACCOUNT);n!==r&&(n=r,qe.debug("Account string changed to: ".concat(r)),e(r!=null?r:void 0))}},ju="https://railmapgen.org/v1";var pt=(t=>(t.AUDIOTASKS="/audio",t.SUBSCRIPTION_REDEEM="/subscription/redeem",t))(pt||{});const Bt=async(t,e,n)=>{const r={accept:"application/json","Content-Type":"application/json","Cache-Control":"no-cache"},i=structuredClone(r);n&&(i.Authorization="Bearer ".concat(n));const o=await fetch("".concat(ju).concat(t),{headers:i,...e});if(o.status!==401)return o},Eu={isModalOpen:!1,tasks:[],points:0},Wt=Tt("audio/fetchTasks",async(t,{getState:e,rejectWithValue:n})=>{const{rmtToken:r}=e().runtime;if(!r)return n("No token.");const i=await Bt(pt.AUDIOTASKS,{},r);return i?i.status!==200?n(i.text):await i.json():n("Can not recover from expired refresh token.")}),sd=Tt("audio/cancelTask",async(t,{getState:e,dispatch:n,rejectWithValue:r})=>{const{rmtToken:i}=e().runtime;if(!i)return r("No token.");const o=await Bt("".concat(pt.AUDIOTASKS,"/").concat(t),{method:"PATCH",body:JSON.stringify({status:ci.CANCELLED})},i);if(!o)return r("Can not recover from expired refresh token.");if(o.status!==200)return r(o.text);n(Wt())}),ld=Tt("audio/newTask",async(t,{getState:e,dispatch:n,rejectWithValue:r})=>{const{rmtToken:i,reconciledPhrases:o}=e().runtime;if(!i)return r("No token.");const a=gu(o),s=await Bt(pt.AUDIOTASKS,{method:"POST",body:JSON.stringify({data:a})},i);if(!s)return r("Can not recover from expired refresh token.");if(s.status!==201)return r(s.text);n(Wt())}),ud=Tt("audio/redeem",async(t,{getState:e,dispatch:n,rejectWithValue:r})=>{const{rmtToken:i}=e().runtime;if(!i)return r("No token.");const o=await Bt(pt.SUBSCRIPTION_REDEEM,{method:"POST",body:JSON.stringify({cdkey:t})},i);if(!o)return r("Can not recover from expired refresh token.");if(o.status!==202)return r(o.text);n(Wt())}),gi=Ze({name:"app",initialState:Eu,reducers:{openAudioModal:t=>{t.isModalOpen=!0},closeAudioModal:t=>{t.isModalOpen=!1}},extraReducers:t=>{t.addCase(Wt.fulfilled,(e,n)=>{e.tasks=n.payload.tasks,e.points=n.payload.points})}}),{openAudioModal:cd,closeAudioModal:dd}=gi.actions,Lu=gi.reducer,Mu={content:"ご欢１迎1乘こじ。nihao",columns:200,realColumns:200,scale:.2},mi=Ze({name:"crawl",initialState:Mu,reducers:{setContent:(t,e)=>{t.content=e.payload},setColumns:(t,e)=>{t.columns=e.payload},setRealColumns:(t,e)=>{t.realColumns=e.payload},setScale:(t,e)=>{t.scale=e.payload}}}),{setContent:fd,setColumns:hd,setRealColumns:Iu,setScale:pd}=mi.actions,ku=mi.reducer,Tu={rmgParam:void 0,route:0,service:In.local},yi=Ze({name:"runtime",initialState:Tu,reducers:{setRMGParam:(t,e)=>{t.rmgParam=e.payload},removeRMGParam:t=>{t.rmgParam=void 0},setRoute:(t,e)=>{t.route=e.payload},setService:(t,e)=>{t.service=e.payload}}}),{setRMGParam:gd,removeRMGParam:md,setRoute:yd,setService:vd}=yi.actions,Du=yi.reducer,zu={project:pu},vi=Ze({name:"param",initialState:zu,reducers:{setProject:(t,e)=>{t.project=e.payload},setVariant:(t,e)=>{var s,l;const{stnID:n,stage:r,voiceName:i,variant:o,value:a}=e.payload;(l=(s=t.project.stations[n])==null?void 0:s[r])!=null&&l[i]&&(t.project.stations[n][r][i][o]=a)},setBaseVariant:(t,e)=>{var a;const{stage:n,voiceName:r,variant:i,value:o}=e.payload;(a=t.project.baseVariants[n])!=null&&a[r]&&(t.project.baseVariants[n][r][i]=o)}}}),{setProject:gr,setVariant:xd,setBaseVariant:bd}=vi.actions,Nu=vi.reducer,Fu=Ao({app:Su,crawl:ku,param:Nu,runtime:Ru,audio:Lu,import:Du}),xi=Po(),$u=(t={})=>Ro({reducer:Fu,middleware:e=>e().prepend(xi.middleware),preloadedState:t}),kt=$u(),kn=()=>_o(),Fe=jo,mr=xi.startListening;window.rmgStore=kt;const Bu=()=>{const[t,e]=v.useState({width:void 0,height:void 0});return v.useEffect(()=>{function n(){e({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",n),n(),()=>window.removeEventListener("resize",n)},[]),t},wd=()=>{const[t,e]=v.useState([]);return v.useEffect(()=>{const n=window.speechSynthesis,r=()=>{const i=n.getVoices();e(i)};return n.addEventListener("voiceschanged",r),r(),()=>{n.removeEventListener("voiceschanged",r)}},[]),t},Wu=4,Vu=8,Uu=32,Hu=3,Gu=8,yr=4;function Le(t,e){return t.getUint32(e,!0)}function Ku(t){const e=new DataView(t),n=new Uint8Array(t);if(n[0]!==1||n[1]!==102||n[2]!==99||n[3]!==112)throw new Error("Not a valid PCF file (bad signature)");const r=Le(e,4);let i=8;const o=[];for(let f=0;f<r;f++){const g=Le(e,i+0),y=Le(e,i+4),x=Le(e,i+8),w=Le(e,i+12);o.push({type:g,format:y,size:x,offset:w}),i+=16}const a=o.find(f=>f.type===Wu);if(!a)throw new Error("No PCF_METRICS in file");const s=Xu(e,a),l=o.find(f=>f.type===Vu);if(!l)throw new Error("No PCF_BITMAPS in file");const c=Ju(e,n,l,s),u=o.find(f=>f.type===Uu);if(!u)throw new Error("No PCF_BDF_ENCODINGS in file");const h=qu(e,u);return{allBitmaps:c,encData:h}}const Yu=(t,e,n)=>{const r=Qu(n,e);return r==null?(console.warn("No glyph found for character: '".concat(n,"'")),null):t[r]};function Xu(t,e){const n=e.offset,o=(Le(t,n)&256)!==0;let a=n+4,s;o?(s=t.getInt16(a),a+=2):(s=t.getInt32(a),a+=4);const l=[];for(let c=0;c<s;c++){let u,h,f,g,y;if(o){const x=t.getUint8(a+0)-128,w=t.getUint8(a+1)-128,L=t.getUint8(a+2)-128,O=t.getUint8(a+3)-128,V=t.getUint8(a+4)-128;u=x,h=w,f=L,g=O,y=V,a+=5}else u=t.getInt16(a+0),h=t.getInt16(a+2),f=t.getInt16(a+4),g=t.getInt16(a+6),y=t.getInt16(a+8),a+=10,a+=2;l.push({leftSideBearing:u,rightSideBearing:h,characterWidth:f,ascent:g,descent:y})}return l}function Ju(t,e,n,r){const i=n.offset,o=Le(t,i);let a=i+4;const s=o&Hu,l=(s===0?8:s===1?16:32)/8,c=(o&Gu)===0,u=t.getInt32(a);a+=4;const h=[];for(let y=0;y<u;y++)h.push(t.getInt32(a)),a+=4;t.getInt32(a+0),t.getInt32(a+4),t.getInt32(a+8),t.getInt32(a+12),a+=16;const f=a,g=new Array(u);for(let y=0;y<u;y++){const x=r[y],w=x.rightSideBearing-x.leftSideBearing,L=x.ascent+x.descent,O=Math.max(x.characterWidth,w),V=h[y],P=f+V,D=[];let $=P;for(let k=0;k<L;k++){const _=new Array(w).fill(!1);for(let N=0;N<l;N++){const S=e[$+N];for(let H=0;H<8;H++){const B=N*8+H;if(B<w)if(c){const W=1<<H;_[B]=(S&W)!==0}else{const W=1<<7-H;_[B]=(S&W)!==0}}}O>w&&_.push(...new Array(O-w).fill(!1)),D.push(_),$+=l}let I=yr;x.descent!==0&&(I=-x.descent+yr);for(let k=0;k<I;k++){const _=new Array(O).fill(!1);D.push(_)}g[y]=D}return g}function qu(t,e){const n=e.offset;Le(t,n);let r=n+4;const i=t.getInt16(r);r+=2;const o=t.getInt16(r);r+=2;const a=t.getInt16(r);r+=2;const s=t.getInt16(r);r+=2;const l=t.getInt16(r);r+=2;const c=(o-i+1)*(s-a+1),u=new Uint16Array(c);for(let h=0;h<c;h++)u[h]=t.getInt16(r),r+=2;return{minCharOrByte2:i,maxCharOrByte2:o,minByte1:a,maxByte1:s,defaultChar:l,glyphIndexes:u}}function Qu(t,e){const n=t.codePointAt(0);if(n==null)return null;const r=n>>8&255,i=n&255;if(r<e.minByte1||r>e.maxByte1||i<e.minCharOrByte2||i>e.maxCharOrByte2)return null;const o=e.maxCharOrByte2-e.minCharOrByte2+1,a=r-e.minByte1,s=i-e.minCharOrByte2,l=a*o+s,c=e.glyphIndexes[l];return c===65535?null:c}const Zu=()=>{var $,I;const t=kn(),{reconciledPhrases:e,currentStationID:n,currentStage:r,currentVoice:i}=Fe(k=>k.runtime),{columns:o,realColumns:a,scale:s}=Fe(k=>k.crawl),l=(I=($=e[n])==null?void 0:$[r])==null?void 0:I[i],c=fu(l!=null?l:[]),u=c===""?" ":c,h=ae.useRef(null),f=ae.useRef([]),g=ae.useRef(null),[y,x]=ae.useState([]),[w,L]=ae.useState([]),O=ae.useCallback(()=>{if(!f.current||!g.current||!u)return;qe.debug('Reconciling bitmaps for "'.concat(u,'"'));const k=[],_=[];for(const N of u){const S=Yu(f.current,g.current,N);S&&(S.length<ze&&S.unshift(...Array.from({length:ze-S.length},()=>Array(S[0].length).fill(!1))),k.push(S),_.push(S[0].length))}x(k),L(_),t(Iu(_.reduce((N,S)=>N+S,0)))},[u]);ae.useEffect(()=>{(async()=>{const N=await(await fetch("fonts/wenquanyi_12pt.pcf")).arrayBuffer();h.current=N;const{allBitmaps:S,encData:H}=Ku(N);f.current=S,g.current=H,O()})()},[]),ae.useEffect(()=>O(),[u]);const V=o-a&&0,P=Math.floor(V/2),D=V-P;return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",id:"crawl",style:{backgroundColor:"black"},viewBox:"0 0 ".concat(a*he," ").concat(ze*he),width:a*he*s,height:ze*he*s,children:[d.jsxs("defs",{children:[d.jsxs("filter",{id:"glow",children:[d.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),d.jsxs("feMerge",{children:[d.jsx("feMergeNode",{in:"coloredBlur"}),d.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),d.jsxs("filter",{id:"neon",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[d.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"2",floodColor:Ot,floodOpacity:"1"}),d.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"5",floodColor:Ot,floodOpacity:"0.7"}),d.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"10",floodColor:Ot,floodOpacity:"0.4"})]}),d.jsxs("filter",{id:"orange-glow",filterUnits:"userSpaceOnUse",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[d.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"5",result:"blur5"}),d.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"10",result:"blur10"}),d.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"20",result:"blur20"}),d.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"30",result:"blur30"}),d.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"50",result:"blur50"}),d.jsxs("feMerge",{result:"blur-merged",children:[d.jsx("feMergeNode",{in:"blur10"}),d.jsx("feMergeNode",{in:"blur20"}),d.jsx("feMergeNode",{in:"blur30"}),d.jsx("feMergeNode",{in:"blur50"})]}),d.jsx("feColorMatrix",{result:"red-blur",in:"blur-merged",type:"matrix",values:"1 0 0 0 0\n                                0 0.65 0 0 0\n                                0 0 0.1 0 0\n                                0 0 0 1 0"}),d.jsxs("feMerge",{children:[d.jsx("feMergeNode",{in:"red-blur"})," ",d.jsx("feMergeNode",{in:"blur5"})," ",d.jsx("feMergeNode",{in:"SourceGraphic"})," "]})]})]}),V>0&&d.jsx("g",{id:"remaining-left",children:Array(P).fill(0).map((k,_)=>Array(ze).fill(0).map((N,S)=>d.jsx(nn,{x:_*he+Ee,y:S*he+Ee},"rl".concat(_).concat(S))))}),y.map((k,_)=>d.jsx("g",{id:u.at(_),children:k.map((N,S)=>N.map((H,B)=>d.jsx(nn,{x:B*he+w.slice(0,_).reduce((W,M)=>W+M,0)*he+Ee+(V>0?P*he:0),y:S*he+Ee,on:H},u.at(_)+B.toString()+S.toString())))},"".concat(u.at(_),"+").concat(_,"}"))),V>0&&d.jsx("g",{id:"remaining-right",children:Array(D).fill(0).map((k,_)=>Array(ze).fill(0).map((N,S)=>d.jsx(nn,{x:(P+a+_)*he+Ee,y:S*he+Ee},"rr".concat(_).concat(S))))})]})},ec=Ee-2,Ot="orange",nn=({x:t,y:e,on:n=!1})=>d.jsx("circle",{cx:t,cy:e,r:ec,fill:n?Ot:"dimgray",filter:n?"url(#neon)":void 0});function Sd(t){return X({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"},child:[]}]})(t)}function Cd(t){return X({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 19H5V5h7V3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"},child:[]}]})(t)}function Od(t){return X({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"},child:[]}]})(t)}function Ad(t){return X({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7 1.62-4.33L19.12 17h-3.24z"},child:[]}]})(t)}function Pd(t){return X({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"},child:[]}]})(t)}function Rd(t){return X({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"},child:[]}]})(t)}function _d(t){return X({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M8 5v14l11-7z"},child:[]}]})(t)}function jd(t){return X({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"},child:[]}]})(t)}function Ed(t){return X({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z"},child:[]}]})(t)}function Ld(t){return X({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"},child:[]}]})(t)}function Md(t){return X({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z"},child:[]}]})(t)}function Id(t){return X({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"},child:[]}]})(t)}function tc(t){return X({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"},child:[]}]})(t)}function kd(t){return X({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]}]})(t)}function Td(t){return X({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]}]})(t)}function Dd(t){return X({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19 9h-4V3H9v6H5l7 7 7-7zm-8 2V5h2v6h1.17L12 13.17 9.83 11H11zm-6 7h14v2H5z"},child:[]}]})(t)}function zd(t){return X({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M9 16h6v-6h4l-7-7-7 7h4v6zm3-10.17L14.17 8H13v6h-2V8H9.83L12 5.83zM5 18h14v2H5z"},child:[]}]})(t)}function Nd(t){return X({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6zm-2 16c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"},child:[]}]})(t)}function Fd(t){return X({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z",opacity:".87"},child:[]},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"},child:[]}]})(t)}function $d(t){return X({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 14V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zm-2 0H3V6h14v8zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zm13 0v11c0 1.1-.9 2-2 2H4v-2h17V7h2z"},child:[]}]})(t)}function nc(){const{t}=bn(),e=kn(),n=Ne("blue.100","blue.700"),r=Ne("gray.800","white"),i=Ne("gray.100","gray.700"),{project:o}=Fe(h=>h.param),{metadata:a}=o,{currentStationID:s}=Fe(h=>h.runtime),[l,c]=v.useState({});v.useEffect(()=>{const h=Object.fromEntries([["default",t("stationVariants.baseVariant")],...Object.entries(a).map(([f,{name:g}])=>[f,g])]);c(h)},[a]);const u=h=>{if(h==="default")e(pr(!0));else{e(pr(!1)),e(hi(h));const f=Object.keys(o.stations[h]).at(1);e(pi(f!=null?f:A.Departure))}};return d.jsx(ho,{height:"100%",overflowY:"auto",children:d.jsxs(po,{variant:"simple",height:"100%",children:[d.jsx(go,{children:d.jsx(Vn,{children:d.jsx(mo,{width:"100%",onClick:()=>e(fi(!1)),children:d.jsxs(be,{justifyContent:"space-between",children:[d.jsx(ce,{fontSize:"md",alignSelf:"center",children:t("stationVariants.title")}),d.jsx(sn,{"aria-label":"Close",size:"sm",variant:"ghost",icon:d.jsx(tc,{transform:"rotate(90)"}),children:t("stationVariants.title")})]})})})}),d.jsx(yo,{children:Object.entries(l).map(([h,f])=>d.jsx(Vn,{bg:h===s?n:"transparent",_hover:{bg:i},onClick:()=>u(h),children:d.jsx(vo,{children:d.jsx(ce,{color:r,children:f})})},h))})]})})}const rc=t=>{const{isOpen:e,onClose:n}=t,{t:r}=bn(),i=Ne("blue.700","blue.200"),o=Ne("gray.800","gray.200"),a=Ne("blue.50","blue.600");return d.jsxs(xo,{isOpen:e,onClose:n,size:"xl",scrollBehavior:"inside",children:[d.jsx(Ar,{backdropFilter:"blur(5px)"}),d.jsxs(bo,{borderRadius:"xl",overflow:"hidden",children:[d.jsx(Pr,{bgGradient:"linear(to-r, blue.500, teal.400)",color:"white",py:6,fontSize:"2xl",fontWeight:"bold",textAlign:"center",children:r("welcome.title")}),d.jsx(Rr,{color:"white",_hover:{bg:"rgba(255,255,255,0.2)"},size:"lg"}),d.jsx(_r,{p:8,children:d.jsxs(wo,{spacing:6,align:"stretch",children:[d.jsx(Ie,{textAlign:"center",mb:4,children:d.jsx(ce,{fontSize:"lg",color:o,children:r("welcome.desc")})}),d.jsxs(Ie,{bg:a,p:4,borderRadius:"lg",children:[d.jsx(So,{size:"md",color:i,mb:3,children:r("welcome.steps")}),d.jsxs(Co,{spacing:3,children:[d.jsx(Jt,{children:d.jsx(ce,{fontWeight:"medium",children:r("welcome.step1")})}),d.jsx(Jt,{children:d.jsx(ce,{fontWeight:"medium",children:r("welcome.step2")})}),d.jsx(Jt,{children:d.jsx(ce,{fontWeight:"medium",children:r("welcome.step3")})})]})]}),d.jsx(Ie,{bgGradient:"linear(to-r, teal.100, blue.100)",p:4,borderRadius:"lg",textAlign:"center",children:d.jsx(ce,{fontWeight:"bold",color:"teal.800",children:r("welcome.start")})})]})})]})]})},ic=ae.lazy(()=>qr(()=>import("./page-header-CsZ-Mflg.js"),__vite__mapDeps([0,1,2,3]))),oc=ae.lazy(()=>qr(()=>import("./stage-DV8VowsM.js"),__vite__mapDeps([4,1,2,3])));function ac(){const{t}=bn(),e=kn(),{project:{style:n}}=Fe(u=>u.param),{stationVariantsExpanded:r,showWelcome:i}=Fe(u=>u.runtime),{scale:o}=Fe(u=>u.crawl),a=Bu(),{width:s=1280,height:l=720}=a,c=r?200:0;return d.jsx(cu,{children:d.jsxs(Dl,{children:[d.jsx(ic,{}),d.jsx(zl,{children:d.jsxs(be,{flexDirection:"row",children:[r?d.jsx(Ie,{style:{width:"200px",height:"calc(100vh - 40px)",overflowY:"auto"},children:d.jsx(nc,{})}):d.jsx(an,{onClick:()=>e(fi(!0)),size:"lg",style:{position:"absolute",left:"0px",top:"0px"},borderRadius:"0px",children:t("stationVariants.title")}),d.jsxs(be,{width:"calc(100% - ".concat(c,"px)"),flexDirection:"column",children:[d.jsx(Ie,{style:{overflowX:"auto"},children:d.jsx(Zu,{})}),d.jsx(on,{marginTop:"2"}),d.jsx(Ie,{style:{height:l-40-ze*he*o-10,overflowY:"auto"},children:n===$t.ShanghaiMetro&&d.jsx(oc,{})})]})]})}),d.jsx(rc,{isOpen:i,onClose:()=>e(xn(!1))})]})})}const sc={about:{title:"About",rma:"Rail Map Announcer",railmapgen:"A Rail Map Toolkit project",desc:"",contributors:"Contributors",content1:"reflexion,allegretto,you",content2:"2024/02/21 in Shanghai",contactUs:"Contact Us",github:"Project repository",githubContent:"Face any problems? Search or raise an issue here!",slack:"Slack group",slackContent:"Chat in these Slack channels!"},donation:{title:"Donation",openCollective:"Open Collective",viaUSD:"Donate in USD via Paypal or Visa card.",afdian:"爱发电",viaCNY:"Donate in CNY via Alipay or Wechat Pay."},paly:{previewWarning:"Not satisfied with the preview voice? Try voices generated by our lastest AI in export audio."},open:{config:"Import project",projectRMG:"Import from RMG project",invalidType:"Invalid file type! Only files exported from RMA are accepted.",unknownError:"Unknown error occurred while parsing the uploaded file! Please try again."},download:{config:"Export project",image:"Export image",audio:"Export audio",format:"Format",png:"PNG",svg:"SVG",scale:"Scale",disabledScaleOptions:"Some scale options are disabled due to your browser's canvas limitation.",disabledScaleOptionsWorkarounds:"Possible workarounds include generating the image from svg using this cli tool: ",shareInfo1:"I will attach ",shareInfo2:" and its link when I share this image.",termsAndConditions:"Terms and Conditions",termsAndConditionsInfo:"I agree to ",period:".",confirm:"Download"},settings:{title:"Settings",crawl:{title:"Crawl Settings",scale:"Scale"},previewAudio:{title:"Preferred Preview Voice",notModified:"Use style preference","shmetro-zh":"Shanghai Metro (Mandarin)","shmetro-en":"Shanghai Metro (English)"},telemetry:{title:"Telemetry",info:"To help improve Rail Map Announcer and keep contributors motivated to enhance the project, anonymous usage data is collected through Google Analytics. This data is used solely for enhancing the user experience and optimizing the tool's functionality and is never shared with third parties.",essential:"Basic",essentialTooltip:"Change this global setting in Rail Map Toolkit",essentialInfo:"Rail Map Announcer collects essential usage data that helps us understand how and when users interact with the tool. Rest assured, no personally identifiable information or data from your projects is ever collected.",essentialLink:"Click this link to see detailed fields that Google Analytics may collect.",additional:"Additional",additionalInfo:"Rail Map Announcer also gathers data on interactions, such as project creation or variants modification, when you input. These additional data is also anonymous and are only used for statistical analysis to help us make the tool better."}},audioTask:{title:"Audio Task",desc:"We are committed to generating the most natural station announcements. To achieve this, we conducted deep training based on a large number of samples. Experience the highest quality announcements powered by the latest large-scale machine learning models!",note1:"Please note that currently only Shanghai-style station announcements are available.",note2:"Due to computational limitations, please be patient after submitting your request - we aim to process all requests within 30 hours.",note3:"Please download and save your creations promptly, as we only guarantee data storage for 30 days.",note4:"To ensure the best English announcements, please replace all pinyin parts in 'station name pinyin' with Chinese characters, such as '莘庄 University' instead of 'Xinzhuang University'.",exampleZH:"本次列车终点站 上海宝山站。下一站 工口足球场。开左边门。可换乘三号线。",exampleEN:"The terminal of this train is 莘庄 University. Next station is 五角场 Railway Station. Doors will open on the right.",audioNotSupported:"Your browser does not support audio playback. Chrome or Firefox is recommended.",loginFirst:"Please log in first to generate audio with AI.",topUp:"Top up",table:{id:"ID",status:"Status",createdAt:"Created At",updatedAt:"Updated At",points:"Points",actions:"Actions"},report1:"If you encounter any issues with the generated announcements, ",report2:"please create a GitHub issue. ",report3:"We will fully return your points after confirmation.",freeInternet1:"We believe in a free and open internet. You may also ",freeInternet2:"download raw text",freeInternet3:" and use in your preferred audio provider :)",redeem:{title:"Redeem your points",desc:"You can redeem your points to generate audio. CDKey could be purchased in the following sites:",input:"Enter your CDKey here:",redeem:"Redeem"},new:{title:"New Task",content1:"This will create a new task from the current project.",content2:"The estimated points consumed will be ",content3:"The actual points used is subject to the server.",content4:"You may cancel the task before processing to get a full points return.",create:"Create a new task"}}},lc={title:"Station Variants",baseVariant:"Base Variant"},uc={title:"Welcome to the Rail Map Announcer",desc:"Here, you can create and generate customized line displays and announcements!",steps:"🚇 Complete in just 3 steps",step1:"Import your work from the Rail Map Generator (top-right)",step2:"Adjust details like door opening direction",step3:"Click 'Play' (top-right) to preview announcements",start:"We've prepared a sample project—close this window and start exploring! :)"},cc={header:sc,stationVariants:lc,welcome:uc,import:{title:"Import RMG Project",goodToGo:"All set! Import this RMG work now.",routes:"Select the route you want to import",services:"Select the service you want to import",service:{local:"Local",express:"Express",direct:"Direct"},import:"Import"}},dc={about:{title:"关于",rma:"地铁线路图放送机",railmapgen:"地铁线路图工具包项目",desc:"",contributors:"贡献者",content1:"reflexion,allegretto,you",content2:"2024/02/21 于上海",contactUs:"联系我们",github:"项目仓库",githubContent:"遇到问题？在这里搜索或提交问题！",slack:"Slack群组",slackContent:"在这些Slack频道中聊天！"},donation:{title:"捐赠",openCollective:"Open Collective",viaUSD:"通过Paypal或Visa卡以美元捐赠。",afdian:"爱发电",viaCNY:"通过支付宝或微信支付以人民币捐赠。"},paly:{previewWarning:"对预览声音不满意？试试在导出音频中使用我们最新大模型生成的声音。"},open:{config:"导入项目",projectRMG:"从RMG项目导入",invalidType:"文件类型无效！只接受从RMA导出的文件。",unknownError:"解析上传文件时发生未知错误！请重试。"},download:{config:"导出项目",image:"导出图片",audio:"导出音频",format:"格式",png:"PNG",svg:"SVG",scale:"缩放比例",disabledScaleOptions:"由于浏览器的画布限制，某些缩放比例选项被禁用。",disabledScaleOptionsWorkarounds:"可能的解决方法包括使用此CLI工具从svg生成图片：",shareInfo1:"我将在分享此图片时附上",shareInfo2:"及其链接。",termsAndConditions:"条款和条件",termsAndConditionsInfo:"我同意",period:"。",confirm:"下载"},settings:{title:"设置",crawl:{title:"走字屏",scale:"缩放比例"},previewAudio:{title:"首选预览语音",notModified:"使用风格偏好","shmetro-zh":"上海地铁（普通话）","shmetro-en":"上海地铁（英语）"},telemetry:{title:"遥测",info:"为了帮助改进地铁线路图放送机并激励贡献者增强项目，通过Google Analytics收集匿名使用数据。这些数据仅用于增强用户体验和优化工具功能，绝不会与第三方共享。",essential:"基本",essentialTooltip:"在地铁线路图工具包中更改此全局设置",essentialInfo:"地铁线路图放送机收集基本使用数据，帮助我们了解用户如何以及何时与工具互动。请放心，绝不会收集任何个人身份信息或项目数据。",essentialLink:"点击此链接查看Google Analytics可能收集的详细字段。",additional:"附加",additionalInfo:"地铁线路图放送机还会在您输入时收集交互数据，例如项目创建或变体修改。这些附加数据也是匿名的，仅用于统计分析，以帮助我们改进工具。"}},audioTask:{title:"声音任务",desc:"我们致力于生成最自然的报站广播。为此，我们基于大量样本进行深度训练。欢迎体验由最新机器学习大模型提供的高质量广播！",note1:"请注意目前仅提供上海风格的报站广播。",note2:"由于算力限制，提交任务后请耐心等待，我们将尽力在30小时内处理完毕。",note3:"请及时下载保存您的作品，我们仅承诺保存30天内的数据。",note4:"为了保证最好的英文广播，请用汉字替换'station name pinyin'中所有拼音部分，如'莘庄 University'而非'Xinzhuang University'。",audioNotSupported:"您的浏览器不支持音频播放。推荐使用Chrome或Firefox浏览器。",loginFirst:"请先登录以使用大模型生成音频。",topUp:"充值",table:{id:"ID",status:"状态",createdAt:"创建时间",updatedAt:"更新时间",points:"积分",actions:"操作"},report1:"生成的广播遇到问题？",report2:"创建一个GitHub的议题。",report3:"我们将在确认后全额返还点数。",freeInternet1:"我们相信自由开放的互联网。您也可以",freeInternet2:"下载原始文本",freeInternet3:"并在您喜欢的声音提供商中使用 :)",redeem:{title:"点数兑换",desc:"您可以使用点数兑换音频生成服务。CDKey可在以下平台购买：",input:"在此输入您的CDKey：",redeem:"兑换"},new:{title:"新任务",content1:"这将从当前项目创建一个新任务。",content2:"预计消耗的积分为",content3:"实际使用的积分以服务器为准。",content4:"您可以在处理前取消任务以获得全额的点数返还。",create:"创建新任务"}}},fc={title:"车站变体",baseVariant:"基础变体"},hc={title:"欢迎来到地铁线路图放送机",desc:"在这里，您可以制作并生成专属于你的地铁线路走字屏和报站！",steps:"🚇 简单三步完成创作",step1:"右上角导入来自地铁线路图生成器的作品",step2:"修改诸如开门方向等的细节",step3:"点击右上角的播放预览报站音",start:"我们给你准备好了示例作品，关闭窗口后尽情体验吧 :)"},pc={header:dc,stationVariants:fc,welcome:hc,import:{title:"导入RMG作品",goodToGo:"一切就绪！立即导入此RMG作品。",routes:"选择要导入的路线",services:"选择要导入的班次类型",service:{local:"普通",express:"快速",direct:"直达"},import:"导入"}},gc={about:{title:"關於",rma:"地鐵線路圖放送機",railmapgen:"地鐵線路圖工具組專案",desc:"",contributors:"貢獻者",content1:"reflexion,allegretto,you",content2:"2024/02/21 於上海",contactUs:"聯絡我們",github:"項目倉庫",githubContent:"遇到任何問題？在這裡搜索或提出問題！",slack:"Slack 群組",slackContent:"在這些 Slack 頻道中聊天！"},donation:{title:"捐贈",openCollective:"Open Collective",viaUSD:"通過 Paypal 或 Visa 卡以美元捐贈。",afdian:"愛發電",viaCNY:"通過支付寶或微信支付以人民幣捐贈。"},paly:{previewWarning:"對預覽聲音不滿意？試試在導出音頻中使用我們最新大模型生成的聲音。"},open:{config:"導入項目",projectRMG:"從 RMG 項目導入",invalidType:"無效的文件類型！只接受從RMA匯出的檔案。",unknownError:"解析上傳文件時發生未知錯誤！請重試。"},download:{config:"導出項目",image:"導出圖片",audio:"導出音頻",format:"格式",png:"PNG",svg:"SVG",scale:"比例",disabledScaleOptions:"由於瀏覽器的畫布限制，某些比例選項已被禁用。",disabledScaleOptionsWorkarounds:"可能的解決方法包括使用此命令行工具從 svg 生成圖片：",shareInfo1:"我將在分享此圖片時附加 ",shareInfo2:" 及其鏈接。",termsAndConditions:"條款與條件",termsAndConditionsInfo:"我同意 ",period:"。",confirm:"下載"},settings:{title:"設置",crawl:{title:"走字螢幕",scale:"縮放比例"},previewAudio:{title:"首選預覽語音",notModified:"使用風格偏好","shmetro-zh":"上海地鐵（普通話）","shmetro-en":"上海地鐵（英語）"},telemetry:{title:"遙測",info:"為了幫助改進地鐵線路圖放送機並激勵貢獻者增強項目，通過 Google Analytics 收集匿名使用數據。這些數據僅用於增強用戶體驗和優化工具功能，絕不會與第三方共享。",essential:"基本",essentialTooltip:"在路綫圖工具組中更改此全局設置",essentialInfo:"地鐵線路圖放送機收集基本使用數據，幫助我們了解用戶如何以及何時與工具互動。請放心，絕不會收集任何個人身份信息或項目數據。",essentialLink:"點擊此鏈接查看 Google Analytics 可能收集的詳細字段。",additional:"附加",additionalInfo:"地鐵線路圖放送機還會收集互動數據，例如項目創建或變體修改時的輸入。這些附加數據也是匿名的，僅用於統計分析，以幫助我們改進工具。"}},audioTask:{title:"音頻任務",desc:"我們致力於生成最自然的報站廣播。為此，我們基於大量樣本進行了深度訓練。歡迎體驗由最新機器學習大模型提供的高品質廣播！",note1:"請注意目前僅提供上海風格的報站廣播。",note2:"由於算力限制，提交任務後請耐心等待，我們將盡力在30小時內處理完畢。",note3:"請及時下載保存您的作品，我們僅承諾保存30天內的數據。",note4:"為了確保最好的英文廣播，請用漢字替換'station name pinyin'中所有拼音部分，例如使用'莘庄 University'而不是'Xinzhuang University'。",audioNotSupported:"您的瀏覽器不支援音頻播放。推薦使用Chrome或Firefox瀏覽器。",loginFirst:"請先登入以使用大模型生成音頻。",topUp:"充值",table:{id:"ID",status:"狀態",createdAt:"創建時間",updatedAt:"更新時間",points:"點數",actions:"操作"},report1:"生成的廣播有問題？",report2:"建立一個 GitHub 議題。",report3:"我們將在確認後全額返還點數。",freeInternet1:"我們相信自由開放的互聯網。您也可以 ",freeInternet2:"下載原始文本",freeInternet3:" 並在您喜歡的音頻提供商中使用 :)",redeem:{title:"點數兌換",desc:"您可以使用點數兌換音頻生成服務。CDKey可在以下平台購買：",input:"在此輸入您的CDKey：",redeem:"兌換"},new:{title:"新任務",content1:"這將從當前項目創建一個新任務。",content2:"預計消耗的點數為 ",content3:"實際使用的點數以服務器為準。",content4:"您可以在處理前取消任務以獲得全額的點數回饋。",create:"創建新任務"}}},mc={title:"車站變體",baseVariant:"基礎變體"},yc={title:"歡迎來到地鐵路綫圖放送機",desc:"在這裡，您可以製作專屬的地鐵路綫走馬燈與報站廣播！",steps:"🚇 簡單三步驟完成",step1:"從右上角匯入「地鐵路綫圖產生器」的作品",step2:"調整開門方向等細節",step3:"點擊右上角「播放」預覽報站音",start:"我們已準備好示例作品，關閉此視窗即可開始體驗！ :)"},vc={header:gc,stationVariants:mc,welcome:yc,import:{title:"匯入RMG作品",goodToGo:"準備完成！立即匯入此RMG作品。",routes:"選擇要匯入的路線",services:"選擇要匯入的班次類型",service:{local:"普通車",express:"快速車",direct:"直達車"},import:"匯入"}},xc={about:{title:"について",rma:"地下鉄路線図放送機",railmapgen:"地下鉄路線図工具一式プロジェクト",desc:"",contributors:"貢献者",content1:"reflexion,allegretto,you",content2:"2024/02/21 上海にて",contactUs:"お問い合わせ",github:"プロジェクトリポジトリ",githubContent:"問題が発生しましたか？ここで検索またはイシューを提起してください！",slack:"Slackグループ",slackContent:"これらのSlackチャンネルでチャットしてください！"},donation:{title:"寄付",openCollective:"Open Collective",viaUSD:"PaypalまたはVisaカードでUSDで寄付してください。",afdian:"爱发电",viaCNY:"AlipayまたはWechat PayでCNYで寄付してください。"},paly:{previewWarning:"プレビューの音声に満足できないですか？エクスポート音声で私たちの最新AIが生成した音声をお試しください。"},open:{config:"プロジェクトをインポート",projectRMG:"RMGプロジェクトからインポート",invalidType:"無効なファイルタイプです！RMAからエクスポートされたファイルのみが受け入れられます。",unknownError:"アップロードされたファイルの解析中に不明なエラーが発生しました！もう一度お試しください。"},download:{config:"プロジェクトをエクスポート",image:"画像をエクスポート",audio:"音声をエクスポート",format:"フォーマット",png:"PNG",svg:"SVG",scale:"スケール",disabledScaleOptions:"ブラウザのキャンバス制限により、一部のスケールオプションは無効です。",disabledScaleOptionsWorkarounds:"可能な回避策としては、このCLIツールを使用してSVGから画像を生成することがあります: ",shareInfo1:"この画像を共有する際に ",shareInfo2:" とそのリンクを添付します。",termsAndConditions:"利用規約",termsAndConditionsInfo:"私は以下に同意します ",period:"。",confirm:"ダウンロード"},settings:{title:"設定",crawl:{title:"ドットマトリクス文字",scale:"スケール"},previewAudio:{title:"優先プレビュー音声",notModified:"風格設定を使用","shmetro-zh":"上海地下鉄（普通話）","shmetro-en":"上海地下鉄（英語）"},telemetry:{title:"テレメトリ",info:"地下鉄路線図放送機を改善し、貢献者がプロジェクトを強化する意欲を維持するために、Google Analyticsを通じて匿名の使用データが収集されます。このデータはユーザーエクスペリエンスの向上とツールの機能最適化にのみ使用され、第三者と共有されることはありません。",essential:"基本",essentialTooltip:"このグローバル設定は路線図ツールキットで変更できます",essentialInfo:"地下鉄路線図放送機は、ユーザーがツールとどのように、いつ相互作用するかを理解するのに役立つ基本的な使用データを収集します。安心してください、個人を特定できる情報やプロジェクトのデータは一切収集されません。",essentialLink:"このリンクをクリックして、Google Analyticsが収集する可能性のある詳細なフィールドを確認してください。",additional:"追加",additionalInfo:"地下鉄路線図放送機は、入力時にプロジェクトの作成やバリアントの変更などの相互作用に関するデータも収集します。これらの追加データも匿名であり、統計分析にのみ使用され、ツールをより良くするのに役立ちます。"}},audioTask:{title:"音声タスク",desc:"私たちは最も自然な駅案内放送の生成に取り組んでいます。このため、我々は大量のサンプルに基づいて深層学習を行いました。最新の機械学習モデルが提供する高品質な放送をお楽しみください！",note1:"現在提供しているのは上海スタイルの駅案内放送のみとなります。",note2:"計算リソースに制限があるため、タスク送信後はお待ちください。30時間以内に処理を完了するよう最善を尽くします。",note3:"作成された作品はお早めにダウンロードして保存してください。データの保存期間は30日間のみとさせていただきます。",note4:"最良の英語放送を実現するために、'station name pinyin'内のすべてのピンイン部分を漢字に置き換えてください。例えば、'Xinzhuang University'ではなく'莘庄 University'としてください。",audioNotSupported:"お使いのブラウザでは音声再生がサポートされていません。ChromeまたはFirefoxの使用を推奨します。",loginFirst:"最初にログインして、AIで音声を生成してください。",topUp:"チャージ",table:{id:"ID",status:"ステータス",createdAt:"作成日",updatedAt:"更新日",points:"ポイント",actions:"操作"},report1:"生成された放送に問題が発生した場合は、",report2:"GitHubのイシューを作成してください。",report3:"確認後にポイントを全額返金いたします。",freeInternet1:"私たちは自由でオープンなインターネットを信じています。また、",freeInternet2:"生のテキストをダウンロード",freeInternet3:"して、お気に入りの音声プロバイダーで使用することもできます :)",redeem:{title:"ポイント交換",desc:"ポイントを音声生成サービスと交換できます。CDKeyは以下のサイトで購入可能です：",input:"CDKeyをこちらに入力：",redeem:"交換"},new:{title:"新しいタスク",content1:"これにより、現在のプロジェクトから新しいタスクが作成されます。",content2:"推定されるポイント消費量は ",content3:"実際に使用されるポイントはサーバーに依存します。",content4:"処理前にタスクをキャンセルすると、全額のポイントが返金されます。",create:"新しいタスクを作成"}}},bc={title:"駅バリアント",baseVariant:"基本バリアント"},wc={title:"地下鉄路線図放送機へようこそ",desc:"ここでは、オリジナルの地下鉄路線表示とアナウンスを作成できます！",steps:"🚇 3ステップで簡単作成",step1:"右上の「地下鉄路線図ジェネレータ」から作品をインポート",step2:"ドア開閉方向などの詳細を調整",step3:"右上の「再生」でアナウンスを試聴",start:"サンプル作品を用意しました。この画面を閉じてお試しください！ :)"},Sc={header:xc,stationVariants:bc,welcome:wc,import:{title:"RMG作品をインポート",goodToGo:"準備完了！このRMG作品をインポートします。",routes:"インポートする路線を選択",services:"インポートする列車種別を選択",service:{local:"普通列車",express:"快速列車",direct:"直通列車"},import:"インポート"}},Cc={about:{title:"소개",rma:"철도 노선도 방송 기계",railmapgen:"노선도 툴킷 프로젝트",desc:"",contributors:"기여자",content1:"reflexion,allegretto,you",content2:"2024/02/21 상하이",contactUs:"문의하기",github:"프로젝트 저장소",githubContent:"문제가 있나요? 여기서 검색하거나 이슈를 등록하세요!",slack:"Slack 그룹",slackContent:"이 Slack 채널에서 채팅하세요!"},donation:{title:"기부",openCollective:"Open Collective",viaUSD:"Paypal 또는 Visa 카드로 USD로 기부하세요.",afdian:"爱发电",viaCNY:"Alipay 또는 Wechat Pay로 CNY로 기부하세요."},paly:{previewWarning:"미리보기 음성에 만족하지 못하셨나요? 내보내기 오디오에서 우리의 최신 AI가 생성한 음성을 시도해 보세요."},open:{config:"프로젝트 가져오기",projectRMG:"RMG 프로젝트에서 가져오기",invalidType:"잘못된 파일 형식입니다! RMA에서 내보낸 파일만 허용됩니다.",unknownError:"업로드한 파일을 파싱하는 중 알 수 없는 오류가 발생했습니다! 다시 시도해 주세요."},download:{config:"프로젝트 내보내기",image:"이미지 내보내기",audio:"오디오 내보내기",format:"형식",png:"PNG",svg:"SVG",scale:"스케일",disabledScaleOptions:"일부 스케일 옵션은 브라우저의 캔버스 제한으로 인해 비활성화되었습니다.",disabledScaleOptionsWorkarounds:"가능한 해결 방법으로는 이 CLI 도구를 사용하여 SVG에서 이미지를 생성하는 것이 있습니다: ",shareInfo1:"이 이미지를 공유할 때 ",shareInfo2:" 및 해당 링크를 첨부할 것입니다.",termsAndConditions:"이용 약관",termsAndConditionsInfo:"나는 다음에 동의합니다: ",period:".",confirm:"다운로드"},settings:{title:"설정",crawl:{title:"도트 매트릭스 문자",scale:"스케일"},previewAudio:{title:"선호 미리보기 음성",notModified:"스타일 설정 사용","shmetro-zh":"상하이 지하철 (보통화)","shmetro-en":"상하이 지하철 (영어)"},telemetry:{title:"원격 측정",info:"지하철 노선도 안내원을 개선하고 기여자들이 프로젝트를 개선할 동기를 유지하기 위해 Google Analytics를 통해 익명의 사용 데이터를 수집합니다. 이 데이터는 사용자 경험을 향상시키고 도구의 기능을 최적화하는 데만 사용되며 제3자와 공유되지 않습니다.",essential:"기본",essentialTooltip:"이 전역 설정은 노선도 툴킷에서 변경하세요",essentialInfo:"지하철 노선도 안내원은 사용자가 도구와 상호 작용하는 방식과 시기를 이해하는 데 도움이 되는 기본 사용 데이터를 수집합니다. 안심하세요, 개인 식별 정보나 프로젝트 데이터는 절대 수집되지 않습니다.",essentialLink:"Google Analytics가 수집할 수 있는 상세 필드를 보려면 이 링크를 클릭하세요.",additional:"추가",additionalInfo:"지하철 노선도 안내원은 또한 프로젝트 생성 또는 변형 수정과 같은 상호 작용에 대한 데이터를 수집합니다. 이 추가 데이터도 익명이며 통계 분석을 위해 사용되어 도구를 개선하는 데 도움을 줍니다."}},audioTask:{title:"오디오 작업",desc:"우리는 가장 자연스러운 역 안내 방송 생성을 위해 노력하고 있습니다. 이를 위해, 우리는 대량의 샘플을 기반으로 심층 학습을 수행했습니다. 최신 머신러닝 대형 모델이 제공하는 고품질 방송을 경험해 보세요!",note1:"현재 상하이 스타일의 역 안내 방송만 제공됩니다.",note2:"계산 자원 제한으로 인해 작업 제출 후 잠시 기다려 주시기 바랍니다. 30시간 이내에 처리 완료할 수 있도록 최선을 다하겠습니다.",note3:"작품은 반드시 다운로드하여 저장해 주시기 바랍니다. 데이터는 30일 동안만 보관됩니다.",note4:"최상의 영어 방송을 보장하기 위해 'station name pinyin'에 있는 모든 병음 부분을 한자로 대체해 주세요. 예를 들어 'Xinzhuang University' 대신 '莘庄 University'로 작성해 주세요.",audioNotSupported:"현재 브라우저에서는 오디오 재생을 지원하지 않습니다.Chrome 또는 Firefox 브라우저 사용을 권장합니다.",loginFirst:"먼저 로그인하여 AI로 오디오를 생성하세요.",topUp:"충전",table:{id:"ID",status:"상태",createdAt:"생성일",updatedAt:"수정일",points:"포인트",actions:"작업"},report1:"생성된 방송에 문제가 발생한 경우",report2:"GitHub 이슈를 생성해 주세요.",report3:"확인 후 포인트를 전액 환불해 드립니다.",freeInternet1:"우리는 자유롭고 개방된 인터넷을 믿습니다. 또한 ",freeInternet2:"원본 텍스트 다운로드",freeInternet3:" 를 통해 선호하는 오디오 제공자를 사용할 수 있습니다 :)",redeem:{title:"포인트 사용",desc:"포인트를 오디오 생성 서비스로 교환할 수 있습니다. CDKey는 다음 사이트에서 구입 가능합니다:",input:"CDKey를 여기에 입력:",redeem:"교환"},new:{title:"새 작업",content1:"이 작업은 현재 프로젝트에서 새 작업을 생성합니다.",content2:"예상 소모 포인트는 ",content3:"실제 사용 포인트는 서버에 따라 다릅니다.",content4:"작업이 처리되기 전에 작업을 취소하면 전체 크레딧 환불을 받을 수 있습니다.",create:"새 작업 생성"}}},Oc={title:"역 변형",baseVariant:"기본 변형"},Ac={title:"철도 노선도 방송 기계에 오신 것을 환영합니다",desc:"여기서 나만의 지하철 노선 디스플레이와 안내 방송을 만들 수 있습니다!",steps:"🚇 3단계로 간편하게 완성",step1:"오른쪽 상단에서 '철도 노선도 생성기' 작품 불러오기",step2:"문 열림 방향 등 세부 설정 수정",step3:"오른쪽 상단 '재생'으로 안내 방송 미리듣기",start:"예시 프로젝트를 준비했어요. 이 창을 닫고 시작해 보세요! :)"},Pc={header:Cc,stationVariants:Oc,welcome:Ac,import:{title:"RMG 프로젝트 가져오기",goodToGo:"모든 준비 완료! 이 RMG 작품을 지금 가져옵니다.",routes:"가져올 노선 선택",services:"가져올 열차 종류 선택",service:{local:"일반 열차",express:"급행 열차",direct:"직통 열차"},import:"가져오기"}},Rc=new Z.I18nBuilder().use(Eo).withAppName("Rail Map Announcer").withLng(Z.getLanguage()).withResource("en",cc).withResource("zh-Hans",pc).withResource("zh-Hant",vc).withResource("ja",Sc).withResource("ko",Pc).build(),_c=1,jc="shmetro",Ec={arr:{"shmetro-wuu":{terminal:"莘庄",terminalPinyin:"莘庄",doorDirection:"left"},"shmetro-zh":{terminal:"莘庄",terminalPinyin:"莘庄",doorDirection:"left"},"shmetro-en":{terminal:"Xinzhuang",terminalPinyin:"Xinzhuang",doorDirection:"left"}},dep:{"shmetro-wuu":{terminal:"莘庄",terminalPinyin:"莘庄",nextDoorDirection:"left",lineName:"1号线",lineNamePinyin:"1号线",noteLastTrain:!0,loop:"none",loopTerminal:!1,service:"local"},"shmetro-zh":{terminal:"莘庄",terminalPinyin:"莘庄",nextDoorDirection:"left",lineName:"1号线",lineNamePinyin:"1号线",noteLastTrain:!0,loop:"none",loopTerminal:!1,service:"local"},"shmetro-en":{terminal:"Xinzhuang",terminalPinyin:"Xinzhuang",nextDoorDirection:"left",lineName:"Line 1",lineNamePinyin:"Line 1",service:"local"}},mdw:{"shmetro-wuu":{caution:!1},"shmetro-zh":{caution:!1},"shmetro-en":{}}},Lc={sd6y:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},dep:{"shmetro-wuu":{next:"汉中路",nextPinyin:"汉中路",int:[["12号线","13号线"]]},"shmetro-zh":{next:"汉中路",nextPinyin:"汉中路",int:[["12号线","13号线"]]},"shmetro-en":{welcomeAbroad:!1,next:"Hanzhong Road",nextPinyin:"汉中 Road",int:[["Line 12","Line 13"]],noteLastTrain:!1}}},qnbj:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"汉中路",namePinyin:"汉中路"},"shmetro-zh":{name:"汉中路",namePinyin:"汉中路"},"shmetro-en":{name:"Hanzhong Road",namePinyin:"汉中 Road"}},dep:{"shmetro-wuu":{next:"新闸路",nextPinyin:"新闸路",int:[]},"shmetro-zh":{next:"新闸路",nextPinyin:"新闸路",int:[]},"shmetro-en":{welcomeAbroad:!1,next:"XinZha Road",nextPinyin:"新闸 Road",int:[],noteLastTrain:!1}}},"7x7k":{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"新闸路",namePinyin:"新闸路"},"shmetro-zh":{name:"新闸路",namePinyin:"新闸路"},"shmetro-en":{name:"XinZha Road",namePinyin:"新闸 Road"}},dep:{"shmetro-wuu":{next:"人民广场",nextPinyin:"人民广场",int:[["2号线","8号线"]]},"shmetro-zh":{next:"人民广场",nextPinyin:"人民广场",int:[["2号线","8号线"]]},"shmetro-en":{welcomeAbroad:!1,next:"People's Square",nextPinyin:"People's Square",int:[["Line 2","Line 8"]],noteLastTrain:!1}}},kaxg:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"人民广场",namePinyin:"人民广场"},"shmetro-zh":{name:"人民广场",namePinyin:"人民广场"},"shmetro-en":{name:"People's Square",namePinyin:"People's Square"}},dep:{"shmetro-wuu":{next:"一大会址·黄陂南路",nextPinyin:"一大会址·黄陂南路",int:[["14号线"]]},"shmetro-zh":{next:"一大会址·黄陂南路",nextPinyin:"一大会址·黄陂南路",int:[["14号线"]]},"shmetro-en":{welcomeAbroad:!1,next:"Site of the First CPC National Congress · South Huangpi Road",nextPinyin:"Site of the First CPC National Congress · South 黄陂 Road",int:[["Line 14"]],noteLastTrain:!1}}},wbtv:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"一大会址·黄陂南路",namePinyin:"一大会址·黄陂南路"},"shmetro-zh":{name:"一大会址·黄陂南路",namePinyin:"一大会址·黄陂南路"},"shmetro-en":{name:"Site of the First CPC National Congress · South Huangpi Road",namePinyin:"Site of the First CPC National Congress · South 黄陂 Road"}},dep:{"shmetro-wuu":{next:"陕西南路",nextPinyin:"陕西南路",int:[["10号线","12号线"]]},"shmetro-zh":{next:"陕西南路",nextPinyin:"陕西南路",int:[["10号线","12号线"]]},"shmetro-en":{welcomeAbroad:!1,next:"South Shaanxi Road",nextPinyin:"South 陕西 Road",int:[["Line 10","Line 12"]],noteLastTrain:!1}}},jjh7:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"陕西南路",namePinyin:"陕西南路"},"shmetro-zh":{name:"陕西南路",namePinyin:"陕西南路"},"shmetro-en":{name:"South Shaanxi Road",namePinyin:"South 陕西 Road"}},dep:{"shmetro-wuu":{next:"常熟路",nextPinyin:"常熟路",int:[["7号线"]]},"shmetro-zh":{next:"常熟路",nextPinyin:"常熟路",int:[["7号线"]]},"shmetro-en":{welcomeAbroad:!1,next:"Changshu Road",nextPinyin:"常熟 Road",int:[["Line 7"]],noteLastTrain:!1}}},h3vs:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"常熟路",namePinyin:"常熟路"},"shmetro-zh":{name:"常熟路",namePinyin:"常熟路"},"shmetro-en":{name:"Changshu Road",namePinyin:"常熟 Road"}},dep:{"shmetro-wuu":{next:"衡山路",nextPinyin:"衡山路",int:[]},"shmetro-zh":{next:"衡山路",nextPinyin:"衡山路",int:[]},"shmetro-en":{welcomeAbroad:!1,next:"Hengshan Road",nextPinyin:"衡山 Road",int:[],noteLastTrain:!1}}},lcgp:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"衡山路",namePinyin:"衡山路"},"shmetro-zh":{name:"衡山路",namePinyin:"衡山路"},"shmetro-en":{name:"Hengshan Road",namePinyin:"衡山 Road"}},dep:{"shmetro-wuu":{next:"徐家汇",nextPinyin:"徐家汇",int:[["9号线","11号线"]]},"shmetro-zh":{next:"徐家汇",nextPinyin:"徐家汇",int:[["9号线","11号线"]]},"shmetro-en":{welcomeAbroad:!1,next:"Xujiahui",nextPinyin:"徐家汇",int:[["Line 9","Line 11"]],noteLastTrain:!1}}},j2kn:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"徐家汇",namePinyin:"徐家汇"},"shmetro-zh":{name:"徐家汇",namePinyin:"徐家汇"},"shmetro-en":{name:"Xujiahui",namePinyin:"徐家汇"}},dep:{"shmetro-wuu":{next:"上海体育馆",nextPinyin:"上海体育馆",int:[["4号线"]]},"shmetro-zh":{next:"上海体育馆",nextPinyin:"上海体育馆",int:[["4号线"]]},"shmetro-en":{welcomeAbroad:!1,next:"Shanghai Indoor Stadium",nextPinyin:"Shanghai Indoor Stadium",int:[["Line 4"]],noteLastTrain:!1}}},k9k5:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"上海体育馆",namePinyin:"上海体育馆"},"shmetro-zh":{name:"上海体育馆",namePinyin:"上海体育馆"},"shmetro-en":{name:"Shanghai Indoor Stadium",namePinyin:"Shanghai Indoor Stadium"}},dep:{"shmetro-wuu":{next:"漕宝路",nextPinyin:"漕宝路",int:[["12号线"]]},"shmetro-zh":{next:"漕宝路",nextPinyin:"漕宝路",int:[["12号线"]]},"shmetro-en":{welcomeAbroad:!1,next:"Caobao Road",nextPinyin:"漕宝 Road",int:[["Line 12"]],noteLastTrain:!1}}},x9gu:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"漕宝路",namePinyin:"漕宝路"},"shmetro-zh":{name:"漕宝路",namePinyin:"漕宝路"},"shmetro-en":{name:"Caobao Road",namePinyin:"漕宝 Road"}},dep:{"shmetro-wuu":{next:"上海南站",nextPinyin:"上海南站",int:[["3号线","15号线"],["金山铁路"]]},"shmetro-zh":{next:"上海南站",nextPinyin:"上海南站",int:[["3号线","15号线"],["金山铁路"]]},"shmetro-en":{welcomeAbroad:!1,next:"Shanghai South Railway Station",nextPinyin:"Shanghai South Railway Station",int:[["Line 3","Line 15"],["Jingshan Railway"]],noteLastTrain:!1}}},srpy:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"上海南站",namePinyin:"上海南站"},"shmetro-zh":{name:"上海南站",namePinyin:"上海南站"},"shmetro-en":{name:"Shanghai South Railway Station",namePinyin:"Shanghai South Railway Station"}},dep:{"shmetro-wuu":{next:"锦江乐园",nextPinyin:"锦江乐园",int:[]},"shmetro-zh":{next:"锦江乐园",nextPinyin:"锦江乐园",int:[]},"shmetro-en":{welcomeAbroad:!1,next:"JinJiang Park",nextPinyin:"锦江 Park",int:[],noteLastTrain:!1}}},jsat:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"锦江乐园",namePinyin:"锦江乐园"},"shmetro-zh":{name:"锦江乐园",namePinyin:"锦江乐园"},"shmetro-en":{name:"JinJiang Park",namePinyin:"锦江 Park"}},dep:{"shmetro-wuu":{next:"莲花路",nextPinyin:"莲花路",int:[]},"shmetro-zh":{next:"莲花路",nextPinyin:"莲花路",int:[]},"shmetro-en":{welcomeAbroad:!1,next:"Lianhua Road ",nextPinyin:"莲花 Road ",int:[],noteLastTrain:!1}}},qzjx:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"莲花路",namePinyin:"莲花路"},"shmetro-zh":{name:"莲花路",namePinyin:"莲花路"},"shmetro-en":{name:"Lianhua Road ",namePinyin:"莲花 Road "}},dep:{"shmetro-wuu":{next:"外环路",nextPinyin:"外环路",int:[]},"shmetro-zh":{next:"外环路",nextPinyin:"外环路",int:[]},"shmetro-en":{welcomeAbroad:!1,next:"Waihuanlu",nextPinyin:"外环路",int:[],noteLastTrain:!1}}},l1mz:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"外环路",namePinyin:"外环路"},"shmetro-zh":{name:"外环路",namePinyin:"外环路"},"shmetro-en":{name:"Waihuanlu",namePinyin:"外环路"}},dep:{"shmetro-wuu":{next:"莘庄",nextPinyin:"莘庄",int:[["5号线"]]},"shmetro-zh":{next:"莘庄",nextPinyin:"莘庄",int:[["5号线"]]},"shmetro-en":{welcomeAbroad:!1,next:"Xinzhuang",nextPinyin:"莘庄",int:[["Line 5"]],noteLastTrain:!1}}},iwf6:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"莘庄",namePinyin:"莘庄"},"shmetro-zh":{name:"莘庄",namePinyin:"莘庄"},"shmetro-en":{name:"Xinzhuang",namePinyin:"莘庄"}}}},Mc={sd6y:{name:"上海火车站"},qnbj:{name:"汉中路"},"7x7k":{name:"新闸路"},kaxg:{name:"人民广场"},wbtv:{name:"一大会址·黄陂南路"},jjh7:{name:"陕西南路"},h3vs:{name:"常熟路"},lcgp:{name:"衡山路"},j2kn:{name:"徐家汇"},k9k5:{name:"上海体育馆"},x9gu:{name:"漕宝路"},srpy:{name:"上海南站"},jsat:{name:"锦江乐园"},qzjx:{name:"莲花路"},l1mz:{name:"外环路"},iwf6:{name:"莘庄"}},vr={version:_c,style:jc,baseVariants:Ec,stations:Lc,metadata:Mc};var E=(t=>(t.NextStopTerminal="NextStopTerminal",t.TerminalAllGetOffLeft="TerminalAllGetOffLeft",t.TerminalAllGetOffRight="TerminalAllGetOffRight",t.Arrive="Arrive",t.DoorOpenLeft="DoorOpenLeft",t.DoorOpenRight="DoorOpenRight",t.TheTerminalOfThisTrain="TheTerminalOfThisTrain",t.NextStop="NextStop",t.InterchangeAvailable="InterchangeAvailable",t.OutOfStationInterchangeAvailable="OutOfStationInterchangeAvailable",t.OutOfStationInterchangeAvailableEnglish2="OutOfStationInterchangeAvailableEnglish2",t.OutOfSystemInterchangeAvailable="OutOfSystemInterchangeAvailable",t.NoteLastTrain="NoteLastTrain",t.LeaveLoveSeat="LeaveLoveSeat",t.Caution="Caution",t.Loop="Loop",t.InnerLoop="InnerLoop",t.OuterLoop="OuterLoop",t.BranchTerminal1="BranchTerminal1",t.BranchTerminal2="BranchTerminal2",t.BranchTerminalEnglish="BranchTerminalEnglish",t.ServiceExpress="ServiceExpress",t.ServiceDirect="ServiceDirect",t.Stopovers1="Stopovers1",t.Stopovers2="Stopovers2",t.Stopovers3="Stopovers3",t))(E||{});const Ic={[A.Arrival]:{[p.ChineseMandarinSimplified]:{NextStopTerminal:{type:m.Predefined,voiceName:p.ChineseMandarinSimplified,text:"终点站",pinyin:"终点站",rate:"+18.00%"},Arrive:{type:m.Predefined,voiceName:p.ChineseMandarinSimplified,text:"到了",pinyin:"到了",rate:"+18.00%"},TerminalAllGetOffLeft:{type:m.Predefined,voiceName:p.ChineseMandarinSimplified,text:"请全体乘客在屏蔽门完全打开后，从左边车门下车。",pinyin:"请全体乘客在屏蔽门完全打开后，从左边车门下车。",rate:"+18.00%"},TerminalAllGetOffRight:{type:m.Predefined,voiceName:p.ChineseMandarinSimplified,text:"请全体乘客在屏蔽门完全打开后，从右边车门下车。",pinyin:"请全体乘客在屏蔽门完全打开后，从右边车门下车。",rate:"+18.00%"},DoorOpenLeft:{type:m.Predefined,voiceName:p.ChineseMandarinSimplified,text:"开左边门",pinyin:"开左边门",rate:"+18.00%"},DoorOpenRight:{type:m.Predefined,voiceName:p.ChineseMandarinSimplified,text:"开右边门",pinyin:"开右边门",rate:"+18.00%"}},[p.ChineseWuSimplifiedXiaotong]:{NextStopTerminal:{type:m.Predefined,voiceName:p.ChineseWuSimplifiedXiaotong,text:"终点站",rate:"+18.00%",pinyin:"终点站"},Arrive:{type:m.Predefined,voiceName:p.ChineseWuSimplifiedXiaotong,text:"到了",pinyin:"到了",rate:"+18.00%"},TerminalAllGetOffLeft:{type:m.Predefined,voiceName:p.ChineseWuSimplifiedXiaotong,text:"请所有乘客勒屏蔽门完全打开后，从左边车门下车。",pinyin:"请所有乘客勒屏蔽门完全打开后，从左边车门下车。",rate:"+18.00%"},TerminalAllGetOffRight:{type:m.Predefined,voiceName:p.ChineseWuSimplifiedXiaotong,text:"请所有乘客勒屏蔽门完全打开后，从右边车门下车。",pinyin:"请所有乘客勒屏蔽门完全打开后，从右边车门下车。",rate:"+18.00%"},DoorOpenLeft:{type:m.Predefined,voiceName:p.ChineseWuSimplifiedXiaotong,text:"开左边门",pinyin:"开左边门",rate:"+18.00%"},DoorOpenRight:{type:m.Predefined,voiceName:p.ChineseWuSimplifiedXiaotong,text:"开右边门",pinyin:"开右边门",rate:"+18.00%"}},[p.ChineseWuSimplifiedYunzhe]:{NextStopTerminal:{type:m.Predefined,voiceName:p.ChineseWuSimplifiedYunzhe,text:"the terminal station",pinyin:"the terminal station"},Arrive:{type:m.Predefined,voiceName:p.ChineseWuSimplifiedYunzhe,text:"We are now at",pinyin:"We are now at"},TerminalAllGetOffLeft:{type:m.Predefined,voiceName:p.ChineseWuSimplifiedYunzhe,text:"Please get ready to the exit from the left side. ",pinyin:"Please get ready to the exit from the left side. "},TerminalAllGetOffRight:{type:m.Predefined,voiceName:p.ChineseWuSimplifiedYunzhe,text:"Please get ready to the exit from the right side. ",pinyin:"Please get ready to the exit from the right side. "},DoorOpenLeft:{type:m.Predefined,voiceName:p.ChineseWuSimplifiedYunzhe,text:"Doors will open on the left",pinyin:"Doors will open on the left"},DoorOpenRight:{type:m.Predefined,voiceName:p.ChineseWuSimplifiedYunzhe,text:"Doors will open on the right",pinyin:"Doors will open on the right"}}},[A.Departure]:{[p.ChineseMandarinSimplified]:{TheTerminalOfThisTrain:{type:m.Predefined,voiceName:p.ChineseMandarinSimplified,text:"本次列车终点站",pinyin:"本次列车终点站",rate:"+18.00%"},InnerLoop:{type:m.Predefined,voiceName:p.ChineseMandarinSimplified,text:"本次列车内圈运行",pinyin:"本次列车内圈运行",rate:"+18.00%"},OuterLoop:{type:m.Predefined,voiceName:p.ChineseMandarinSimplified,text:"本次列车外圈运行",pinyin:"本次列车外圈运行",rate:"+18.00%"},Loop:{type:m.Predefined,voiceName:p.ChineseMandarinSimplified,text:"本线为环线",pinyin:"本线为环线",rate:"+18.00%"},NextStop:{type:m.Predefined,voiceName:p.ChineseMandarinSimplified,text:"下一站",pinyin:"下一站",rate:"+18.00%"},NextStopTerminal:{type:m.Predefined,voiceName:p.ChineseMandarinSimplified,text:"终点站",pinyin:"终点站",rate:"+18.00%"},DoorOpenLeft:{type:m.Predefined,voiceName:p.ChineseMandarinSimplified,text:"开左边门",pinyin:"开左边门",rate:"+18.00%"},DoorOpenRight:{type:m.Predefined,voiceName:p.ChineseMandarinSimplified,text:"开右边门",pinyin:"开右边门",rate:"+18.00%"},InterchangeAvailable:{type:m.Predefined,voiceName:p.ChineseMandarinSimplified,text:"可换乘",pinyin:"可换乘",rate:"+18.00%",contour:"(50%, +0%) (100%, +30%)"},OutOfStationInterchangeAvailable:{type:m.Predefined,voiceName:p.ChineseMandarinSimplified,text:"手持交通卡的乘客，可在出站后30分钟内，免费换乘",pinyin:"手持交通卡的乘客，可在出站后30分钟内，免费换乘",rate:"+18.00%",contour:"(50%, +0%) (100%, +30%)"},OutOfSystemInterchangeAvailable:{type:m.Predefined,voiceName:p.ChineseMandarinSimplified,text:"可转乘",pinyin:"可转乘",rate:"+18.00%",contour:"(50%, +0%) (100%, +30%)"},NoteLastTrain:{type:m.Predefined,voiceName:p.ChineseMandarinSimplified,text:"请注意换乘列车的首末班车时间。",pinyin:"请注意换乘列车的首末班车时间。",rate:"+18.00%"},BranchTerminal1:{type:m.Predefined,voiceName:p.ChineseMandarinSimplified,text:"要往",pinyin:"要往",rate:"+18.00%"},BranchTerminal2:{type:m.Predefined,voiceName:p.ChineseMandarinSimplified,text:"方向的乘客，请在本站下车后换乘",pinyin:"方向的乘客，请在本站下车后换乘",rate:"+18.00%"},ServiceExpress:{type:m.Predefined,voiceName:p.ChineseMandarinSimplified,text:"本次列车是大站车。",pinyin:"本次列车是大站车。",rate:"+18.00%"},ServiceDirect:{type:m.Predefined,voiceName:p.ChineseMandarinSimplified,text:"本次列车是直达车。",pinyin:"本次列车是直达车。",rate:"+18.00%"},Stopovers1:{type:m.Predefined,voiceName:p.ChineseMandarinSimplified,text:"中途停靠",pinyin:"中途停靠",rate:"+18.00%"},Stopovers2:{type:m.Predefined,voiceName:p.ChineseMandarinSimplified,text:"到其他车站的乘客，请在",pinyin:"到其他车站的乘客，请在",rate:"+18.00%"},Stopovers3:{type:m.Predefined,voiceName:p.ChineseMandarinSimplified,text:"换乘",pinyin:"换乘",rate:"+18.00%"}},[p.ChineseWuSimplifiedXiaotong]:{TheTerminalOfThisTrain:{type:m.Predefined,voiceName:p.ChineseWuSimplifiedXiaotong,text:"本趟列车额终点站是",pinyin:"本趟列车额终点站是",rate:"+18.00%"},InnerLoop:{type:m.Predefined,voiceName:p.ChineseMandarinSimplified,text:"本趟列车内圈运行",pinyin:"本趟列车内圈运行",rate:"+18.00%"},OuterLoop:{type:m.Predefined,voiceName:p.ChineseMandarinSimplified,text:"本趟列车外圈运行",pinyin:"本趟列车外圈运行",rate:"+18.00%"},Loop:{type:m.Predefined,voiceName:p.ChineseMandarinSimplified,text:"本线为环线",pinyin:"本线为环线",rate:"+18.00%"},NextStop:{type:m.Predefined,voiceName:p.ChineseWuSimplifiedXiaotong,text:"下一站",pinyin:"下一站",rate:"+18.00%"},NextStopTerminal:{type:m.Predefined,voiceName:p.ChineseWuSimplifiedXiaotong,text:"终点站",pinyin:"终点站",rate:"+18.00%"},DoorOpenLeft:{type:m.Predefined,voiceName:p.ChineseWuSimplifiedXiaotong,text:"开左边门",pinyin:"开左边门",rate:"+18.00%"},DoorOpenRight:{type:m.Predefined,voiceName:p.ChineseWuSimplifiedXiaotong,text:"开右边门",pinyin:"开右边门",rate:"+18.00%"},InterchangeAvailable:{type:m.Predefined,voiceName:p.ChineseWuSimplifiedXiaotong,text:"可以换乘",pinyin:"可以换乘",rate:"+18.00%",contour:"(50%, +0%) (100%, +30%)"},OutOfStationInterchangeAvailable:{type:m.Predefined,voiceName:p.ChineseWuSimplifiedXiaotong,text:"拿着交通卡的乘客，好勒出站后30分钟内，免费换乘",pinyin:"拿着交通卡的乘客，好勒出站后30分钟内，免费换乘",rate:"+18.00%",contour:"(50%, +0%) (100%, +30%)"},OutOfSystemInterchangeAvailable:{type:m.Predefined,voiceName:p.ChineseWuSimplifiedXiaotong,text:"可以转乘",pinyin:"可以转乘",rate:"+18.00%",contour:"(50%, +0%) (100%, +30%)"},NoteLastTrain:{type:m.Predefined,voiceName:p.ChineseWuSimplifiedXiaotong,text:"请注意换乘列车额首末班车辰光。",pinyin:"请注意换乘列车额首末班车辰光。",rate:"+18.00%"},BranchTerminal1:{type:m.Predefined,voiceName:p.ChineseWuSimplifiedXiaotong,text:"要往",pinyin:"要往",rate:"+18.00%"},BranchTerminal2:{type:m.Predefined,voiceName:p.ChineseWuSimplifiedXiaotong,text:"方向的乘客，请勒本站下车后调车",pinyin:"方向的乘客，请勒本站下车后调车",rate:"+18.00%"},ServiceExpress:{type:m.Predefined,voiceName:p.ChineseMandarinSimplified,text:"本趟列车是大站车。",pinyin:"本趟列车是大站车。",rate:"+18.00%"},ServiceDirect:{type:m.Predefined,voiceName:p.ChineseMandarinSimplified,text:"本趟列车是直达车。",pinyin:"本趟列车是直达车。",rate:"+18.00%"},Stopovers1:{type:m.Predefined,voiceName:p.ChineseMandarinSimplified,text:"中途停靠",pinyin:"中途停靠",rate:"+18.00%"},Stopovers2:{type:m.Predefined,voiceName:p.ChineseMandarinSimplified,text:"到其他车站的乘客，请勒",pinyin:"到其他车站的乘客，请勒",rate:"+18.00%"},Stopovers3:{type:m.Predefined,voiceName:p.ChineseMandarinSimplified,text:"换乘",pinyin:"换乘",rate:"+18.00%"}},[p.ChineseWuSimplifiedYunzhe]:{TheTerminalOfThisTrain:{type:m.Predefined,voiceName:p.ChineseWuSimplifiedYunzhe,text:"The terminal station",pinyin:"The terminal station"},NextStop:{type:m.Predefined,voiceName:p.ChineseWuSimplifiedYunzhe,text:"Next station",pinyin:"Next station"},NextStopTerminal:{type:m.Predefined,voiceName:p.ChineseWuSimplifiedYunzhe,text:"is the terminal station",pinyin:"is the terminal station"},DoorOpenLeft:{type:m.Predefined,voiceName:p.ChineseWuSimplifiedYunzhe,text:"Doors will open on the left",pinyin:"Doors will open on the left"},DoorOpenRight:{type:m.Predefined,voiceName:p.ChineseWuSimplifiedYunzhe,text:"Doors will open on the right",pinyin:"Doors will open on the right"},InterchangeAvailable:{type:m.Predefined,voiceName:p.ChineseWuSimplifiedYunzhe,text:"You can transfer to",pinyin:"You can transfer to"},OutOfStationInterchangeAvailable:{type:m.Predefined,voiceName:p.ChineseWuSimplifiedYunzhe,text:"Passengers holding public transportation card, may transfer to",pinyin:"Passengers holding public transportation card, may transfer to",contour:"(60%, +0%) (100%, +30%)"},OutOfStationInterchangeAvailableEnglish2:{type:m.Predefined,voiceName:p.ChineseWuSimplifiedYunzhe,text:"within 30 minutes after getting out of the station. ",pinyin:"within 30 minutes after getting out of the station. "},OutOfSystemInterchangeAvailable:{type:m.Predefined,voiceName:p.ChineseWuSimplifiedYunzhe,text:"or take the",pinyin:"or take the",contour:"(50%, +0%) (100%, +30%)"},BranchTerminalEnglish:{type:m.Predefined,voiceName:p.ChineseWuSimplifiedYunzhe,text:"You may transfer trains bound for",pinyin:"You may transfer trains bound for"}}},[A.Midway]:{[p.ChineseMandarinSimplified]:{LeaveLoveSeat:{type:m.Predefined,voiceName:p.ChineseMandarinSimplified,text:"请把爱心专座留给有需要的乘客。",pinyin:"请把爱心专座留给有需要的乘客。",rate:"+18.00%"},Caution:{type:m.Predefined,voiceName:p.ChineseMandarinSimplified,text:"列车运行，请站稳扶好，不要看手机，注意脚下安全。",pinyin:"列车运行，请站稳扶好，不要看手机，注意脚下安全。",rate:"+18.00%"}}}},T=(t,e,n)=>{var i,o;const r=(o=(i=Ic[t])==null?void 0:i[e])==null?void 0:o[n];if(!r)throw new Error("Predefined phrase must exist in predefinedPhrases, stage: ".concat(t,", voiceName: ").concat(e,", predefinedPhraseType: ").concat(n,"."));return{...r,subType:n}},kc=t=>{const e={};for(const n in t.stations){e[n]={};for(const r in t.stations[n]){e[n][r]={};for(const i in t.stations[n][r]){const o=t.stations[n][r][i];if(!o)throw new Error("Should never happen!");const a=zc[t.style].reconcile(r,i,o,t.baseVariants);e[n][r][i]=a}}}return e},Tc=(t,e,n)=>{var r,i,o,a,s,l,c,u;if(t===A.Arrival){if(((i=(r=n[A.Arrival])==null?void 0:r[e])==null?void 0:i.terminal)===void 0)throw new Error("Terminal must exist in baseVariants, stage: ".concat(A.Arrival,", voiceName: ").concat(e,"."));if(((a=(o=n[A.Arrival])==null?void 0:o[e])==null?void 0:a.doorDirection)===void 0)throw new Error("Door direction must exist in baseVariants, stage: ".concat(A.Arrival,", voiceName: ").concat(e,"."))}if(t===A.Departure){if(((l=(s=n[A.Departure])==null?void 0:s[e])==null?void 0:l.terminal)===void 0)throw new Error("Terminal must exist in baseVariants, stage: ".concat(A.Departure,", voiceName: ").concat(e,"."));if(((u=(c=n[A.Departure])==null?void 0:c[e])==null?void 0:u.nextDoorDirection)===void 0)throw new Error("Next door direction must exist in baseVariants, stage: ".concat(A.Departure,", voiceName: ").concat(e,"."))}},Dc=(t,e,n,r)=>{var a,s,l,c,u,h,f,g,y,x,w,L,O,V,P,D,$,I,k,_,N,S,H;Tc(t,e,r);const i=e===p.ChineseWuSimplifiedYunzhe?void 0:"+18.00%",o=[];if(t===A.Arrival){e===p.ChineseWuSimplifiedYunzhe&&(o.push(T(t,e,E.Arrive)),o.push(j(e,R.BreakWeak)));const B=((a=n.terminal)!=null?a:r[A.Arrival][e].terminal)===n.name;B&&(o.push(T(t,e,E.NextStopTerminal)),o.push(j(e,R.BreakWeak))),o.push({type:m.Customized,voiceName:e,text:n.name,pinyin:n.namePinyin,rate:i}),o.push(j(e,e===p.ChineseWuSimplifiedYunzhe?R.BreakStrong:R.BreakWeak)),[p.ChineseMandarinSimplified,p.ChineseWuSimplifiedXiaotong].includes(e)&&(o.push(T(t,e,E.Arrive)),o.push(j(e,R.BreakStrong)));const W=(l=(s=n.doorDirection)!=null?s:r[A.Arrival][e].doorDirection)!=null?l:"left";if(B){const M=W==="left"?E.TerminalAllGetOffLeft:E.TerminalAllGetOffRight;if(o.push(T(t,e,M)),r[A.Arrival][e].thanksForTaking){const G={[p.ChineseMandarinSimplified]:"感谢您乘坐".concat(r[A.Arrival][e].thanksForTaking,"，祝您旅途愉快。"),[p.ChineseWuSimplifiedXiaotong]:"谢谢侬搭乘".concat(r[A.Arrival][e].thanksForTaking,"，阿拉下趟再会。"),[p.ChineseWuSimplifiedYunzhe]:"Thanks for taking ".concat(r[A.Arrival][e].thanksForTaking,", see you next time.")}[e];o.push({type:m.Customized,voiceName:e,text:G,pinyin:r[A.Arrival][e].thanksForTakingPinyin,rate:i})}}else{const M=W==="left"?E.DoorOpenLeft:E.DoorOpenRight;o.push(T(t,e,M)),o.push(j(e,R.BreakStrong))}}else if(t===A.Departure){const B=(c=n.welcomeAbroad)!=null?c:r[A.Departure][e].welcomeAbroad,W=(u=n.lineName)!=null?u:r[A.Departure][e].lineName;if(B&&W){const oe={[p.ChineseMandarinSimplified]:"欢迎乘坐".concat(B).concat(W),[p.ChineseWuSimplifiedXiaotong]:"欢迎搭乘".concat(B).concat(W),[p.ChineseWuSimplifiedYunzhe]:"Welcome aboard ".concat(B," ").concat(W)}[e],te=(h=n.welcomeAbroadPinyin)!=null?h:r[A.Departure][e].welcomeAbroadPinyin,Ue=(f=n.lineNamePinyin)!=null?f:r[A.Departure][e].lineNamePinyin,q={[p.ChineseMandarinSimplified]:"欢迎乘坐".concat(te).concat(Ue),[p.ChineseWuSimplifiedXiaotong]:"欢迎搭乘".concat(te).concat(Ue),[p.ChineseWuSimplifiedYunzhe]:"Welcome aboard ".concat(te," ").concat(Ue)}[e];o.push({type:m.Customized,voiceName:e,text:oe,pinyin:q,rate:i}),o.push(j(e,R.BreakStrong))}const M=(g=n.service)!=null?g:r[A.Departure][e].service;M!=="local"&&(e===p.ChineseMandarinSimplified||e===p.ChineseWuSimplifiedXiaotong)&&(M==="express"?o.push(T(t,e,E.ServiceExpress)):M==="direct"&&o.push(T(t,e,E.ServiceDirect)));const G=(y=n.loop)!=null?y:r[A.Departure][e].loop,we=(x=n.terminal)!=null?x:r[A.Departure][e].terminal,K=(w=n.terminal)!=null?w:r[A.Departure][e].terminalPinyin;if(G==="none")M==="local"||e===p.ChineseWuSimplifiedYunzhe?o.push(T(t,e,E.TheTerminalOfThisTrain)):o.push(T(t,e,E.NextStopTerminal)),o.push(j(e,R.BreakWeak)),o.push({type:m.Customized,voiceName:e,text:we,pinyin:K,rate:i}),o.push(j(e,R.BreakStrong));else if((G==="inner"||G==="outer")&&(e===p.ChineseMandarinSimplified||e===p.ChineseWuSimplifiedXiaotong)){const oe=G===!1?E.Loop:G==="inner"?E.InnerLoop:E.OuterLoop;o.push(T(t,e,oe)),o.push(j(e,R.BreakStrong)),((L=n.loopTerminal)!=null?L:r[A.Departure][e].loopTerminal)&&(o.push(T(t,e,E.NextStopTerminal)),o.push(j(e,R.BreakWeak)),o.push({type:m.Customized,voiceName:e,text:we,pinyin:K,rate:i}),o.push(j(e,R.BreakStrong)))}const J=n.stopovers;if(M!=="local"&&J&&J.length>0&&(e===p.ChineseMandarinSimplified||e===p.ChineseWuSimplifiedXiaotong)){o.push(T(t,e,E.Stopovers1)),o.push(j(e,R.BreakWeak));for(const oe of J)o.push({type:m.Customized,voiceName:e,text:oe,pinyin:oe,rate:i}),o.push(j(e,R.BreakMedium));o.pop(),o.push(j(e,R.BreakStrong)),o.push(T(t,e,E.Stopovers2)),o.push(j(e,R.BreakWeak));for(const oe of J)o.push({type:m.Customized,voiceName:e,text:oe,pinyin:oe,rate:i}),o.push(j(e,R.BreakMedium));o.pop(),o.push(j(e,R.BreakWeak)),o.push(T(t,e,E.Stopovers3)),o.push(j(e,R.BreakStrong))}o.push(T(t,e,E.NextStop)),o.push(j(e,R.BreakWeak)),n.next===we&&(o.push(T(t,e,E.NextStopTerminal)),o.push(j(e,R.BreakWeak))),o.push({type:m.Customized,voiceName:e,text:n.next,pinyin:n.nextPinyin,rate:i}),o.push(j(e,R.BreakStrong));const Ce=((V=(O=n.nextDoorDirection)!=null?O:r[A.Departure][e].nextDoorDirection)!=null?V:"left")==="left"?E.DoorOpenLeft:E.DoorOpenRight;o.push(T(t,e,Ce)),o.push(j(e,R.BreakStrong));const ie=n.int;ie!=null&&ie.flat().length&&(((D=(P=ie.at(0))==null?void 0:P.length)!=null?D:0)>0&&(o.push(T(t,e,E.InterchangeAvailable)),o.push(j(e,R.BreakWeak)),o.push(...ie.at(0).map(te=>[{type:m.Customized,voiceName:e,text:te,pinyin:te,rate:i},j(e,R.BreakWeak)]).flat()),o.pop(),o.push(j(e,R.BreakStrong))),((I=($=ie.at(1))==null?void 0:$.length)!=null?I:0)>0&&(o.push(T(t,e,E.OutOfStationInterchangeAvailable)),o.push(j(e,R.BreakWeak)),o.push(...ie.at(1).map(te=>[{type:m.Customized,voiceName:e,text:te,pinyin:te,rate:i},j(e,R.BreakWeak)]).flat()),o.pop(),e===p.ChineseWuSimplifiedYunzhe?(o.push(j(e,R.BreakWeak)),o.push(T(t,e,E.OutOfStationInterchangeAvailableEnglish2))):o.push(j(e,R.BreakStrong))),((_=(k=ie.at(2))==null?void 0:k.length)!=null?_:0)>0&&(o.push(T(t,e,E.OutOfSystemInterchangeAvailable)),o.push(j(e,R.BreakWeak)),o.push(...ie.at(2).map(te=>[{type:m.Customized,voiceName:e,text:te,pinyin:te,rate:i},j(e,R.BreakWeak)]).flat()),o.pop(),o.push(j(e,R.BreakStrong))),((N=n.noteLastTrain)!=null?N:r[A.Departure][e].noteLastTrain)&&(e===p.ChineseMandarinSimplified||e===p.ChineseWuSimplifiedXiaotong)&&o.push(T(t,e,E.NoteLastTrain)));const de=n.branchTerminalName;de&&((e===p.ChineseMandarinSimplified||e===p.ChineseWuSimplifiedXiaotong)&&(o.push(T(t,e,E.BranchTerminal1)),o.push({type:m.Customized,voiceName:e,text:de,pinyin:n.branchTerminalNamePinyin,rate:i}),o.push(T(t,e,E.BranchTerminal2)),o.push(j(e,R.BreakStrong))),e===p.ChineseWuSimplifiedYunzhe&&(o.push(T(t,e,E.BranchTerminalEnglish)),o.push(j(e,R.BreakWeak)),o.push({type:m.Customized,voiceName:e,text:de,pinyin:n.branchTerminalNamePinyin,rate:i}),o.push(j(e,R.BreakStrong))))}else t===A.Midway&&(((S=n.leaveLoveSeat)!=null?S:r[A.Midway][e].leaveLoveSeat)&&o.push(T(t,e,E.LeaveLoveSeat)),((H=n.caution)!=null?H:r[A.Midway][e].caution)&&o.push(T(t,e,E.Caution)));return o},zc={[$t.ShanghaiMetro]:{reconcile:Dc}};function Nc(t){mr({predicate:(e,n,r)=>JSON.stringify(n.param.project)!==JSON.stringify(r.param.project),effect:(e,n)=>{const{project:r}=n.getState().param,i=kc(r);qe.debug(i),n.dispatch(Ou(i));const o=n.getState().param;Z.storage.set($e.PARAM,JSON.stringify(o))}}),mr({predicate:(e,n,r)=>JSON.stringify(n.app)!==JSON.stringify(r.app),effect:(e,n)=>{const r=n.getState().app;Z.storage.set($e.APP,JSON.stringify(r))}}),Fc(t),$c(t)}const Fc=t=>{const e=Z.storage.get($e.APP);if(e){const n=JSON.parse(e);"telemetry"in n&&"project"in n.telemetry&&t.dispatch(xu(n.telemetry.project)),"preference"in n&&("import"in n.preference&&t.dispatch(bu(n.preference.import)),"previewAudio"in n.preference&&t.dispatch(wu(n.preference.previewAudio)))}},$c=t=>{const e=Z.storage.get($e.PARAM);if(e){const n=JSON.parse(e);t.dispatch(gr(n.project)),t.dispatch(hi(Object.keys(n.project.metadata)[0])),t.dispatch(pi(A.Departure)),JSON.stringify(n.project)===JSON.stringify(vr)&&t.dispatch(xn(!0))}else qe.warn("No param from local storage. Setting to default."),t.dispatch(gr(vr)),t.dispatch(xn(!0))};let xr;const Bc=()=>{xr=gs.createRoot(document.getElementById("root")),xr.render(d.jsx(v.StrictMode,{children:d.jsx(Lo,{store:kt,children:d.jsx(Mo,{i18n:Rc,children:d.jsx(ac,{})})})}))};Z.ready().then(()=>{Nc(kt),Bc(),Z.injectUITools(),Z.event(li.APP_LOAD,{}),_u(kt)});export{gd as $,ci as A,td as B,Ld as C,jd as D,li as E,Id as F,cd as G,Nd as H,dd as I,he as J,ze as K,fu as L,Rd as M,pu as N,yu as O,A as P,mu as Q,Xc as R,In as S,yd as T,vd as U,p as V,md as W,gr as X,hi as Y,pi as Z,Hc as _,Wc as __vite_legacy_guard,Jc as a,Md as a0,ke as a1,Ed as a2,$t as a3,pd as a4,rd as a5,nd as a6,xu as a7,Zc as a8,Yc as a9,Od as aa,Ad as ab,Sd as ac,ad,xd as ae,bd as af,kd as ag,Td as ah,id as ai,Qc as b,Kc as c,Gc as d,Fe as e,kn as f,wd as g,_d as h,Pd as i,Cd as j,ud as k,qe as l,Wt as m,ld as n,$d as o,hu as p,zd as q,Z as r,od as s,sd as t,qc as u,ed as v,Fd as w,Dd as x,Bt as y,pt as z};
