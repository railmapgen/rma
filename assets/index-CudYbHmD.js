const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/page-header-BfTRtyLk.js","assets/chakra-BiadmNKO.js","assets/react-DFJlY5Ze.js","assets/rmg-output-B97GirQX.js","assets/stage-D4wIQ6dW.js"])))=>i.map(i=>d[i]);
import{u as $e,a as Oi,j as c,P as Pi,c as on,F as Ai,f as Be,W as br,T as Ri,b as _i,d as ji,e as wr,g as ft,h as we,B as ke,D as an,i as Ei,k as Li,l as Mi,m as Sr,C as ki,S as Cr,n as Ii,o as Ti,p as Di,I as zi,q as Or,r as Ni,s as Fi,t as $i,v as Bi,w as Wi,x as Vi,y as Ui,z as Hi,A as Gi,M as Pr,E as Ki,G as Ar,H as Rr,J as _r,K as ce,L as Yi,N as sn,O as Ne,Q as Vn,R as Ji,U as Xi,V as qi,X as Qi,Y as Zi,Z as eo,_ as to,$ as no,a0 as ro,a1 as ln,a2 as io,a3 as oo,a4 as ao,a5 as so,a6 as at,a7 as lo,a8 as uo,a9 as co,aa as fo,ab as ho,ac as H,ad as po,ae as go,af as mo,ag as Un,ah as yo,ai as vo,aj as xo,ak as bo,al as wo,am as So,an as Co,ao as Oo,ap as Xt}from"./chakra-BiadmNKO.js";import{e as Po,a as v,d as oe,f as Ze,h as Tt,i as Ao,j as Ro,k as _o,u as jo,l as Eo,m as wn,n as Lo,P as Mo,I as ko}from"./react-DFJlY5Ze.js";function Uc(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Io=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(d){try{u(r.next(d))}catch(h){a(h)}}function l(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):i(d.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};const jr=t=>new Promise(e=>{setTimeout(e,t,"Timeout after ".concat(t/1e3," seconds"))}),To=t=>new Promise(e=>{const n=new FileReader;n.onloadend=()=>e(n.result),n.readAsDataURL(t)}),Do=t=>{let e,n=!1;return r=>Io(void 0,void 0,void 0,function*(){return e&&(n||!r)?e:(e=t(),n=!0,e.then(i=>(n=!1,i)).catch(i=>{throw e=null,i}))})},Sn=t=>{let e=0;for(let n=0;n<t.length;n++)e=t.charCodeAt(n)+((e<<5)-e);return e},Cn=t=>{const e=(t&16777215).toString(16).toUpperCase();return"#"+"00000".substring(0,6-e.length)+e};var Ie;(function(t){t.DEV="DEV",t.UAT="UAT",t.PRD="PRD"})(Ie||(Ie={}));const Er="rmg-runtime__language",Lr="rmg-runtime__colourMode",Pt="rmg-runtime__allowAnalytics",ht="rmg-unknown",zo="railmapgen.github.io",No="rmg-home";let At=ht,Mr=Cn(Sn(ht));const Fo=t=>{At=t,Mr=Cn(Sn(t))},gt=()=>"[".concat(At,"]"),mt=()=>Mr,Ae=(t,e,n)=>(...r)=>{typeof r[0]=="string"?t("%c".concat(e(),"%c ").concat(r[0]),"color: ".concat(n()),"",...r.slice(1)):t("%c".concat(e(),"%c"),"color: ".concat(n()),"",...r)},$o={debug:Ae(console.debug,gt,mt),info:Ae(console.info,gt,mt),warn:Ae(console.warn,gt,mt),error:Ae(console.error,gt,mt)},nt=()=>At===ht?"[runtime]":"[runtime@".concat(At,"]"),Bo=Cn(Sn("runtime")),rt=()=>Bo,U={setup:Fo,logger:$o,debug:Ae(console.debug,nt,rt),info:Ae(console.info,nt,rt),warn:Ae(console.warn,nt,rt),error:Ae(console.error,nt,rt),group:Ae(console.group,nt,rt),groupEnd:console.groupEnd};var kr=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(d){try{u(r.next(d))}catch(h){a(h)}}function l(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):i(d.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};let On,Dt,Pn,An,Rn;const Ir=()=>{On=!1,Dt=ht,Pn="unknown",An=Ie.PRD,Rn="unknown"},Wo=()=>kr(void 0,void 0,void 0,function*(){const t=window.location.pathname.split("/")[1],e=t?"/".concat(t,"/info.json"):"/info.json",n=yield fetch(e);if(n.ok){const r=yield n.json();U.info("Received info.json",r),Dt=r.component,Pn=r.version,An=r.environment,Rn=r.instance}else throw new Error("Failed to fetch config from ".concat(e))}),Vo=()=>kr(void 0,void 0,void 0,function*(){try{U.group("Loading config...");const t=yield Promise.race([Wo(),jr(10*1e3)]);t?U.error("❌ Failed to load config.",t):(On=!0,U.info("✅ Config loaded!"))}catch(t){U.error("❌ Failed to load config.",t)}finally{U.groupEnd()}}),Uo=()=>On,Ho=()=>Tr()?No:Dt,Go=()=>Pn,Ko=()=>An,Yo=()=>Rn,Tr=()=>Dt===zo;Ir();const ae={loadWithTimeout:Vo,isInitialised:Uo,getComponent:Ho,getVersion:Go,getEnvironment:Ko,getInstance:Yo,isRMT:Tr,_resetConfig:Ir};window.dataLayer=window.dataLayer||[];const Jo=()=>{const t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-2HP8Y4MRRQ",document.head.append(t)};function un(...t){if(ae.getEnvironment()!==Ie.DEV)return window.dataLayer.push(arguments);U.info("Not going to send event in DEV environment",t)}const Xo=(t,e={})=>{un("event",t,e)},qo=()=>{Jo(),un("js",new Date),un("config","G-2HP8Y4MRRQ",{appName:ae.getComponent(),version:ae.getVersion(),environment:ae.getEnvironment(),instance:ae.getInstance()})},Rt={init:qo,customEvent:Xo},Qo="rmg-runtime-channel",bt={};let st;try{st=new BroadcastChannel(Qo),st.onmessage=t=>{var e;const{event:n,data:r,frameId:i}=t.data;(e=bt[n])===null||e===void 0||e.forEach(o=>o(r,i))}}catch(t){U.warn("Failed to initiate broadcast channel. Some features may be unavailable.",t)}const Zo=(t,e)=>{var n;U.debug("Broadcasting event ".concat(t," with data"),e),st==null||st.postMessage({event:t,data:e,frameId:(n=window.frameElement)===null||n===void 0?void 0:n.id})},ea=(t,e)=>{var n;t in bt?(n=bt[t])===null||n===void 0||n.push(e):bt[t]=[e]},Q={postEvent:Zo,onMessage:ea},Dr="TOGGLE_NAV_MENU",zr="OPEN_APP",Nr="CLOSE_APP",Fr="UPDATE_APP_METADATA",$r="UPDATE_URL",wt=()=>!window.frameElement,ta=()=>{var t;return!!(!((t=window.frameElement)===null||t===void 0)&&t.closest(".show-menu"))},na=()=>{if(!wt()){const e=document.createElement("style");e.textContent="body{padding: 0;}",document.head.appendChild(e)}const t=document.createElement("style");t.textContent=".rmg-window__header:not(.rmg-window__app-clip-header),.rm-window__header:not(.rm-window__app-clip-header){margin-left: 40px;}",!wt()&&!ta()&&document.head.appendChild(t),wt()||Q.onMessage(Dr,e=>{if(e)try{document.head.removeChild(t)}catch(n){U.warn("Unable to remove indent style from RmgWindowHeader",n)}else document.head.appendChild(t)})},ra=t=>{Q.postEvent(zr,t)},ia=t=>{Q.postEvent(Nr,t)},oa=t=>{Q.postEvent(Fr,t)},aa=t=>{Q.postEvent($r,t)},sa=t=>{Q.onMessage(zr,t)},la=t=>{Q.onMessage(Nr,t)},ua=t=>{Q.onMessage(Fr,t)},ca=t=>{Q.onMessage($r,t)},da=t=>{Q.postEvent(Dr,t)},pe={isStandaloneWindow:wt,injectUITools:na,openApp:ra,onAppOpen:sa,closeApp:ia,onAppClose:la,updateAppMetadata:oa,onAppMetadataUpdate:ua,updateUrl:aa,onUrlUpdate:ca,toggleNavMenu:da},Br="SET_LANGUAGE",Wr="SET_COLOUR_MODE",fa=t=>{Q.postEvent(Br,t),window.localStorage.setItem(Er,t)},ha=()=>window.localStorage.getItem(Er)||"en",pa=t=>{Q.onMessage(Br,t)},Vr=["light","dark","system"],ga=t=>{Vr.includes(t)&&(Q.postEvent(Wr,t),window.localStorage.setItem(Lr,t))},ma=t=>!!(t&&Vr.includes(t)),ya=()=>{const t=window.localStorage.getItem(Lr);return ma(t)?t:"system"},va=t=>{Q.onMessage(Wr,t)},xa=()=>window.localStorage.getItem(Pt)!==null,Ur=()=>window.localStorage.getItem(Pt)==="true",ba=t=>{const e=Ur();return t?(e||(window.localStorage.setItem(Pt,t.toString()),Rt.init()),{refreshRequired:!1}):e?(window.localStorage.setItem(Pt,t.toString()),{refreshRequired:!0}):{refreshRequired:!1}},ge={setLanguage:fa,getLanguage:ha,onLanguageChange:pa,setColourMode:ga,getColourMode:ya,onColourModeChange:va,isAnalyticsQADone:xa,isAllowAnalytics:Ur,allowAnalytics:ba},wa=new Date().getTime();function Sa(){const t=ae.getComponent(),e=window.localStorage.getItem(t+"__startTime");return e===null?new Date().getTime()-wa:new Date().getTime()-Number(e)}const Ca={getMsSinceStartUp:Sa},St={},et=()=>{const t=ae.getComponent();if(t===ht)throw new Error("Unable to clear storage for unknown app");return t};window.addEventListener("storage",t=>{var e;const{key:n,newValue:r}=t;n&&((e=St[n])===null||e===void 0||e.forEach(i=>i(r)))});const Oa=(t,e)=>{var n;const r="".concat(et(),"__").concat(t);r in St?(n=St[r])===null||n===void 0||n.push(e):St[r]=[e]},Pa=t=>{const e=et();return window.localStorage.getItem("".concat(e,"__").concat(t))},Aa=()=>{const t=et(),e={};let n=0;for(;n<window.localStorage.length;){const r=window.localStorage.key(n);if(r!=null&&r.startsWith(t+"__")){const i=window.localStorage.getItem(r);i&&(e[r]=i)}n++}return e},Ra=(t,e)=>{const n=et();window.localStorage.setItem("".concat(n,"__").concat(t),e)},_a=t=>{const e=et();window.localStorage.removeItem("".concat(e,"__").concat(t))},ja=()=>{const t=et();let e=0;for(;e<window.localStorage.length;){const n=window.localStorage.key(e);n!=null&&n.startsWith(t+"__")?(window.localStorage.removeItem(n),U.info("Removed item ".concat(n))):e++}},Ge={on:Oa,get:Pa,getAll:Aa,set:Ra,remove:_a,clear:ja},O=t=>typeof t=="string",it=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},Hn=t=>t==null?"":""+t,Ea=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},La=/###/g,Gn=t=>t&&t.indexOf("###")>-1?t.replace(La,"."):t,Kn=t=>!t||O(t),lt=(t,e,n)=>{const r=O(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(Kn(t))return{};const o=Gn(r[i]);!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={},++i}return Kn(t)?{}:{obj:t,k:Gn(r[i])}},Yn=(t,e,n)=>{const{obj:r,k:i}=lt(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let o=e[e.length-1],a=e.slice(0,e.length-1),s=lt(t,a,Object);for(;s.obj===void 0&&a.length;)o="".concat(a[a.length-1],".").concat(o),a=a.slice(0,a.length-1),s=lt(t,a,Object),s&&s.obj&&typeof s.obj["".concat(s.k,".").concat(o)]<"u"&&(s.obj=void 0);s.obj["".concat(s.k,".").concat(o)]=n},Ma=(t,e,n,r)=>{const{obj:i,k:o}=lt(t,e,Object);i[o]=i[o]||[],i[o].push(n)},_t=(t,e)=>{const{obj:n,k:r}=lt(t,e);if(n)return n[r]},ka=(t,e,n)=>{const r=_t(t,n);return r!==void 0?r:_t(e,n)},Hr=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?O(t[r])||t[r]instanceof String||O(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):Hr(t[r],e[r],n):t[r]=e[r]);return t},Ke=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Ia={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Ta=t=>O(t)?t.replace(/[&<>"'\/]/g,e=>Ia[e]):t;class Da{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const za=[" ",",","?","!",";"],Na=new Da(20),Fa=(t,e,n)=>{e=e||"",n=n||"";const r=za.filter(a=>e.indexOf(a)<0&&n.indexOf(a)<0);if(r.length===0)return!0;const i=Na.getRegExp("(".concat(r.map(a=>a==="?"?"\\?":a).join("|"),")"));let o=!i.test(t);if(!o){const a=t.indexOf(n);a>0&&!i.test(t.substring(0,a))&&(o=!0)}return o},cn=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(n);let i=t;for(let o=0;o<r.length;){if(!i||typeof i!="object")return;let a,s="";for(let l=o;l<r.length;++l)if(l!==o&&(s+=n),s+=r[l],a=i[s],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<r.length-1)continue;o+=l-o+1;break}i=a}return i},jt=t=>t&&t.replace("_","-"),$a={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class Et{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||$a,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(O(e[0])&&(e[0]="".concat(r).concat(this.prefix," ").concat(e[0])),this.logger[n](e))}create(e){return new Et(this.logger,{prefix:"".concat(this.prefix,":").concat(e,":"),...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Et(this.logger,e)}}var be=new Et;class zt{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(a=>{let[s,l]=a;for(let u=0;u<l;u++)s(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[s,l]=a;for(let u=0;u<l;u++)s.apply(s,[e,...r])})}}class Jn extends zt{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let s;e.indexOf(".")>-1?s=e.split("."):(s=[e,n],r&&(Array.isArray(r)?s.push(...r):O(r)&&o?s.push(...r.split(o)):s.push(r)));const l=_t(this.data,s);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=s[0],n=s[1],r=s.slice(2).join(".")),l||!a||!O(r)?l:cn(this.data&&this.data[e]&&this.data[e][n],r,o)}addResource(e,n,r,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let s=[e,n];r&&(s=s.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(s=e.split("."),i=n,n=s[1]),this.addNamespaces(n),Yn(this.data,s,i),o.silent||this.emit("added",e,n,r,i)}addResources(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in r)(O(r[o])||Array.isArray(r[o]))&&this.addResource(e,n,o,r[o],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,o){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},s=[e,n];e.indexOf(".")>-1&&(s=e.split("."),i=r,r=n,n=s[1]),this.addNamespaces(n);let l=_t(this.data,s)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?Hr(l,r,o):l={...l,...r},Yn(this.data,s,l),a.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var Gr={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(o=>{this.processors[o]&&(e=this.processors[o].process(e,n,r,i))}),e}};const Xn={};class Lt extends zt{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Ea(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=be.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,n);return r&&r.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const a=r&&e.indexOf(r)>-1,s=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Fa(e,r,i);if(a&&!s){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:O(o)?[o]:o};const u=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(u[0])>-1)&&(o=u.shift()),e=u.join(i)}return{key:e,namespaces:O(o)?[o]:o}}translate(e,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:a,namespaces:s}=this.extractFromKey(e[e.length-1],n),l=s[s.length-1],u=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(d){const _=n.nsSeparator||this.options.nsSeparator;return i?{res:"".concat(l).concat(_).concat(a),usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:"".concat(l).concat(_).concat(a)}return i?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:a}const h=this.resolve(e,n);let f=h&&h.res;const g=h&&h.usedKey||a,m=h&&h.exactUsedKey||a,x=Object.prototype.toString.apply(f),b=["[object Number]","[object Function]","[object RegExp]"],C=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,S=!this.i18nFormat||this.i18nFormat.handleAsObject,A=!O(f)&&typeof f!="boolean"&&typeof f!="number";if(S&&f&&A&&b.indexOf(x)<0&&!(O(C)&&Array.isArray(f))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const _=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,f,{...n,ns:s}):"key '".concat(a," (").concat(this.language,")' returned an object instead of string.");return i?(h.res=_,h.usedParams=this.getUsedParamsDetails(n),h):_}if(o){const _=Array.isArray(f),k=_?[]:{},N=_?m:g;for(const L in f)if(Object.prototype.hasOwnProperty.call(f,L)){const Z="".concat(N).concat(o).concat(L);k[L]=this.translate(Z,{...n,joinArrays:!1,ns:s}),k[L]===Z&&(k[L]=f[L])}f=k}}else if(S&&O(C)&&Array.isArray(f))f=f.join(C),f&&(f=this.extendTranslation(f,e,n,r));else{let _=!1,k=!1;const N=n.count!==void 0&&!O(n.count),L=Lt.hasDefaultValue(n),Z=N?this.pluralResolver.getSuffix(u,n.count,n):"",G=n.ordinal&&N?this.pluralResolver.getSuffix(u,n.count,{ordinal:!1}):"",se=N&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),D=se&&n["defaultValue".concat(this.options.pluralSeparator,"zero")]||n["defaultValue".concat(Z)]||n["defaultValue".concat(G)]||n.defaultValue;!this.isValidLookup(f)&&L&&(_=!0,f=D),this.isValidLookup(f)||(k=!0,f=a);const W=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&k?void 0:f,$=L&&D!==f&&this.options.updateMissing;if(k||_||$){if(this.logger.log($?"updateKey":"missingKey",u,l,a,$?D:f),o){const V=this.resolve(a,{...n,keySeparator:!1});V&&V.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let M=[];const B=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&B&&B[0])for(let V=0;V<B.length;V++)M.push(B[V]);else this.options.saveMissingTo==="all"?M=this.languageUtils.toResolveHierarchy(n.lng||this.language):M.push(n.lng||this.language);const me=(V,K,Se)=>{const Ce=L&&Se!==f?Se:W;this.options.missingKeyHandler?this.options.missingKeyHandler(V,l,K,Ce,$,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(V,l,K,Ce,$,n),this.emit("missingKey",V,l,K,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&N?M.forEach(V=>{const K=this.pluralResolver.getSuffixes(V,n);se&&n["defaultValue".concat(this.options.pluralSeparator,"zero")]&&K.indexOf("".concat(this.options.pluralSeparator,"zero"))<0&&K.push("".concat(this.options.pluralSeparator,"zero")),K.forEach(Se=>{me([V],a+Se,n["defaultValue".concat(Se)]||D)})}):me(M,a,D))}f=this.extendTranslation(f,e,n,h,r),k&&f===a&&this.options.appendNamespaceToMissingKey&&(f="".concat(l,":").concat(a)),(k||_)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?f=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(l,":").concat(a):a,_?f:void 0):f=this.options.parseMissingKeyHandler(f))}return i?(h.res=f,h.usedParams=this.getUsedParamsDetails(n),h):f}extendTranslation(e,n,r,i,o){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=O(e)&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(u){const f=e.match(this.interpolator.nestingRegexp);d=f&&f.length}let h=r.replace&&!O(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||i.usedLng,r),u){const f=e.match(this.interpolator.nestingRegexp),g=f&&f.length;d<g&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var f=arguments.length,g=new Array(f),m=0;m<f;m++)g[m]=arguments[m];return o&&o[0]===g[0]&&!r.context?(a.logger.warn("It seems you are nesting recursively key: ".concat(g[0]," in key: ").concat(n[0])),null):a.translate(...g,n)},r)),r.interpolation&&this.interpolator.reset()}const s=r.postProcess||this.options.postProcess,l=O(s)?[s]:s;return e!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(e=Gr.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,o,a,s;return O(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),d=u.key;i=d;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const f=n.count!==void 0&&!O(n.count),g=f&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),m=n.context!==void 0&&(O(n.context)||typeof n.context=="number")&&n.context!=="",x=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(b=>{this.isValidLookup(r)||(s=b,!Xn["".concat(x[0],"-").concat(b)]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(s)&&(Xn["".concat(x[0],"-").concat(b)]=!0,this.logger.warn('key "'.concat(i,'" for languages "').concat(x.join(", "),'" won\'t get resolved as namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(C=>{if(this.isValidLookup(r))return;a=C;const S=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(S,d,C,b,n);else{let _;f&&(_=this.pluralResolver.getSuffix(C,n.count,n));const k="".concat(this.options.pluralSeparator,"zero"),N="".concat(this.options.pluralSeparator,"ordinal").concat(this.options.pluralSeparator);if(f&&(S.push(d+_),n.ordinal&&_.indexOf(N)===0&&S.push(d+_.replace(N,this.options.pluralSeparator)),g&&S.push(d+k)),m){const L="".concat(d).concat(this.options.contextSeparator).concat(n.context);S.push(L),f&&(S.push(L+_),n.ordinal&&_.indexOf(N)===0&&S.push(L+_.replace(N,this.options.pluralSeparator)),g&&S.push(L+k))}}let A;for(;A=S.pop();)this.isValidLookup(r)||(o=A,r=this.getResource(C,b,A,n))}))})}),{res:r,usedKey:i,exactUsedKey:o,usedLng:a,usedNS:s}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!O(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const o of n)delete i[o]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}const qt=t=>t.charAt(0).toUpperCase()+t.slice(1);class qn{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=be.create("languageUtils")}getScriptPartFromCode(e){if(e=jt(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=jt(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(O(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let i=Intl.getCanonicalLocales(e)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch(i){}const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=qt(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=qt(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=qt(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),O(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),i=[],o=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn("rejecting language code not found in supportedLngs: ".concat(a)))};return O(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):O(e)&&o(this.formatLanguageCode(e)),r.forEach(a=>{i.indexOf(a)<0&&o(this.formatLanguageCode(a))}),i}}let Ba=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Wa={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const Va=["v1","v2","v3"],Ua=["v4"],Qn={zero:0,one:1,two:2,few:3,many:4,other:5},Ha=()=>{const t={};return Ba.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:Wa[e.fc]}})}),t};class Ga{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=be.create("pluralResolver"),(!this.options.compatibilityJSON||Ua.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Ha(),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const r=jt(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:i});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let a;try{a=new Intl.PluralRules(r,{type:i})}catch(s){if(!e.match(/-|_/))return;const l=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(l,n)}return this.pluralRulesCache[o]=a,a}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(i=>"".concat(n).concat(i))}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,o)=>Qn[i]-Qn[o]).map(i=>"".concat(this.options.prepend).concat(n.ordinal?"ordinal".concat(this.options.prepend):"").concat(i)):r.numbers.map(i=>this.getSuffix(e,i,n)):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,r);return i?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.ordinal?"ordinal".concat(this.options.prepend):"").concat(i.select(n)):this.getSuffixRetroCompatible(i,n):(this.logger.warn("no plural rule found for: ".concat(e)),"")}getSuffixRetroCompatible(e,n){const r=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let i=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const o=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?"_plural_".concat(i.toString()):o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!Va.includes(this.options.compatibilityJSON)}}const Zn=function(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=ka(t,e,n);return!o&&i&&O(n)&&(o=cn(t,n,r),o===void 0&&(o=cn(e,n,r))),o},Qt=t=>t.replace(/\$/g,"$$$$");class Ka{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=be.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:o,prefixEscaped:a,suffix:s,suffixEscaped:l,formatSeparator:u,unescapeSuffix:d,unescapePrefix:h,nestingPrefix:f,nestingPrefixEscaped:g,nestingSuffix:m,nestingSuffixEscaped:x,nestingOptionsSeparator:b,maxReplaces:C,alwaysFormat:S}=e.interpolation;this.escape=n!==void 0?n:Ta,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=o?Ke(o):a||"{{",this.suffix=s?Ke(s):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=f?Ke(f):g||Ke("$t("),this.nestingSuffix=m?Ke(m):x||Ke(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=C||1e3,this.alwaysFormat=S!==void 0?S:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,"".concat(this.prefix,"(.+?)").concat(this.suffix)),this.regexpUnescape=e(this.regexpUnescape,"".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix)),this.nestingRegexp=e(this.nestingRegexp,"".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix))}interpolate(e,n,r,i){let o,a,s;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=g=>{if(g.indexOf(this.formatSeparator)<0){const C=Zn(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(C,void 0,r,{...i,...n,interpolationkey:g}):C}const m=g.split(this.formatSeparator),x=m.shift().trim(),b=m.join(this.formatSeparator).trim();return this.format(Zn(n,l,x,this.options.keySeparator,this.options.ignoreJSONStructure),b,r,{...i,...n,interpolationkey:x})};this.resetRegExp();const d=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,h=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>Qt(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?Qt(this.escape(g)):Qt(g)}].forEach(g=>{for(s=0;o=g.regex.exec(e);){const m=o[1].trim();if(a=u(m),a===void 0)if(typeof d=="function"){const b=d(e,o,i);a=O(b)?b:""}else if(i&&Object.prototype.hasOwnProperty.call(i,m))a="";else if(h){a=o[0];continue}else this.logger.warn("missed to pass in variable ".concat(m," for interpolating ").concat(e)),a="";else!O(a)&&!this.useRawValueToEscape&&(a=Hn(a));const x=g.safeValue(a);if(e=e.replace(o[0],x),h?(g.regex.lastIndex+=a.length,g.regex.lastIndex-=o[0].length):g.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,o,a;const s=(l,u)=>{const d=this.nestingOptionsSeparator;if(l.indexOf(d)<0)return l;const h=l.split(new RegExp("".concat(d,"[ ]*{")));let f="{".concat(h[1]);l=h[0],f=this.interpolate(f,a);const g=f.match(/'/g),m=f.match(/"/g);(g&&g.length%2===0&&!m||m.length%2!==0)&&(f=f.replace(/'/g,'"'));try{a=JSON.parse(f),u&&(a={...u,...a})}catch(x){return this.logger.warn("failed parsing options string in nesting for key ".concat(l),x),"".concat(l).concat(d).concat(f)}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];a={...r},a=a.replace&&!O(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let u=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const d=i[1].split(this.formatSeparator).map(h=>h.trim());i[1]=d.shift(),l=d,u=!0}if(o=n(s.call(this,i[1].trim(),a),a),o&&i[0]===e&&!O(o))return o;O(o)||(o=Hn(o)),o||(this.logger.warn("missed to resolve ".concat(i[1]," for nesting ").concat(e)),o=""),u&&(o=l.reduce((d,h)=>this.format(d,h,r.lng,{...r,interpolationkey:i[1].trim()}),o.trim())),e=e.replace(i[0],o),this.regexp.lastIndex=0}return e}}const Ya=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(a=>{if(a){const[s,...l]=a.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),d=s.trim();n[d]||(n[d]=u),u==="false"&&(n[d]=!1),u==="true"&&(n[d]=!0),isNaN(u)||(n[d]=parseInt(u,10))}})}return{formatName:e,formatOptions:n}},Ye=t=>{const e={};return(n,r,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o={...o,[i.interpolationkey]:void 0});const a=r+JSON.stringify(o);let s=e[a];return s||(s=t(jt(r),i),e[a]=s),s(n)}};class Ja{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=be.create("formatter"),this.options=e,this.formats={number:Ye((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return o=>i.format(o)}),currency:Ye((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return o=>i.format(o)}),datetime:Ye((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return o=>i.format(o)}),relativetime:Ye((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return o=>i.format(o,r.range||"day")}),list:Ye((n,r)=>{const i=new Intl.ListFormat(n,{...r});return o=>i.format(o)})},this.init(e)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Ye(n)}format(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(s=>s.indexOf(")")>-1)){const s=o.findIndex(l=>l.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,s)].join(this.formatSeparator)}return o.reduce((s,l)=>{const{formatName:u,formatOptions:d}=Ya(l);if(this.formats[u]){let h=s;try{const f=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},g=f.locale||f.lng||i.locale||i.lng||r;h=this.formats[u](s,g,{...d,...i,...f})}catch(f){this.logger.warn(f)}return h}else this.logger.warn("there was no format function for ".concat(u));return s},e)}}const Xa=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class qa extends zt{constructor(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=be.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(e,n,r,i){const o={},a={},s={},l={};return e.forEach(u=>{let d=!0;n.forEach(h=>{const f="".concat(u,"|").concat(h);!r.reload&&this.store.hasResourceBundle(u,h)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?a[f]===void 0&&(a[f]=!0):(this.state[f]=1,d=!1,a[f]===void 0&&(a[f]=!0),o[f]===void 0&&(o[f]=!0),l[h]===void 0&&(l[h]=!0)))}),d||(s[u]=!0)}),(Object.keys(o).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const i=e.split("|"),o=i[0],a=i[1];n&&this.emit("failedLoading",o,a,n),!n&&r&&this.store.addResourceBundle(o,a,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const s={};this.queue.forEach(l=>{Ma(l.loaded,[o],a),Xa(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{s[u]||(s[u]={});const d=l.loaded[u];d.length&&d.forEach(h=>{s[u][h]===void 0&&(s[u][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:o,callback:a});return}this.readingCalls++;const s=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&d&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,o*2,a)},o);return}a(u,d)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(e,n);u&&typeof u.then=="function"?u.then(d=>s(null,d)).catch(s):s(null,u)}catch(u){s(u)}return}return l(e,n,s)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();O(e)&&(e=this.languageUtils.toResolveHierarchy(e)),O(n)&&(n=[n]);const o=this.queueLoad(e,n,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(a=>{this.loadOne(a)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(a,s)=>{a&&this.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(i," failed"),a),!a&&s&&this.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(i),s),this.loaded(e,a,s)})}saveMissing(e,n,r,i,o){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn('did not save key "'.concat(r,'" as the namespace "').concat(n,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...a,isUpdate:o},u=this.backend.create.bind(this.backend);if(u.length<6)try{let d;u.length===5?d=u(e,n,r,i,l):d=u(e,n,r,i),d&&typeof d.then=="function"?d.then(h=>s(null,h)).catch(s):s(null,d)}catch(d){s(d)}else u(e,n,r,i,s,l)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const er=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),O(t[1])&&(e.defaultValue=t[1]),O(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),tr=t=>(O(t.ns)&&(t.ns=[t.ns]),O(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),O(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),yt=()=>{},Qa=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class ct extends zt{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=tr(e),this.services={},this.logger=be,this.modules={external:[]},Qa(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(O(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=er();this.options={...i,...this.options,...tr(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const o=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?be.init(o(this.modules.logger),this.options):be.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=Ja);const h=new qn(this.options);this.store=new Jn(this.options.resources,this.options);const f=this.services;f.logger=be,f.resourceStore=this.store,f.languageUtils=h,f.pluralResolver=new Ga(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(f.formatter=o(d),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new Ka(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new qa(o(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(g){for(var m=arguments.length,x=new Array(m>1?m-1:0),b=1;b<m;b++)x[b-1]=arguments[b];e.emit(g,...x)}),this.modules.languageDetector&&(f.languageDetector=o(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=o(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new Lt(this.services,this.options),this.translator.on("*",function(g){for(var m=arguments.length,x=new Array(m>1?m-1:0),b=1;b<m;b++)x[b-1]=arguments[b];e.emit(g,...x)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,r||(r=yt),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return e.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return e.store[d](...arguments),e}});const l=it(),u=()=>{const d=(h,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),r(h,f)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yt;const i=O(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],a=s=>{if(!s||s==="cimode")return;this.services.languageUtils.toResolveHierarchy(s).forEach(u=>{u!=="cimode"&&o.indexOf(u)<0&&o.push(u)})};i?a(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>a(l)),this.options.preload&&this.options.preload.forEach(s=>a(s)),this.services.backendConnector.load(o,this.options.ns,s=>{!s&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(s)})}else r(null)}reloadResources(e,n,r){const i=it();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=yt),this.services.backendConnector.reload(e,n,o=>{i.resolve(),r(o)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Gr.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const i=it();this.emit("languageChanging",e);const o=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,u)=>{u?(o(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},s=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const u=O(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||o(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,d=>{a(d,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e),i}getFixedT(e,n,r){var i=this;const o=function(a,s){let l;if(typeof s!="object"){for(var u=arguments.length,d=new Array(u>2?u-2:0),h=2;h<u;h++)d[h-2]=arguments[h];l=i.options.overloadTranslationOptionHandler([a,s].concat(d))}else l={...s};l.lng=l.lng||o.lng,l.lngs=l.lngs||o.lngs,l.ns=l.ns||o.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||o.keyPrefix);const f=i.options.keySeparator||".";let g;return l.keyPrefix&&Array.isArray(a)?g=a.map(m=>"".concat(l.keyPrefix).concat(f).concat(m)):g=l.keyPrefix?"".concat(l.keyPrefix).concat(f).concat(a):a,i.t(g,l)};return O(e)?o.lng=e:o.lngs=e,o.ns=n,o.keyPrefix=r,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(s,l)=>{const u=this.services.backendConnector.state["".concat(s,"|").concat(l)];return u===-1||u===0||u===2};if(n.precheck){const s=n.precheck(this,a);if(s!==void 0)return s}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,e)&&(!i||a(o,e)))}loadNamespaces(e,n){const r=it();return this.options.ns?(O(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=it();O(e)&&(e=[e]);const i=this.options.preload||[],o=e.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return o.length?(this.options.preload=i.concat(o),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new qn(er());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new ct(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yt;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},o=new ct(i);return(e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(s=>{o[s]=this[s]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r&&(o.store=new Jn(this.store.data,i),o.services.resourceStore=o.store),o.translator=new Lt(o.services,i),o.translator.on("*",function(s){for(var l=arguments.length,u=new Array(l>1?l-1:0),d=1;d<l;d++)u[d-1]=arguments[d];o.emit(s,...u)}),o.init(i,n),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ne=ct.createInstance();ne.createInstance=ct.createInstance;ne.createInstance;ne.dir;ne.init;ne.loadResources;ne.reloadResources;ne.use;ne.changeLanguage;ne.getFixedT;ne.t;ne.exists;ne.setDefaultNamespace;ne.hasLoadedNamespace;ne.loadNamespaces;ne.loadLanguages;let Je;const Za=()=>Je,es=t=>{ge.onLanguageChange(e=>t.changeLanguage(e))};class ts{constructor(){this._appName="RMG",this._lng=void 0,this._defaultResources={},this._resources={}}use(e){return ne.use(e),this}withAppName(e){return this._appName=e,this}withLng(e){return this._lng=e,this}withDefaultResource(e){return Object.entries(e).forEach(([n,r])=>{this._defaultResources[n]=r}),this}withResource(e,n){return this._resources[e]=n,this}combineResource(){const e={};return Object.entries(this._defaultResources).forEach(([n,r])=>{e[n]={translation:r}}),Object.entries(this._resources).forEach(([n,r])=>{n in e?e[n].translation=Object.assign(Object.assign({},e[n].translation),r):e[n]={translation:r}}),e}build(){return Je=ne.createInstance({lng:this._lng,fallbackLng:{"zh-CN":["zh-Hans","zh-Hant","en"],"zh-HK":["zh-Hant","zh-Hans","en"],"zh-TW":["zh-Hant","zh-Hans","en"],default:["en"]},resources:this.combineResource()},(e,n)=>{var r;if(e){U.error("unexpected error occurs while initialising i18n",e);return}document.title=n(this._appName),document.documentElement.lang=(r=this._lng)!==null&&r!==void 0?r:"en"}),Je.on("languageChanged",e=>{document.title=Je.t(this._appName),document.documentElement.lang=e}),es(Je),Je}}var dt=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(d){try{u(r.next(d))}catch(h){a(h)}}function l(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):i(d.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};let Me={};const ns=()=>Me,Kr="LOAD_REMOTE_FONT",rs=(t,e)=>{Q.postEvent(Kr,{family:t,definition:e})},is=t=>{Q.onMessage(Kr,t)},_n=t=>t.source.startsWith("local"),os=t=>{var e;const n=(e=t.source.match(/url\(['"](\S+)['"]\)/))===null||e===void 0?void 0:e[1];if(!n)throw new Error("Invalid URL in source "+t.source);return new URL(n,window.location.href)},nr=(t,e)=>{var n;return"@font-face {\n    font-family: '".concat(t,"';\n    src: ").concat(e.source,";\n    ").concat(Object.entries((n=e.descriptors)!==null&&n!==void 0?n:{}).map(([r,i])=>"".concat(r,": ").concat(i,";")).join("\n"),"\n}")},as=()=>Do(()=>fetch("/fonts/config.json").then(t=>t.json()));let Yr=as();const ss=(t,e,n)=>dt(void 0,void 0,void 0,function*(){try{const r=new FontFace(t,e.source,e.descriptors);return _n(e)?yield r.load():r.loaded.then(n),document.fonts.add(r),Me[t]={configs:[Object.assign(Object.assign({},e),{font:r})]},!0}catch(r){return U.warn("Failed to load font ".concat(t," with source ").concat(e.source),r),!1}}),ls=(t,e,n)=>dt(void 0,void 0,void 0,function*(){if(e.some(_n))return U.error("Unable to load multiple FontFace for the same family ".concat(t)),!1;const r=[];return e.forEach(i=>{const o=new FontFace(t,i.source,i.descriptors);o.loaded.then(n),document.fonts.add(o),r.push(Object.assign(Object.assign({},i),{font:o}))}),Me[t]={configs:r},!0}),us=(t,e)=>dt(void 0,void 0,void 0,function*(){if(t in Me)return Me[t];let n;if(e)n=e;else try{n=(yield Yr())[t]}catch(o){const a=o instanceof Error?" due to "+o.message:"";throw new Error("Unable to load font definition of "+t+a)}const r=()=>{rs(t,n)};for(const o of n.configs)if(Array.isArray(o)?yield ls(t,o,r):yield ss(t,o,r))break;const i=Me[t];if(i)return i.displayName=n.displayName,i.url=n.url,Me[t]}),cs=t=>dt(void 0,void 0,void 0,function*(){const e=Me[t];if(!e)throw new Error("Font family ".concat(t," is not loaded"));return(yield Promise.all(e.configs.filter(r=>{const i=r.font.status==="loaded";return i||U.warn("Font family ".concat(t," is not loaded completely. Some FontFaceRules may be missing")),i}).map(r=>dt(void 0,void 0,void 0,function*(){if(_n(r))return nr(t,r);const i=os(r),o=yield fetch(i),a=yield To(yield o.blob());return nr(t,Object.assign(Object.assign({},r),{source:"url('".concat(a,"')")}))})))).join("\n\n")}),ot={getAllFonts:Yr,getLoadedFonts:ns,loadFont:us,getFontCSS:cs,onRemoteFontLoaded:is},ds=()=>{if(ae.getEnvironment()!=="PRD"||!ae.isRMT())if(document.querySelector('meta[name="robots"]'))U.info("Noindex meta tag already presents.");else{U.info("Injecting noindex meta tag as this app is not PRD RMT.");const t=document.createElement("meta");t.name="robots",t.content="noindex",document.head.appendChild(t)}},fs={injectNoindexRule:ds};var Jr=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(d){try{u(r.next(d))}catch(h){a(h)}}function l(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?o(d.value):i(d.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};let Xr=!1;const hs=()=>Jr(void 0,void 0,void 0,function*(){yield ae.loadWithTimeout(),U.setup(ae.getComponent()),fs.injectNoindexRule(),ge.isAnalyticsQADone()?ge.isAllowAnalytics()&&(U.info("User has previously allowed GA"),Rt.init()):pe.isStandaloneWindow()&&!ae.isRMT()&&(U.warn("App is opened in standalone window but analytics Q&A is not finished. GA will be init by default."),Rt.init()),Xr=!0}),ps=()=>Jr(void 0,void 0,void 0,function*(){let t=0;for(;t<=10&&!Xr;)yield jr(1e3),t+=1}),q={ready:ps,getAppName:ae.getComponent,getAppVersion:ae.getVersion,getEnv:ae.getEnvironment,getInstance:ae.getInstance,event:Rt.customEvent,isStandaloneWindow:pe.isStandaloneWindow,injectUITools:pe.injectUITools,openApp:pe.openApp,onAppOpen:pe.onAppOpen,closeApp:pe.closeApp,onAppClose:pe.onAppClose,updateAppMetadata:pe.updateAppMetadata,onAppMetadataUpdate:pe.onAppMetadataUpdate,updateUrl:pe.updateUrl,onUrlUpdate:pe.onUrlUpdate,toggleNavMenu:pe.toggleNavMenu,postEvent:Q.postEvent,onMessage:Q.onMessage,setLanguage:ge.setLanguage,getLanguage:ge.getLanguage,onLanguageChange:ge.onLanguageChange,setColourMode:ge.setColourMode,getColourMode:ge.getColourMode,onColourModeChange:ge.onColourModeChange,isAnalyticsQADone:ge.isAnalyticsQADone,isAllowAnalytics:ge.isAllowAnalytics,allowAnalytics:ge.allowAnalytics,storage:{on:Ge.on,get:Ge.get,getAll:Ge.getAll,set:Ge.set,remove:Ge.remove,clear:Ge.clear},getMsSinceStartUp:Ca.getMsSinceStartUp,I18nBuilder:ts,getI18nInstance:Za,getAllFonts:ot.getAllFonts,getLoadedFonts:ot.getLoadedFonts,loadFont:ot.loadFont,getFontCSS:ot.getFontCSS,onRemoteFontLoaded:ot.onRemoteFontLoaded};hs().then();window.rmgRuntime=q;const Xe=U.logger;var vt={},rr;function gs(){if(rr)return vt;rr=1;var t=Po();return vt.createRoot=t.createRoot,vt.hydrateRoot=t.hydrateRoot,vt}var ms=gs();const ys="modulepreload",vs=function(t){return"/rma/"+t},ir={},qr=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),s=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=vs(l),l in ir)return;ir[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector('link[href="'.concat(l,'"]').concat(d)))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":ys,u||(h.as="script"),h.crossOrigin="",h.href=l,s&&h.setAttribute("nonce",s),document.head.appendChild(h),u)return new Promise((f,g)=>{h.addEventListener("load",f),h.addEventListener("error",()=>g(new Error("Unable to preload CSS for ".concat(l))))})}))}function o(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return i.then(a=>{for(const s of a||[])s.status==="rejected"&&o(s.reason);return e().catch(o)})};var Qr=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var a=o[i];n.call(r,a[1],a[0])}},e}()}(),dn=typeof window<"u"&&typeof document<"u"&&window.document===document,Mt=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),xs=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Mt):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),bs=2;function ws(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&s()}function a(){xs(o)}function s(){var l=Date.now();if(n){if(l-i<bs)return;r=!0}else n=!0,r=!1,setTimeout(a,e);i=l}return s}var Ss=20,Cs=["top","right","bottom","left","width","height","size","weight"],Os=typeof MutationObserver<"u",Ps=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=ws(this.refresh.bind(this),Ss)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!dn||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Os?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!dn||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=Cs.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),Zr=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},Qe=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Mt},ei=Nt(0,0,0,0);function kt(t){return parseFloat(t)||0}function or(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var o=t["border-"+i+"-width"];return r+kt(o)},0)}function As(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],a=t["padding-"+o];n[o]=kt(a)}return n}function Rs(t){var e=t.getBBox();return Nt(0,0,e.width,e.height)}function _s(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return ei;var r=Qe(t).getComputedStyle(t),i=As(r),o=i.left+i.right,a=i.top+i.bottom,s=kt(r.width),l=kt(r.height);if(r.boxSizing==="border-box"&&(Math.round(s+o)!==e&&(s-=or(r,"left","right")+o),Math.round(l+a)!==n&&(l-=or(r,"top","bottom")+a)),!Es(t)){var u=Math.round(s+o)-e,d=Math.round(l+a)-n;Math.abs(u)!==1&&(s-=u),Math.abs(d)!==1&&(l-=d)}return Nt(i.left,i.top,s,l)}var js=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Qe(t).SVGGraphicsElement}:function(t){return t instanceof Qe(t).SVGElement&&typeof t.getBBox=="function"}}();function Es(t){return t===Qe(t).document.documentElement}function Ls(t){return dn?js(t)?Rs(t):_s(t):ei}function Ms(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(o.prototype);return Zr(a,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),a}function Nt(t,e,n,r){return{x:t,y:e,width:n,height:r}}var ks=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Nt(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=Ls(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),Is=function(){function t(e,n){var r=Ms(n);Zr(this,{target:e,contentRect:r})}return t}(),Ts=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new Qr,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Qe(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new ks(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Qe(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new Is(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),ti=typeof WeakMap<"u"?new WeakMap:new Qr,ni=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Ps.getInstance(),r=new Ts(e,n,this);ti.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){ni.prototype[t]=function(){var e;return(e=ti.get(this))[t].apply(e,arguments)}});var Ds=function(){return typeof Mt.ResizeObserver<"u"?Mt.ResizeObserver:ni}();window.ResizeObserver||(window.ResizeObserver=Ds);var fn=function(){return fn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},fn.apply(this,arguments)},zs=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Kc=function(t){var e=t.isOpen,n=t.onClose,r=t.children,i=t.sx,o=t.size,a=t.zIndex,s=zs(t,["isOpen","onClose","children","sx","size","zIndex"]),l=$e("RmgAppClip",{size:o,zIndex:a!=null?a:1500}),u=v.useRef(null);return Oi({ref:u,handler:n}),c.jsx(Pi,{children:c.jsxs(on.div,fn({className:e?"show-app-clip":"",sx:l},s,{children:[c.jsx("div",{className:"rmg-app-clip__overlay"}),c.jsx(Ai,{isDisabled:!e,children:c.jsx("div",{className:"rmg-app-clip__container",children:c.jsx(on.section,{ref:u,role:"dialog",className:"rmg-app-clip__content",sx:i,children:r})})})]}))})};const[Ns,We]=Fs();function Fs(){const t=v.createContext(void 0);t.displayName="AutoCompleteContext";function e(){var n;const r=v.useContext(t),i="useAutoCompleteContext: `context` is undefined. Seems you forgot to wrap all autoomplete components within `<AutoComplete />`";if(!r){const o=new Error(i);throw o.name="ContextError",(n=Error.captureStackTrace)==null||n.call(Error,o,e),o}return r}return[t.Provider,e,t]}function $s(t){return t==null?void 0:t[0]}function Zt(t){return t!=null&&t.length?t[t.length-1]:void 0}function ri(t,e,n=1,r=!0){if(e===0)return-1;let i=t+n;return t===-1&&(i=n>0?0:e-1),r?i=(i%e+e)%e:i=Math.max(0,Math.min(i,e-1)),i}function Bs(t,e,n=!0){return ri(t,e,-1,n)}function Ws(t,e,n=!0){const r=ri(t,e.length,1,n);return e[r]}function Vs(t,e,n=!0){const r=Bs(t,e.length,n);return e[r]}function jn(t){return Array.isArray(t)}function Us(t){return jn(t)&&t.length===0}function En(t){return t!==null&&typeof t=="object"&&!jn(t)}function Hs(t){return En(t)&&Object.keys(t).length===0}function ii(t){return jn(t)?Us(t):En(t)?Hs(t):t==null||t===""}function Ct(t){return typeof t>"u"}function oi(t){return typeof t<"u"}function Gs(t,e){const n={};return e.forEach(r=>{r in t&&(n[r]=t[r])}),n}function Ln(t,e){const n={...t};return e.forEach(r=>{delete n[r]}),n}function Ks(t){return typeof t=="function"}function J(t,...e){return Ks(t)?t(...e):t}var Ft=function(t,e){for(var n,r=v.Children.toArray(t),i=0,o=r;i<o.length;i++){var a=o[i];if(e(a))return a;if(!((n=a.props)===null||n===void 0)&&n.children){var s=Ft(a.props.children,e);if(s)return s}}},xt=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},ai=function(t,e){for(var n,r=v.Children.toArray(t),i=[],o=0,a=r;o<a.length;o++){var s=a[o];e(s)&&(i=xt(xt([],i),[s])),!((n=s.props)===null||n===void 0)&&n.children&&(i=xt(xt([],i),ai(s.props.children,e)))}return i};function ar(t,e,n=2){function r(h,f){h=" ".repeat(f-1)+h.toLowerCase()+" ".repeat(f-1);let g=new Array(h.length-f+1);for(let m=0;m<g.length;m++)g[m]=h.slice(m,m+f);return g}if(!(t!=null&&t.length)||!(e!=null&&e.length))return 0;let i=t.length<e.length?t:e,o=t.length<e.length?e:t,a=r(i,n),s=r(o,n),l=new Set(a),u=s.length,d=0;for(let h of s)l.delete(h)&&d++;return d/u}const Mn=t=>{var e;return(e=typeof t=="string"||typeof t=="number"?t:t[Object.keys(t)[0]])==null?void 0:e.toString()},Ys=(t,e)=>typeof t!="string"||ii(e)?t:t.toString().replace(new RegExp(Qs(e),"gi"),n=>"<mark>".concat(n,"</mark>")),Js=t=>ai(t,e=>{var n;return((n=e==null?void 0:e.type)==null?void 0:n.displayName)==="AutoCompleteItem"}).map(e=>{const n=Gs(e.props,["value","label","fixed","disabled"]),{getValue:r=Mn}=e.props,i=r(n.value);return{...oi(n.label)?n:{...n,label:i},value:i,originalValue:n.value}}),Xs=()=>({bg:"whiteAlpha.100",_light:{bg:"gray.200"}}),qs=(t,e,n)=>(e==null?void 0:e.toLowerCase().indexOf(t==null?void 0:t.toLowerCase()))>=0||(n==null?void 0:n.toLowerCase().indexOf(t==null?void 0:t.toLowerCase()))>=0||ar(t,e)>=.5||ar(t,n)>=.5;function Qs(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}const Zs=(t,e)=>Ft(t,n=>{var r;return((r=n==null?void 0:n.type)==null?void 0:r.displayName)==="AutoCompleteItem"&&n.props.value===(e==null?void 0:e.value)}),el=(t,e)=>Ft(t,n=>{var r;return((r=n==null?void 0:n.type)==null?void 0:r.displayName)==="AutoCompleteItem"&&n.props.value===(e==null?void 0:e.value)}),tl=(t,e)=>oi(Ft(t,n=>{var r,i;const o=J(((r=n.props)==null?void 0:r.getValue)||Mn,((i=n.props)==null?void 0:i.value)||{});return e.some(a=>a.value===o)})),nl=(t,e)=>{const n={},r={},{field:i}=t;return i&&Object.keys(i).forEach(o=>{if(o.startsWith("--input")===!1)n[o]=i[o];else{let a=i[o];const s=o.replace("--input-","").replace(/-([a-z])/g,function(l){return l[1].toUpperCase()});a.indexOf(".")!==-1&&(a=a.substring(a.indexOf(".")+1)),r[s]=a}}),{...e&&{...n,...r,_focusWithin:t.field._focus,pos:"relative",minH:9,py:1.5,spacing:3},cursor:"text",h:"fit-content"}};function rl(t){var e;let{prefocusFirstItem:n=!0,closeOnBlur:r=!0,creatable:i,emphasize:o,emptyState:a=!0,defaultEmptyStateProps:s={},freeSolo:l,isReadOnly:u,listAllValuesOnFocus:d,maxSuggestions:h,multiple:f,closeOnSelect:g=!f,defaultValue:m,defaultValues:x=m?[m]:[],onReady:b,defaultIsOpen:C,disableFilter:S,isLoading:A=!1,placement:_="bottom",restoreOnBlurIfEmpty:k=!l,shouldRenderSuggestions:N=()=>!0,submitKeys:L=[],suggestWhenEmpty:Z,value:G,values:se=G?typeof G=="string"?[G]:[...G]:void 0}=t;l=l||(f?!0:t.freeSolo);const{isOpen:D,onClose:X,onOpen:W}=Ii({defaultIsOpen:C}),$=v.useMemo(()=>J(t.children,{isOpen:D,onClose:X,onOpen:W}),[t.children,D]),M=v.useMemo(()=>Js($),[$]),B=v.useRef(null),me=v.useRef(null),V=v.useRef(null),K=v.useRef(null),[Se,Ce]=v.useState(!1);let re="";f?re="":Ct(x)?Ct(se)||(re=se[0]):re=x[0];const[de,ie]=v.useState(re!=null?re:""),ee=v.useMemo(()=>S?M:M.filter(w=>w.fixed||J(t.filter||qs,de,w.value,w.label)||Se).filter((w,z)=>h?w.fixed||z<h:!0),[de,M,Se,h,S]),Ve=i?[{value:de,noFilter:!0,creatable:!0}]:[],Y=v.useMemo(()=>[...ee,...Ve],[ee,Ve]),[Oe,Vt]=Ti({defaultValue:x.map(w=>w==null?void 0:w.toString()),value:se,onChange:w=>{const z=Y.find(F=>F.value===w[0]);if(!z)return;const te=w.map(F=>Y.find(ye=>ye.value===F));J(t.onChange,f?w:w[0],f?te:z)}});v.useEffect(()=>{Y.length===0&&!a&&D&&X()},[Y.length,a,D]);const[Ue,Re]=v.useState(n?(e=M[0])==null?void 0:e.value:null),wi=t.maxSelections||Oe.length+1,Ut=Y.findIndex(w=>w.value===Ue),Dn=Ws(Ut,Y,!!t.rollNavigation),zn=Vs(Ut,Y,!!t.rollNavigation),Te=$s(Y),Nn=Zt(Y),Fn=!Y.some(w=>w.value===Ue);v.useEffect(()=>{var w;Fn&&Re(n?(w=M[0])==null?void 0:w.value:null)},[Fn]),Di(()=>{n&&Re(Te==null?void 0:Te.value)},[de,Te==null?void 0:Te.value]),v.useEffect(()=>{var w;!D&&n&&Re((w=M[0])==null?void 0:w.value)},[D]),v.useEffect(()=>{D&&d&&Ce(!0)},[D,d,Ce]),v.useEffect(()=>{const w=M.find(z=>z.value===Ue);J(t.onOptionFocus,{item:w,focusMethod:K.current,isNewInput:w==null?void 0:w.creatable})},[Ue,t.onOptionFocus]);const Ht=w=>{var z,te;const F=Y.find(fe=>fe.value===w),ye=(F==null?void 0:F.label)||(F==null?void 0:F.value);ie(()=>f?"":ye!=null?ye:""),!Oe.includes(w)&&Oe.length<wi&&Vt(fe=>f?[...fe,w]:[w]),f&&((z=B.current)==null||z.focus()),t.focusInputOnSelect&&((te=B.current)==null||te.focus()),J(t.onSelectOption,{item:F,selectMethod:K.current,isNewInput:F==null?void 0:F.creatable}),F!=null&&F.creatable&&J(t.onCreateOption,{item:Ln(F,["noFilter"]),selectMethod:K.current}),g&&X()},$n=(w,z)=>{var te;Vt(fe=>{const De=M.find(_e=>_e.value===w);return De?(J(t.onTagRemoved,w,De,fe),fe.filter(_e=>_e!==w)):fe});const F=M.find(fe=>fe.value===w),ye=(F==null?void 0:F.label)||(F==null?void 0:F.value);de===ye&&ie(""),z&&((te=B.current)==null||te.focus())},Si=w=>{var z;Vt([]),w&&((z=B.current)==null||z.focus())},Bn=f?Oe.map(w=>{var z;return{label:((z=M.find(te=>te.value===(w==null?void 0:w.toString())))==null?void 0:z.label)||w,onRemove:()=>$n(w)}}):[];return v.useEffect(()=>{J(b,{tags:Bn})},[Oe]),{autoCompleteProps:t,children:$,filteredList:Y,filteredResults:ee,focusedValue:Ue,defaultEmptyStateProps:s,getEmptyStateProps:w=>{if(Y.every(z=>z.noFilter)&&a&&!i)return typeof a=="boolean"?w:J(a,{query:de})},getGroupProps:w=>{const z=tl(w.children,Y);return{divider:{hasFirstChild:Zs(w.children,Te),hasLastChild:el(w.children,Zt(Y.filter(te=>Ct(te==null?void 0:te.noFilter))))},group:{display:z?"initial":"none"}}},getInputProps:(w,z)=>{const{onBlur:te,onChange:F,onFocus:ye,onKeyDown:fe,variant:De,..._e}=w;return{wrapper:{ref:me,onClick:()=>{var T;(T=B==null?void 0:B.current)==null||T.focus()},...nl(z,f),..._e},input:{isReadOnly:u,onFocus:T=>{J(ye,T),t.openOnFocus&&!u&&W(),t.selectOnFocus&&T.target.select(),d&&Ce(!0)},onBlur:T=>{var ve,le;J(te,T);const ue=T.relatedTarget===(V==null?void 0:V.current)||((ve=V.current)==null?void 0:ve.contains(T.relatedTarget)),Gt=(le=me.current)==null?void 0:le.contains(T.relatedTarget);if(!ue&&!Gt&&(r&&X(),!Oe.includes(T.target.value)&&k)){const Kt=Zt(Oe),He=M.find(Yt=>Yt.value===Kt),Pe=(He==null?void 0:He.label)||(He==null?void 0:He.value)||"";ie(Pe)}},onChange:T=>{const ve=T.target.value;J(F,T),ie(ve);const le=ii(ve);J(N,ve)&&(!le||Z)?W():X(),Ce(!1)},onKeyDown:T=>{var ve;J(fe,T),K.current="keyboard";const{key:le}=T,ue=Y[Ut];if(["Enter",...L].includes(le)){ue&&!(ue!=null&&ue.disabled)&&D?Ht(ue==null?void 0:ue.value):(ve=B.current)==null||ve.focus(),T.preventDefault();return}if(le==="ArrowDown"){D?Re(Dn==null?void 0:Dn.value):W(),T.preventDefault();return}if(le==="ArrowUp"){D?Re(zn==null?void 0:zn.value):W(),T.preventDefault();return}if(le==="Tab"){D&&ue&&!(ue!=null&&ue.disabled)?Ht(ue==null?void 0:ue.value):X();return}if(le==="Home"){Re(Te==null?void 0:Te.value),T.preventDefault();return}if(le==="End"){Re(Nn==null?void 0:Nn.value),T.preventDefault();return}le==="Escape"&&(X(),T.preventDefault())},value:de,variant:f?"unstyled":De,..._e}}},getItemProps:(w,z)=>{var te;const{_fixed:F,_focus:ye,children:fe,disabled:De,label:_e,value:T,fixed:ve,getValue:le=Mn,onClick:ue,onMouseOver:Gt,sx:Kt,...He}=w,Pe=z?T:(te=le(T))==null?void 0:te.toString(),Yt=Pe===Ue,Ci=Y.findIndex(tt=>tt.value===Pe)>=0,Jt=fe||_e||Pe;return{item:{...typeof Jt!="string"||!o?{children:Jt}:{dangerouslySetInnerHTML:{__html:Ys(Jt,de)}},"aria-selected":Oe.includes(Pe),"aria-disabled":De,_disabled:{opacity:.4,cursor:"not-allowed",userSelect:"none"},onClick:tt=>{var Wn;J(ue,tt),De?(Wn=B.current)==null||Wn.focus():Ht(Pe)},onMouseOver:tt=>{J(Gt,tt),Re(Pe),K.current="mouse"},sx:{...Kt,mark:{color:"inherit",bg:"transparent",...En(o)?o:{fontWeight:o?"extrabold":"inherit"}}},...Yt&&(ye||Xs()),...ve&&F,...He},root:{isValidSuggestion:Ci,value:Pe}}},inputRef:B,interactionRef:K,isLoading:A,isOpen:D,itemList:M,listRef:V,onClose:X,onOpen:W,placement:_,query:de,removeItem:$n,resetItems:Si,setQuery:ie,tags:Bn,value:G,values:Oe}}const il=Be((t,e)=>{const n=rl(t),{children:r,isOpen:i,onClose:o,onOpen:a,placement:s,resetItems:l,removeItem:u}=n;v.useImperativeHandle(e,()=>({resetItems:l,removeItem:u}));const{matchWidth:d=!0}=n.autoCompleteProps;return c.jsx(Ns,{value:n,children:c.jsx(wr,{isLazy:!0,isOpen:i,autoFocus:!1,placement:s,closeOnBlur:!0,matchWidth:d,children:c.jsx(on.div,{w:"full",ref:e,children:r})})})});il.displayName="AutoComplete";const ol=Be((t,e)=>{const{focusedValue:n,getItemProps:r,interactionRef:i}=We(),o=v.useRef(),a=ft(e,o),s=r(t),{isValidSuggestion:l,value:u}=s.root,d=n===u;v.useEffect(()=>{var x;d&&i.current==="keyboard"&&((x=o==null?void 0:o.current)==null||x.scrollIntoView({behavior:"smooth",block:"nearest"}))},[d,i]),v.useEffect(()=>{typeof u!="string"&&console.warn("wow"),typeof u!="string"&&Ct(t.getValue)&&console.error("You must define the `getValue` prop, when an Item's value is not a string")},[]);const{children:h,dangerouslySetInnerHTML:f,...g}=s.item,m=Ln(g,["groupId"]);return l?c.jsx(we,{ref:a,...al,...m,children:h||c.jsx("span",{dangerouslySetInnerHTML:f})}):null});ol.displayName="AutoCompleteItem";const al={mx:"2",px:"2",py:"2",rounded:"md",cursor:"pointer"},sl=Be((t,e)=>{const{children:n,showDivider:r,...i}=t,o=Ln(i,["groupSibling"]),{getGroupProps:a}=We(),{group:s}=a(t),l=cl(t);return c.jsxs(ke,{ref:e,...s,...o,children:[c.jsx(an,{...l.top}),n,c.jsx(an,{...l.bottom})]})}),ll=Be((t,e)=>c.jsx(we,{...ul,...t,ref:e}));sl.displayName="AutoCompleteGroup";ll.displayName="AutoCompleteGroupTitle";const ul={ml:5,my:1,fontSize:"xs",letterSpacing:"wider",fontWeight:"extrabold",textTransform:"uppercase"},cl=t=>{const{getGroupProps:e}=We(),n=t.groupSibling,{divider:{hasFirstChild:r,hasLastChild:i}}=e(t),o={my:2,borderColor:t.dividerColor},a={...o,mb:4,display:!t.showDivider||r?"none":""},s={...o,display:!t.showDivider||i||n?"none":""};return{top:a,bottom:s}},sr=Be((t,e)=>{const{isLoading:n}=We(),{loadingIcon:r,...i}=t;return c.jsxs(zi,{children:[c.jsx(Or,{...i,ref:e}),n&&c.jsx(Ni,{children:r||c.jsx(Cr,{})})]})}),si=Be((t,e)=>{const{autoCompleteProps:n,inputRef:r,getInputProps:i,tags:o,setQuery:a,value:s,itemList:l}=We(),{children:u,isInvalid:d,hidePlaceholder:h,...f}=t,{value:g}=f;v.useEffect(()=>{if(s!==void 0&&(typeof s=="string"||s instanceof String)){const L=l.find(G=>G.value===s),Z=L===void 0?s:L.label;a(Z)}},[s]),v.useEffect(()=>{g!==void 0&&(typeof g=="string"||g instanceof String)&&a(g)},[g]);const m=Ei("Input",t);let{wrapper:x,input:b}=i(f,m);const{ref:C,...S}=x,A=ft(e,r),_=J(u,{tags:o});h&&(b={...b,placeholder:Array.isArray(_)&&_.length?void 0:b.placeholder});const k=c.jsx(sr,{isInvalid:d,...b,ref:A}),N=c.jsxs(Li,{"aria-invalid":d,...S,ref:C,children:[_,c.jsx(br,{as:sr,...b,ref:A})]});return c.jsx(Mi,{children:n.multiple?N:k})});si.displayName="Input";si.id="Input";const dl=t=>{const{getEmptyStateProps:e,defaultEmptyStateProps:n}=We(),r=e(c.jsx(we,{...fl,...n,children:"No options found!"}));return c.jsx(ke,{...t,children:r})},fl={fontSize:"sm",align:"center",justify:"center",fontWeight:"bold",fontStyle:"italic"},lr=["AutoCompleteGroup","AutoCompleteItem","AutoCompleteCreatable"],hl=t=>{const e=oe.Children.map(t,(r,i)=>{var o;if(((o=r==null?void 0:r.type)==null?void 0:o.displayName)==="AutoCompleteGroup"){const a=oe.Children.toArray(t)[i+1];return oe.cloneElement(r,{groupSibling:a?a.type.displayName==="AutoCompleteGroup":!1})}return r}),n=oe.Children.toArray(e).filter(r=>{var i;return!lr.includes((i=r==null?void 0:r.type)==null?void 0:i.displayName)});return[oe.Children.toArray(e).filter(r=>{var i;return lr.includes((i=r==null?void 0:r.type)==null?void 0:i.displayName)}),n]},pl=Be((t,e)=>{const{children:n,loadingState:r,...i}=t,{listRef:o,isLoading:a}=We(),s=ft(e,o),[l,u]=hl(n);return c.jsxs(Sr,{ref:s,w:"inherit",...gl,...i,children:[a&&c.jsx(ki,{children:r||c.jsx(Cr,{size:"md"})}),!a&&c.jsxs(c.Fragment,{children:[l,c.jsx(dl,{}),u]})]})});pl.displayName="AutoCompleteList";const gl={py:"4",opacity:"0",bg:"#232934",rounded:"md",maxH:"350px",border:"none",shadow:"base",zIndex:"popover",overflowY:"auto",_light:{bg:"#ffffff"},_focus:{boxShadow:"none"}};v.memo(t=>{const{label:e,onRemove:n,disabled:r,...i}=t;return c.jsx(br,{children:c.jsxs(Ri,{borderRadius:"md",fontWeight:"normal",...r&&ur,...i,children:[c.jsx(_i,{children:e}),c.jsx(ji,{onClick:()=>!r&&J(n),cursor:"pointer",...r&&ur})]})})});const ur={cursor:"text",userSelect:"none",opacity:.4,_focus:{boxShadow:"none"}};var hn=function(){return hn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},hn.apply(this,arguments)},ml=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},yl=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},vl=function(t,e){var n=t.validator,r=t.onDebouncedChange,i=t.delay,o=t.optionList,a=t.defaultValue;t.onChange;var s=ml(t,["validator","onDebouncedChange","delay","optionList","defaultValue","onChange"]),l=v.useRef(null),u=ft(l,e),d=v.useRef("datalist-"+new Date().valueOf()),h=yl(v.useState(!1),2),f=h[0],g=h[1],m=v.useRef();v.useEffect(function(){l.current&&(l.current.value=(a==null?void 0:a.toString())||"")},[a]);var x=function(C){var S=C.target.value;window.clearTimeout(m.current),n&&g(!n(S)),m.current=window.setTimeout(function(){r==null||r(S),m.current=void 0},i!=null?i:500)},b=function(C){var S=C.target.value;m.current!==void 0&&(window.clearTimeout(m.current),n&&g(!n(S)),r==null||r(S),m.current=void 0)};return c.jsxs(c.Fragment,{children:[c.jsx(Or,hn({ref:u,list:d.current,variant:"flushed",size:"sm",h:6,onChange:x,onBlur:b,isInvalid:f},s)),o&&c.jsx("datalist",{id:d.current,children:o==null?void 0:o.map(function(C,S){return c.jsx("option",{children:C},S)})})]})},xl=v.forwardRef(vl),pn=function(){return pn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},pn.apply(this,arguments)},bl=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},wl=function(t,e){var n=t.onDebouncedChange,r=t.defaultValue;t.onChange;var i=bl(t,["onDebouncedChange","defaultValue","onChange"]),o=v.useRef(null),a=ft(o,e),s=v.useRef();v.useEffect(function(){o.current&&(o.current.value=(r==null?void 0:r.toString())||"")},[r]);var l=function(u){var d=u.target.value;window.clearTimeout(s.current),s.current=window.setTimeout(function(){n==null||n(d)},500)};return c.jsx(Fi,pn({ref:a,variant:"flushed",size:"sm",resize:"none",onChange:l},i))},Yc=v.forwardRef(wl);var Sl=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},Cl=function(t){switch(t){case Ie.DEV:return"red";case Ie.UAT:return"orange";case Ie.PRD:return"green"}};function Jc(t){var e=t.environment,n=t.version,r=t.popoverHeader,i=t.popoverBody,o=Sl(v.useState(!1),2),a=o[0],s=o[1];return c.jsxs(wr,{isOpen:a,onOpen:function(){return r&&s(!0)},onClose:function(){return s(!1)},children:[c.jsx($i,{children:c.jsx(Bi,{ml:1,colorScheme:Cl(e),title:"".concat(e,": ").concat(n),cursor:r?"pointer":"help",children:e===Ie.PRD?n:e})}),c.jsxs(Sr,{children:[c.jsx(Wi,{}),c.jsx(Vi,{}),c.jsx(Ui,{children:r}),c.jsx(Hi,{children:i})]})]})}var Ol=function(t,e,n){var r=new Blob([n],{type:e});Pl(t,r)},Pl=function(t,e){var n=window.URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n)},Al=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o};function Rl(t){var e=t.cancelRef,n=t.isOpen,r=t.onClose,i=Al(v.useState(!1),2),o=i[0],a=i[1],s=function(){a(!0);var l=q.storage.getAll(),u=q.getAppName(),d="".concat(u,"_BACKUP_").concat(new Date().toISOString(),".json");Ol(d,"application/json",JSON.stringify(l)),q.storage.clear(),setTimeout(function(){window.location.reload()},2e3)};return c.jsxs(Gi,{leastDestructiveRef:e,isOpen:n,onClose:r,children:[c.jsx(Pr,{}),c.jsxs(Ki,{children:[c.jsx(Ar,{children:"Warning 警告"}),c.jsx(Rr,{}),c.jsxs(_r,{sx:{"& p":{my:1}},children:[c.jsx(ce,{children:"Are you sure you want to reset the app? The webpage local storage for this app will be cleared. A copy of the local storage will be downloaded and it may be used for restoration (varies with app)."}),c.jsx(ce,{children:"確定重設該應用程式嗎？應用程式的網頁本地儲存將會被清除。本地儲存的副本可供下載及用於復原（因應用程式而異）。"}),c.jsx(ce,{children:"确定重置本应用程序吗？应用程序的网页本地存储将会被清除。本地存储的拷贝可供下载以及用于还原（因应用程序而異）。"})]}),c.jsxs(Yi,{children:[c.jsx(sn,{ref:e,onClick:r,children:"Cancel"}),c.jsx(sn,{isLoading:o,colorScheme:"red",ml:3,onClick:s,children:"Confirm and reload"})]})]})]})}var ut=function(){return ut=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ut.apply(this,arguments)},_l=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},jl=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o};function El(t){var e=t.error,n=t.errorInfo,r=t.allowReset,i=t.sx,o=_l(t,["error","errorInfo","allowReset","sx"]),a=$e("RmgErrorBoundary"),s=Ne("primary.500","primary.300"),l=jl(v.useState(!1),2),u=l[0],d=l[1],h=v.useRef(null),f=function(x){return c.jsx(Vn,{color:s,role:"button",onClick:function(){return d(!0)},children:x})},g=q.getAppName(),m=c.jsx(Vn,{color:s,href:"https://github.com/railmapgen/".concat(g==="rmg-home"?"railmapgen.github.io":g,"/issues"),isExternal:!0,children:"GitHub Issue"});return c.jsxs(Ji,ut({status:"error",sx:ut(ut({},a),i)},o,{children:[c.jsx(Xi,{}),c.jsx(qi,{children:"Something went wrong!"}),c.jsxs(Qi,{children:[c.jsxs(ce,{children:["Please try to refresh or re-import your configuration files. If the issue still persists, please consider upgrading your browser",r?c.jsxs(c.Fragment,{children:[" or ",f("reset this app")]}):"",". Should you need any help, please contact us by submitting an issue in ",m," with the details shown below."]}),c.jsxs(ce,{children:["請嘗試重新整理或重新上載設定檔。如果問題仍然存在，請考慮更新你的瀏覽器",r?c.jsxs(c.Fragment,{children:["或",f("重設該應用程式")]}):"","。如需協助或與我們聯絡，請前往 ",m," 提交一個 Issue 並附以詳細資料。"]}),c.jsxs(ce,{children:["请尝试刷新或者重新上传配置文件。如果问题仍然存在，请考虑更新您的浏览器",r?c.jsxs(c.Fragment,{children:["或者",f("重置本应用程序")]}):"","。如需帮助或者联系我们，请前往 ",m," 提交一个 Issue 并附上详细信息。"]}),c.jsxs(ce,{as:"details",children:[e==null?void 0:e.toString(),c.jsx("br",{}),n==null?void 0:n.componentStack]}),r&&c.jsx(Rl,{cancelRef:h,isOpen:u,onClose:function(){return d(!1)}})]})]}))}var Ll=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),gn=function(){return gn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},gn.apply(this,arguments)},Ml=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};(function(t){Ll(e,t);function e(n){var r=t.call(this,n)||this;return r.state={hasError:!1,error:null,errorInfo:null},r}return e.getDerivedStateFromError=function(){return{hasError:!0}},e.prototype.componentDidCatch=function(n,r){this.setState({error:n,errorInfo:r})},e.prototype.render=function(){var n=this.props,r=n.children,i=n.suspenseFallback,o=n.allowReset,a=Ml(n,["children","suspenseFallback","allowReset"]);return this.state.hasError?c.jsx(El,gn({error:this.state.error,errorInfo:this.state.errorInfo,allowReset:o},a)):i?c.jsx(v.Suspense,{fallback:i,children:r}):r},e})(oe.Component);var mn=function(){return mn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},mn.apply(this,arguments)},kl=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Xc=function(t){var e=t.label,n=t.children;t.width;var r=t.noLabel,i=t.oneLine,o=t.helper,a=t.errorMessage,s=t.className,l=kl(t,["label","children","width","noLabel","oneLine","helper","errorMessage","className"]),u=$e("RmgLabel");return c.jsxs(Zi,mn({className:"".concat(i?"rmg-label__one-line":""," ").concat(s!=null?s:""),"aria-label":e,sx:u,isInvalid:!!a},l,{children:[!r&&c.jsx(eo,{size:"xs",children:e}),n,a?c.jsx(to,{children:a}):o?c.jsx(no,{children:o}):c.jsx(c.Fragment,{})]}))},yn=function(){return yn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},yn.apply(this,arguments)},Il=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},cr=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o};function qc(t){var e=t.defaultValue,n=t.options,r=t.disabledOptions,i=Il(t,["defaultValue","options","disabledOptions"]),o=v.useRef(null);v.useEffect(function(){o.current&&(o.current.value=(e==null?void 0:e.toString())||"")},[e]);var a=function(s,l){return c.jsx("option",{value:s,disabled:(r==null?void 0:r.find(function(u){return u.toString()===s}))!==void 0,children:l},s)};return c.jsx(ro,yn({ref:o,variant:"flushed",size:"sm",h:6},i,{children:Object.entries(n).map(function(s){var l=cr(s,2),u=l[0],d=l[1];return typeof d=="object"?c.jsx("optgroup",{label:u,children:Object.entries(d).map(function(h){var f=cr(h,2),g=f[0],m=f[1];return a(g,m)})},u):a(u,d)})}))}var Tl=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},Qc=function(t,e,n){var r=Tl(v.useState(e()),2),i=r[0],o=r[1];return v.useEffect(function(){t.then(function(){console.debug("[rmg-components] Getter updates finished"),o(e())})},[]),i},en=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},dr=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},Dl=function(t,e){var n=en(v.useState(!0),2),r=n[0],i=n[1],o=v.useRef([]),a=v.useRef(),s=v.useCallback(function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];if(!r){o.current=l;return}i(!1),o.current=[],t.apply(void 0,dr([],en(l),!1))},[r,t]);return v.useEffect(function(){if(!r)return a.current=window.setTimeout(function(){i(!0),o.current.length&&t.apply(void 0,dr([],en(o.current),!1))},e),function(){window.clearTimeout(a.current)}},[r,e]),s},zl=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o};function Zc(t){var e=t.defaultValue,n=t.min,r=t.max,i=t.step,o=t.onThrottledChange,a=t.leftIcon,s=t.rightIcon,l=$e("RmgThrottledSlider"),u=zl(v.useState(e!=null?e:0),2),d=u[0],h=u[1];v.useEffect(function(){e!==void 0&&d!==e&&h(e)},[e]);var f=Dl(o!=null?o:function(){},500),g=function(){var x=Math.min(d+(i!=null?i:1)*10,r!=null?r:100);o==null||o(x),h(x)},m=function(){var x=Math.max(d-(i!=null?i:1)*10,n!=null?n:0);o==null||o(x),h(x)};return c.jsxs(we,{sx:l,children:[a&&c.jsx(ln,{size:"xs",variant:"ghost","aria-label":"Drag left",icon:a,onClick:m}),c.jsxs(io,{value:d,min:n,max:r,step:i,onChange:function(x){f(x),h(x)},children:[c.jsx(oo,{children:c.jsx(ao,{})}),c.jsx(so,{})]}),s&&c.jsx(ln,{size:"xs",variant:"ghost","aria-label":"Drag right",icon:s,onClick:g})]})}var xe=function(){return xe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},xe.apply(this,arguments)},kn=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Nl=function(t){var e=t.sx,n=t.className,r=kn(t,["sx","className"]),i=$e("RmgWindow");return c.jsx(we,xe({className:"rmg-window ".concat(n!=null?n:""),sx:xe(xe({},i),e)},r))},ed=function(t){var e=t.isAppClipHeader,n=t.sx,r=t.className,i=kn(t,["isAppClipHeader","sx","className"]),o=$e("RmgWindowHeader");return c.jsx(we,xe({className:"rmg-window__header ".concat(e?"rmg-window__app-clip-header":""," ").concat(r!=null?r:""),sx:xe(xe({},o),n)},i))},Fl=function(t){var e=t.sx,n=t.className,r=kn(t,["sx","className"]),i=$e("RmgPage");return c.jsx(we,xe({className:"rmg-page ".concat(n!=null?n:""),sx:xe(xe({},i),e)},r))};var fr=function(t){return t==="dark"?"primary.300":"primary.500"},tn={variants:{flushed:function(t){var e=t.theme,n=t.colorMode;return{field:{_focusVisible:{borderColor:fr(n),boxShadow:"0px 1px 0px 0px ".concat(at(e,fr(n)))}}}}}},$l={defaultProps:{colorScheme:"primary"}},hr={defaultProps:{colorScheme:"primary"}},Bl={baseStyle:{w:"100%",h:"100%","& .ag-header-cell:not(.ag-header-cell-auto-height) .ag-header-cell-comp-wrapper":{height:"unset"},"& .ag-cell":{display:"flex",lineHeight:"unset",alignItems:"center"},"& .ag-cell, & .ag-header-cell":{padding:"8px 9px"},"& .ag-row, & .ag-header":{border:"unset"},"&.ag-theme-alpine .ag-row .ag-cell, &.ag-theme-alpine .ag-header .ag-header-cell":{borderRight:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, #dde2eb))",borderBottom:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, #dde2eb))"},"&.ag-theme-alpine-dark .ag-row .ag-cell, &.ag-theme-alpine-dark .ag-header .ag-header-cell":{borderRight:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, rgba(88, 86, 82, 0.5)))",borderBottom:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, rgba(88, 86, 82, 0.5)))"},"& .ag-pinned-left-cols-container, & .ag-pinned-left-header":{boxShadow:"var(--chakra-shadows-lg)",zIndex:1},"&.ag-theme-alpine":{"& .ag-row .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-background-color, #fff)"},"& .ag-row-odd .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-odd-row-background-color, #fcfcfc)"}},"&.ag-theme-alpine-dark":{"& .ag-row .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-background-color, #181d1f)"},"& .ag-row-odd .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-odd-row-background-color, #222628)"}}}},Wl={baseStyle:function(t){var e=t.colorMode,n=t.zIndex;return{display:"none","&.show-app-clip":{display:"block"},"& .rmg-app-clip__overlay":{position:"fixed",top:0,left:0,w:"100vw",h:"100vh",zIndex:n,bg:"blackAlpha.600"},"& .rmg-app-clip__container":{position:"fixed",top:0,left:0,w:"100vw",h:"100vh",display:"flex",justifyContent:"center",alignItems:"flex-start",zIndex:n},"& .rmg-app-clip__content":{display:"flex",w:"100%",maxW:"md",my:16,bg:e==="light"?"white":"gray.700",boxShadow:"lg",borderRadius:"md",overflow:"hidden"}}},sizes:{xs:{"& .rmg-app-clip__content":{maxW:"xs"}},sm:{"& .rmg-app-clip__content":{maxW:"sm"}},lg:{"& .rmg-app-clip__content":{maxW:"lg"}},xl:{"& .rmg-app-clip__content":{maxW:"xl"}},full:{"& .rmg-app-clip__content":{maxW:"100vw",minH:"var(--chakra-vh)",my:0,borderRadius:0}}}},Vl={baseStyle:function(t){var e=t.colorMode;return{p:1,my:1,w:"100%",borderRadius:2,bg:e==="dark"?"gray.700":"gray.50",boxShadow:"lg"}}},Ul={baseStyle:function(t){var e=t.colorMode;return{"& thead":{position:"sticky",top:0,zIndex:10},"& td, th":{borderRight:"1px solid",borderColor:e==="dark"?"whiteAlpha.400":"blackAlpha.200",backgroundColor:e==="dark"?"gray.700":"gray.50",whiteSpace:"nowrap","&:first-of-type":{position:"sticky",left:0,zIndex:1},"&:last-of-type":{borderRight:"none",position:"sticky",right:0,zIndex:1}}}}},Hl={baseStyle:function(){return{flexGrow:1,flexDirection:"column",justifyContent:"center",alignItems:"flex-start",h:10,"& span":{maxW:"100%",textOverflow:"ellipsis",overflow:"hidden"},"& span:last-of-type":{fontWeight:"normal",fontSize:"2xs"}}}},Gl={baseStyle:{flexDirection:"column",alignItems:"center",maxH:"100%",overflowY:"auto","& .chakra-alert__icon":{w:"40px",h:"40px",mr:0},"& .chakra-alert__title":{mt:4,mb:1,fontSize:"lg"},"& .chakra-alert__desc":{w:"100%","& p":{my:1},"& details":{whiteSpace:"pre-wrap",fontFamily:"monospace",fontSize:"sm"}}}},Kl={baseStyle:{display:"flex",flexDirection:"column",m:1,w:"unset","& label":{overflow:"hidden",fontSize:12,mr:0,mb:-.5,whiteSpace:"nowrap",textOverflow:"ellipsis"},"&.rmg-label__one-line":{flexDirection:"row",alignItems:"center","& label:first-of-type":{mr:"auto"}}}},Yl={baseStyle:{display:"inline-flex",alignItems:"center","& > button:first-of-type":{ml:1}}},Jl={baseStyle:{w:"100%",h:"100%",position:"absolute",top:0,right:0,alignItems:"center",justifyContent:"center","& .rmg-loader__backdrop":{position:"absolute",w:"100%",h:"100%",zIndex:1500,bg:"blackAlpha.400"},"& .chakra-progress":{zIndex:2e3}}},je=function(t){return t==="dark"?"primary.300":"primary.500"},Xl={baseStyle:function(t){var e=t.theme,n=t.colorMode;return{"& .rmg-multi-select__wrapper":{position:"relative",w:"100%",h:"25.75px",transform:"translateY(1.75px)",cursor:"default"},"& .rmg-multi-select__field":{position:"relative",w:"100%",minW:0,outline:0,appearance:"none",transitionProperty:"common",transitionDuration:"normal",pb:"1px",fontSize:"sm",h:"6",borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_active:{borderColor:je(n),boxShadow:"0px 1px 0px 0px ".concat(at(e,je(n)))},_focus:{borderColor:je(n),boxShadow:"0px 1px 0px 0px ".concat(at(e,je(n)))},_focusVisible:{borderColor:je(n),boxShadow:"0px 1px 0px 0px ".concat(at(e,je(n)))},"&.active":{borderColor:je(n),boxShadow:"0px 1px 0px 0px ".concat(at(e,je(n)))},"& > span:last-of-type":{position:"absolute",right:8}},"& .rmg-multi-select__icon-wrapper":{display:"inline-flex",justifyContent:"center",w:6,h:"100%",position:"absolute",right:2,top:0,fontSize:"xl","& svg":{h:"1em",w:"1em"}},"& .chakra-popover__content":{w:"unset",minW:200},"& .chakra-popover__body":{p:0,"li label":{p:2,w:"100%",_hover:{bg:n==="dark"?"whiteAlpha.200":"gray.100"},_active:{bg:n==="dark"?"whiteAlpha.300":"gray.200"}}}}}},vn=function(){return vn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},vn.apply(this,arguments)},ql={overflow:"hidden",textOverflow:"ellipsis",textWrap:"nowrap"},Ql={baseStyle:function(t){var e=t.noWrap;return vn({minH:6,fontSize:"sm"},e?ql:{textWrap:"pretty"})}},Zl={baseStyle:{position:"relative",flexDirection:"column",flex:1,overflow:"hidden",background:"inherit"}},eu={baseStyle:{alignItems:"center",flexWrap:"wrap",pl:2,pr:3,py:1,zIndex:10}},tu={baseStyle:{position:"relative",background:"inherit"}},nu={baseStyle:{display:"flex",alignItems:"center",flexWrap:"wrap",position:"sticky",top:0,background:"inherit",px:2,py:1,zIndex:5}},ru={baseStyle:function(t){var e=t.colorMode,n=t.width,r=t.alwaysOverlay;return{height:"100%",position:r?"absolute":{base:"absolute",lg:"relative"},right:r?0:{base:0,lg:"unset"},background:e==="light"?"white":"gray.800",boxShadow:"lg",flexShrink:0,flexDirection:"column",transition:"0.3s ease-in-out",maxW:0,visibility:"hidden",zIndex:5,"&.show-side-panel":{maxW:{base:"100%",sm:n},w:{base:"100%",sm:"unset"},visibility:"initial"},"& .rmg-side-panel__inner":{flexDirection:"column",h:"100%",w:{base:"100vw",sm:n}},"& .rmg-side-panel__header":{flexShrink:0,pl:3,pr:1,py:0,"& button":{ml:"auto"}},"& .rmg-side-panel__body":{display:"flex",flexDirection:"column",flex:1,overflowY:"auto",p:1},"& .rmg-side-panel__footer":{display:"flex",justifyContent:"flex-end",p:1}}}},iu={baseStyle:{h:6,alignItems:"center","& .chakra-button:first-of-type":{mr:1},"& .chakra-button:last-of-type":{ml:1}}},ou={baseStyle:{position:"relative",flexDirection:"column",height:"100%",overflow:"hidden",background:"inherit"}},au={baseStyle:{px:2,alignItems:"center",zIndex:15,minH:10,transition:"0.3s ease-in-out"}},su={Input:tn,Checkbox:hr,Select:tn,Slider:$l,Switch:hr,Textarea:tn,RmgAgGrid:Bl,RmgAppClip:Wl,RmgCard:Vl,RmgDataTable:Ul,RmgEnrichedButton:Hl,RmgErrorBoundary:Gl,RmgLabel:Kl,RmgLineBadge:Yl,RmgLoader:Jl,RmgMultiSelect:Xl,RmgOutput:Ql,RmgPage:Zl,RmgPageHeader:eu,RmgSection:tu,RmgSectionHeader:nu,RmgSidePanel:ru,RmgThrottledSlider:iu,RmgWindow:ou,RmgWindowHeader:au},xn=function(){return xn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},xn.apply(this,arguments)},pr="chakra-ui-color-mode",lu=function(){var t=q.getColourMode()==="system";return q.isStandaloneWindow()&&(t?window.localStorage.removeItem(pr):window.localStorage.setItem(pr,q.getColourMode())),{initialColorMode:"system",useSystemColorMode:t}},uu={primary:xn({},lo.colors.teal)},cu={global:{".mw-full":{w:"100%",flexBasis:"100%"}}},du=function(){return uo({config:lu(),colors:uu,styles:cu,components:su})},fu=function(t){var e=t.children;return c.jsx(co,{theme:du(),children:c.jsx(hu,{children:e})})},hu=function(t){var e=t.children,n=fo().setColorMode,r=ho();return v.useEffect(function(){console.log("[rmg-components] RMG theme is initialised with",r.config),q.onColourModeChange(function(i){if(i==="system"){var o=window.matchMedia("(prefers-color-scheme: dark)").matches;n(o?"dark":"light")}else n(i)})},[n]),c.jsx(c.Fragment,{children:e})},y=(t=>(t.Predefined="predefined",t.Customized="customized",t.Punctuation="punctuation",t))(y||{});const pu=t=>t.map(e=>e.text).join(""),gu=t=>t.map(e=>e.pinyin).join("");var R=(t=>(t.BreakWeak=" ",t.BreakMedium=",",t.BreakStrong=".",t))(R||{});const j=(t,e)=>{let n="";return[p.ChineseWuSimplifiedXiaotong,p.ChineseMandarinSimplified].includes(t)?n={" ":" ",",":"，",".":"。"}[e]:[p.ChineseWuSimplifiedYunzhe].includes(t)&&(n={" ":" ",",":", ",".":". "}[e]),{type:"punctuation",voiceName:t,text:n,pinyin:n,subType:e}},Ee=16,he=Ee*2,ze=20;var p=(t=>(t.ChineseWuSimplifiedXiaotong="shmetro-wuu",t.ChineseWuSimplifiedYunzhe="shmetro-en",t.ChineseMandarinSimplified="shmetro-zh",t))(p||{}),$t=(t=>(t.ShanghaiMetro="shmetro",t))($t||{});const td={shmetro:{defaultLang:{"shmetro-zh":"zh-CN","shmetro-wuu":"wuu-CN","shmetro-en":"en-GB"},preferredPreviewVoiceName:{"shmetro-zh":{win:"Microsoft Huihui Desktop - Chinese (Simplified)",mac:"Tingting",linux:void 0,ios:"Ting-Ting",android:void 0},"shmetro-wuu":void 0,"shmetro-en":{win:"Microsoft George - English (United Kingdom)",mac:"Daniel",linux:void 0,ios:"Daniel",android:void 0}}}};var P=(t=>(t.Arrival="arr",t.Stop="stp",t.Departure="dep",t.Midway="mdw",t))(P||{});const mu={version:1,style:"shmetro",baseVariants:{},stations:{},metadata:{}},nd=t=>{const e=[];for(const n in t)for(const r in t[n])for(const i in t[n][r]){const o=t[n][r][i];o.length!==0&&e.push("".concat(n,"_").concat(r,"_").concat(i,": ").concat(gu(o)))}return e},yu=t=>{const e=structuredClone(t);for(const n in t)for(const r in t[n])for(const i in t[n][r]){const a=t[n][r][i].map(s=>{const l=structuredClone(s);return delete l.text,delete l.voiceName,l});e[n][r][i]=a}return e};var Fe=(t=>(t.APP="app",t.PARAM="param",t.ACCOUNT="rmg-home__account",t))(Fe||{}),li=(t=>(t.APP_LOAD="APP_LOAD",t.IMPORT_RMG_PARAM="IMPORT_RMG_PARAM",t.DOWNLOAD_PARAM="DOWNLOAD_PARAM",t.DOWNLOAD_TEXT="DOWNLOAD_TEXT",t))(li||{}),vu=(t=>(t.left="left",t.right="right",t))(vu||{}),xu=(t=>(t.left="l",t.right="r",t))(xu||{}),In=(t=>(t.local="local",t.express="express",t.direct="direct",t))(In||{});const bu={telemetry:{app:!0,project:!0},preference:{import:{route:0,service:In.local},previewAudio:{}}},ui=Ze({name:"app",initialState:bu,reducers:{setTelemetryProject:(t,e)=>{t.telemetry.project=e.payload},setPreferenceImport:(t,e)=>{t.preference.import=e.payload},setPreviewAudioBulk:(t,e)=>{t.preference.previewAudio=e.payload},setPreviewAudio:(t,e)=>{const[n,r]=e.payload;t.preference.previewAudio[n]=r},removePreviewAudio:(t,e)=>{t.preference.previewAudio[e.payload]&&delete t.preference.previewAudio[e.payload]}}}),{setTelemetryProject:wu,setPreferenceImport:Su,setPreviewAudioBulk:Cu,setPreviewAudio:rd,removePreviewAudio:id}=ui.actions,Ou=ui.reducer;var ci=(t=>(t.CREATED="CREATED",t.CANCELLED="CANCELLED",t.PROCESSING="PROCESSING",t.COMPLETED="COMPLETED",t.FAILED="FAILED",t))(ci||{});const Pu={reconciledPhrases:{},stationVariantsExpanded:!0,showDefaultVariants:!1,currentStyle:$t.ShanghaiMetro,currentStationID:"kaxg",currentStage:P.Departure,currentVoice:p.ChineseMandarinSimplified,showWelcome:!1,globalAlerts:{}},di=Ze({name:"runtime",initialState:Pu,reducers:{setReconciledPhrases:(t,e)=>{t.reconciledPhrases=e.payload},setStationVariantsExpanded:(t,e)=>{t.stationVariantsExpanded=e.payload},setShowDefaultVariants:(t,e)=>{t.showDefaultVariants=e.payload},setCurrentStationID:(t,e)=>{t.currentStationID=e.payload},setCurrentStage:(t,e)=>{t.currentStage=e.payload},setCurrentVoice:(t,e)=>{t.currentVoice=e.payload},setRmtToken:(t,e)=>{t.rmtToken=e.payload},removeRmtToken:t=>{t.rmtToken=void 0},setShowWelcome:(t,e)=>{t.showWelcome=e.payload},setGlobalAlert:(t,e)=>{const{status:n,message:r,url:i,linkedApp:o}=e.payload;t.globalAlerts[n]={message:r,url:i,linkedApp:o}},closeGlobalAlert:(t,e)=>{delete t.globalAlerts[e.payload]}}}),{setReconciledPhrases:Au,setStationVariantsExpanded:fi,setShowDefaultVariants:gr,setCurrentStationID:hi,setCurrentStage:pi,setCurrentVoice:od,setRmtToken:Ru,removeRmtToken:_u,setShowWelcome:bn,setGlobalAlert:ad,closeGlobalAlert:sd}=di.actions,ju=di.reducer,Eu=t=>{const e=r=>{if(!r){Xe.debug("Account string is empty, logging out"),t.dispatch(_u());return}const i=JSON.parse(r),{token:o}=i;Xe.debug("Updating token to: ".concat(o)),t.dispatch(Ru(o))};let n=localStorage.getItem(Fe.ACCOUNT);e(n!=null?n:void 0),window.onstorage=()=>{const r=localStorage.getItem(Fe.ACCOUNT);n!==r&&(n=r,Xe.debug("Account string changed to: ".concat(r)),e(r!=null?r:void 0))}},Lu="https://railmapgen.org/v1";var pt=(t=>(t.AUDIOTASKS="/audio",t.SUBSCRIPTION_REDEEM="/subscription/redeem",t))(pt||{});const Bt=async(t,e,n)=>{const r={accept:"application/json","Content-Type":"application/json","Cache-Control":"no-cache"},i=structuredClone(r);n&&(i.Authorization="Bearer ".concat(n));const o=await fetch("".concat(Lu).concat(t),{headers:i,...e});if(o.status!==401)return o},Mu={isModalOpen:!1,tasks:[],points:0},Wt=Tt("audio/fetchTasks",async(t,{getState:e,rejectWithValue:n})=>{const{rmtToken:r}=e().runtime;if(!r)return n("No token.");const i=await Bt(pt.AUDIOTASKS,{},r);return i?i.status!==200?n(i.text):await i.json():n("Can not recover from expired refresh token.")}),ld=Tt("audio/cancelTask",async(t,{getState:e,dispatch:n,rejectWithValue:r})=>{const{rmtToken:i}=e().runtime;if(!i)return r("No token.");const o=await Bt("".concat(pt.AUDIOTASKS,"/").concat(t),{method:"PATCH",body:JSON.stringify({status:ci.CANCELLED})},i);if(!o)return r("Can not recover from expired refresh token.");if(o.status!==200)return r(o.text);n(Wt())}),ud=Tt("audio/newTask",async(t,{getState:e,dispatch:n,rejectWithValue:r})=>{const{rmtToken:i,reconciledPhrases:o}=e().runtime;if(!i)return r("No token.");const a=yu(o),s=await Bt(pt.AUDIOTASKS,{method:"POST",body:JSON.stringify({data:a})},i);if(!s)return r("Can not recover from expired refresh token.");if(s.status!==201)return r(s.text);n(Wt())}),cd=Tt("audio/redeem",async(t,{getState:e,dispatch:n,rejectWithValue:r})=>{const{rmtToken:i}=e().runtime;if(!i)return r("No token.");const o=await Bt(pt.SUBSCRIPTION_REDEEM,{method:"POST",body:JSON.stringify({cdkey:t})},i);if(!o)return r("Can not recover from expired refresh token.");if(o.status!==202)return r(o.text);n(Wt())}),gi=Ze({name:"app",initialState:Mu,reducers:{openAudioModal:t=>{t.isModalOpen=!0},closeAudioModal:t=>{t.isModalOpen=!1}},extraReducers:t=>{t.addCase(Wt.fulfilled,(e,n)=>{e.tasks=n.payload.tasks,e.points=n.payload.points})}}),{openAudioModal:dd,closeAudioModal:fd}=gi.actions,ku=gi.reducer,Iu={content:"ご欢１迎1乘こじ。nihao",columns:200,realColumns:200,scale:.2},mi=Ze({name:"crawl",initialState:Iu,reducers:{setContent:(t,e)=>{t.content=e.payload},setColumns:(t,e)=>{t.columns=e.payload},setRealColumns:(t,e)=>{t.realColumns=e.payload},setScale:(t,e)=>{t.scale=e.payload}}}),{setContent:yi,setColumns:hd,setRealColumns:Tu,setScale:pd}=mi.actions,Du=mi.reducer,zu={rmgParam:void 0,route:0,service:In.local},vi=Ze({name:"runtime",initialState:zu,reducers:{setRMGParam:(t,e)=>{t.rmgParam=e.payload},removeRMGParam:t=>{t.rmgParam=void 0},setRoute:(t,e)=>{t.route=e.payload},setService:(t,e)=>{t.service=e.payload}}}),{setRMGParam:gd,removeRMGParam:md,setRoute:yd,setService:vd}=vi.actions,Nu=vi.reducer,Fu={project:mu},xi=Ze({name:"param",initialState:Fu,reducers:{setProject:(t,e)=>{t.project=e.payload},setVariant:(t,e)=>{var s,l;const{stnID:n,stage:r,voiceName:i,variant:o,value:a}=e.payload;(l=(s=t.project.stations[n])==null?void 0:s[r])!=null&&l[i]&&(t.project.stations[n][r][i][o]=a)},setBaseVariant:(t,e)=>{var a;const{stage:n,voiceName:r,variant:i,value:o}=e.payload;(a=t.project.baseVariants[n])!=null&&a[r]&&(t.project.baseVariants[n][r][i]=o)}}}),{setProject:mr,setVariant:xd,setBaseVariant:bd}=xi.actions,$u=xi.reducer,Bu=Ao({app:Ou,crawl:Du,param:$u,runtime:ju,audio:ku,import:Nu}),bi=Ro(),Wu=(t={})=>_o({reducer:Bu,middleware:e=>e().prepend(bi.middleware),preloadedState:t}),It=Wu(),Tn=()=>jo(),qe=Eo,nn=bi.startListening;window.rmgStore=It;const Vu=()=>{const[t,e]=v.useState({width:void 0,height:void 0});return v.useEffect(()=>{function n(){e({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",n),n(),()=>window.removeEventListener("resize",n)},[]),t},wd=()=>{const[t,e]=v.useState([]);return v.useEffect(()=>{const n=window.speechSynthesis,r=()=>{const i=n.getVoices();e(i)};return n.addEventListener("voiceschanged",r),r(),()=>{n.removeEventListener("voiceschanged",r)}},[]),t},Uu=4,Hu=8,Gu=32,Ku=3,Yu=8,yr=4;function Le(t,e){return t.getUint32(e,!0)}function Ju(t){const e=new DataView(t),n=new Uint8Array(t);if(n[0]!==1||n[1]!==102||n[2]!==99||n[3]!==112)throw new Error("Not a valid PCF file (bad signature)");const r=Le(e,4);let i=8;const o=[];for(let f=0;f<r;f++){const g=Le(e,i+0),m=Le(e,i+4),x=Le(e,i+8),b=Le(e,i+12);o.push({type:g,format:m,size:x,offset:b}),i+=16}const a=o.find(f=>f.type===Uu);if(!a)throw new Error("No PCF_METRICS in file");const s=qu(e,a),l=o.find(f=>f.type===Hu);if(!l)throw new Error("No PCF_BITMAPS in file");const u=Qu(e,n,l,s),d=o.find(f=>f.type===Gu);if(!d)throw new Error("No PCF_BDF_ENCODINGS in file");const h=Zu(e,d);return{allBitmaps:u,encData:h}}const Xu=(t,e,n)=>{const r=ec(n,e);return r==null?(console.warn("No glyph found for character: '".concat(n,"'")),null):t[r]};function qu(t,e){const n=e.offset,o=(Le(t,n)&256)!==0;let a=n+4,s;o?(s=t.getInt16(a),a+=2):(s=t.getInt32(a),a+=4);const l=[];for(let u=0;u<s;u++){let d,h,f,g,m;if(o){const x=t.getUint8(a+0)-128,b=t.getUint8(a+1)-128,C=t.getUint8(a+2)-128,S=t.getUint8(a+3)-128,A=t.getUint8(a+4)-128;d=x,h=b,f=C,g=S,m=A,a+=5}else d=t.getInt16(a+0),h=t.getInt16(a+2),f=t.getInt16(a+4),g=t.getInt16(a+6),m=t.getInt16(a+8),a+=10,a+=2;l.push({leftSideBearing:d,rightSideBearing:h,characterWidth:f,ascent:g,descent:m})}return l}function Qu(t,e,n,r){const i=n.offset,o=Le(t,i);let a=i+4;const s=o&Ku,l=(s===0?8:s===1?16:32)/8,u=(o&Yu)===0,d=t.getInt32(a);a+=4;const h=[];for(let m=0;m<d;m++)h.push(t.getInt32(a)),a+=4;t.getInt32(a+0),t.getInt32(a+4),t.getInt32(a+8),t.getInt32(a+12),a+=16;const f=a,g=new Array(d);for(let m=0;m<d;m++){const x=r[m],b=x.rightSideBearing-x.leftSideBearing,C=x.ascent+x.descent,S=Math.max(x.characterWidth,b),A=h[m],_=f+A,k=[];let N=_;for(let Z=0;Z<C;Z++){const G=new Array(b).fill(!1);for(let se=0;se<l;se++){const D=e[N+se];for(let X=0;X<8;X++){const W=se*8+X;if(W<b)if(u){const $=1<<X;G[W]=(D&$)!==0}else{const $=1<<7-X;G[W]=(D&$)!==0}}}S>b&&G.push(...new Array(S-b).fill(!1)),k.push(G),N+=l}let L=yr;x.descent!==0&&(L=-x.descent+yr);for(let Z=0;Z<L;Z++){const G=new Array(S).fill(!1);k.push(G)}g[m]=k}return g}function Zu(t,e){const n=e.offset;Le(t,n);let r=n+4;const i=t.getInt16(r);r+=2;const o=t.getInt16(r);r+=2;const a=t.getInt16(r);r+=2;const s=t.getInt16(r);r+=2;const l=t.getInt16(r);r+=2;const u=(o-i+1)*(s-a+1),d=new Uint16Array(u);for(let h=0;h<u;h++)d[h]=t.getInt16(r),r+=2;return{minCharOrByte2:i,maxCharOrByte2:o,minByte1:a,maxByte1:s,defaultChar:l,glyphIndexes:d}}function ec(t,e){const n=t.codePointAt(0);if(n==null)return null;const r=n>>8&255,i=n&255;if(r<e.minByte1||r>e.maxByte1||i<e.minCharOrByte2||i>e.maxCharOrByte2)return null;const o=e.maxCharOrByte2-e.minCharOrByte2+1,a=r-e.minByte1,s=i-e.minCharOrByte2,l=a*o+s,u=e.glyphIndexes[l];return u===65535?null:u}const tc=()=>{const t=Tn(),{content:e,columns:n,realColumns:r,scale:i}=qe(b=>b.crawl),o=oe.useRef(null),a=oe.useRef([]),s=oe.useRef(null),[l,u]=oe.useState([]),[d,h]=oe.useState([]),f=oe.useCallback(()=>{if(!a.current||!s.current||!e)return;Xe.debug('Reconciling bitmaps for "'.concat(e,'"'));const b=[],C=[];for(const S of e){const A=Xu(a.current,s.current,S);A&&(A.length<ze&&A.unshift(...Array.from({length:ze-A.length},()=>Array(A[0].length).fill(!1))),b.push(A),C.push(A[0].length))}u(b),h(C),t(Tu(C.reduce((S,A)=>S+A,0)))},[e]);oe.useEffect(()=>f(),[e]),oe.useEffect(()=>{(async()=>{const S=await(await fetch("fonts/wenquanyi_12pt.pcf")).arrayBuffer();o.current=S;const{allBitmaps:A,encData:_}=Ju(S);a.current=A,s.current=_,f()})()},[]);const g=n-r&&0,m=Math.floor(g/2),x=g-m;return c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",id:"crawl",style:{backgroundColor:"black"},viewBox:"0 0 ".concat(r*he," ").concat(ze*he),width:r*he*i,height:ze*he*i,children:[c.jsxs("defs",{children:[c.jsxs("filter",{id:"glow",children:[c.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),c.jsxs("feMerge",{children:[c.jsx("feMergeNode",{in:"coloredBlur"}),c.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),c.jsxs("filter",{id:"neon",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[c.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"2",floodColor:Ot,floodOpacity:"1"}),c.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"5",floodColor:Ot,floodOpacity:"0.7"}),c.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"10",floodColor:Ot,floodOpacity:"0.4"})]}),c.jsxs("filter",{id:"orange-glow",filterUnits:"userSpaceOnUse",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[c.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"5",result:"blur5"}),c.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"10",result:"blur10"}),c.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"20",result:"blur20"}),c.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"30",result:"blur30"}),c.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"50",result:"blur50"}),c.jsxs("feMerge",{result:"blur-merged",children:[c.jsx("feMergeNode",{in:"blur10"}),c.jsx("feMergeNode",{in:"blur20"}),c.jsx("feMergeNode",{in:"blur30"}),c.jsx("feMergeNode",{in:"blur50"})]}),c.jsx("feColorMatrix",{result:"red-blur",in:"blur-merged",type:"matrix",values:"1 0 0 0 0\n                                0 0.65 0 0 0\n                                0 0 0.1 0 0\n                                0 0 0 1 0"}),c.jsxs("feMerge",{children:[c.jsx("feMergeNode",{in:"red-blur"})," ",c.jsx("feMergeNode",{in:"blur5"})," ",c.jsx("feMergeNode",{in:"SourceGraphic"})," "]})]})]}),g>0&&c.jsx("g",{id:"remaining-left",children:Array(m).fill(0).map((b,C)=>Array(ze).fill(0).map((S,A)=>c.jsx(rn,{x:C*he+Ee,y:A*he+Ee},"rl".concat(C).concat(A))))}),l.map((b,C)=>c.jsx("g",{id:e.at(C),children:b.map((S,A)=>S.map((_,k)=>c.jsx(rn,{x:k*he+d.slice(0,C).reduce((N,L)=>N+L,0)*he+Ee+(g>0?m*he:0),y:A*he+Ee,on:_},e.at(C)+k.toString()+A.toString())))},"".concat(e.at(C),"+").concat(C,"}"))),g>0&&c.jsx("g",{id:"remaining-right",children:Array(x).fill(0).map((b,C)=>Array(ze).fill(0).map((S,A)=>c.jsx(rn,{x:(m+r+C)*he+Ee,y:A*he+Ee},"rr".concat(C).concat(A))))})]})},nc=Ee-2,Ot="orange",rn=({x:t,y:e,on:n=!1})=>c.jsx("circle",{cx:t,cy:e,r:nc,fill:n?Ot:"dimgray",filter:n?"url(#neon)":void 0});function Sd(t){return H({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"},child:[]}]})(t)}function Cd(t){return H({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 19H5V5h7V3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"},child:[]}]})(t)}function Od(t){return H({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"},child:[]}]})(t)}function Pd(t){return H({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7 1.62-4.33L19.12 17h-3.24z"},child:[]}]})(t)}function Ad(t){return H({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"},child:[]}]})(t)}function Rd(t){return H({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"},child:[]}]})(t)}function _d(t){return H({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M8 5v14l11-7z"},child:[]}]})(t)}function jd(t){return H({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"},child:[]}]})(t)}function Ed(t){return H({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z"},child:[]}]})(t)}function Ld(t){return H({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"},child:[]}]})(t)}function Md(t){return H({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z"},child:[]}]})(t)}function kd(t){return H({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"},child:[]}]})(t)}function rc(t){return H({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"},child:[]}]})(t)}function Id(t){return H({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]}]})(t)}function Td(t){return H({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]}]})(t)}function Dd(t){return H({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19 9h-4V3H9v6H5l7 7 7-7zm-8 2V5h2v6h1.17L12 13.17 9.83 11H11zm-6 7h14v2H5z"},child:[]}]})(t)}function zd(t){return H({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M9 16h6v-6h4l-7-7-7 7h4v6zm3-10.17L14.17 8H13v6h-2V8H9.83L12 5.83zM5 18h14v2H5z"},child:[]}]})(t)}function Nd(t){return H({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6zm-2 16c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"},child:[]}]})(t)}function Fd(t){return H({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z",opacity:".87"},child:[]},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"},child:[]}]})(t)}function $d(t){return H({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 14V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zm-2 0H3V6h14v8zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zm13 0v11c0 1.1-.9 2-2 2H4v-2h17V7h2z"},child:[]}]})(t)}function ic(){const{t}=wn(),e=Tn(),n=Ne("blue.100","blue.700"),r=Ne("gray.800","white"),i=Ne("gray.100","gray.700"),{project:o}=qe(h=>h.param),{metadata:a}=o,{currentStationID:s}=qe(h=>h.runtime),[l,u]=v.useState({});v.useEffect(()=>{const h=Object.fromEntries([["default",t("stationVariants.baseVariant")],...Object.entries(a).map(([f,{name:g}])=>[f,g])]);u(h)},[a]);const d=h=>{if(h==="default")e(gr(!0));else{e(gr(!1)),e(hi(h));const f=Object.keys(o.stations[h]).at(1);e(pi(f!=null?f:P.Departure))}};return c.jsx(po,{height:"100%",overflowY:"auto",children:c.jsxs(go,{variant:"simple",height:"100%",children:[c.jsx(mo,{children:c.jsx(Un,{children:c.jsx(yo,{width:"100%",onClick:()=>e(fi(!1)),children:c.jsxs(we,{justifyContent:"space-between",children:[c.jsx(ce,{fontSize:"md",alignSelf:"center",children:t("stationVariants.title")}),c.jsx(ln,{"aria-label":"Close",size:"sm",variant:"ghost",icon:c.jsx(rc,{transform:"rotate(90)"}),children:t("stationVariants.title")})]})})})}),c.jsx(vo,{children:Object.entries(l).map(([h,f])=>c.jsx(Un,{bg:h===s?n:"transparent",_hover:{bg:i},onClick:()=>d(h),children:c.jsx(xo,{children:c.jsx(ce,{color:r,children:f})})},h))})]})})}const oc=t=>{const{isOpen:e,onClose:n}=t,{t:r}=wn(),i=Ne("blue.700","blue.200"),o=Ne("gray.800","gray.200"),a=Ne("blue.50","blue.600");return c.jsxs(bo,{isOpen:e,onClose:n,size:"xl",scrollBehavior:"inside",children:[c.jsx(Pr,{backdropFilter:"blur(5px)"}),c.jsxs(wo,{borderRadius:"xl",overflow:"hidden",children:[c.jsx(Ar,{bgGradient:"linear(to-r, blue.500, teal.400)",color:"white",py:6,fontSize:"2xl",fontWeight:"bold",textAlign:"center",children:r("welcome.title")}),c.jsx(Rr,{color:"white",_hover:{bg:"rgba(255,255,255,0.2)"},size:"lg"}),c.jsx(_r,{p:8,children:c.jsxs(So,{spacing:6,align:"stretch",children:[c.jsx(ke,{textAlign:"center",mb:4,children:c.jsx(ce,{fontSize:"lg",color:o,children:r("welcome.desc")})}),c.jsxs(ke,{bg:a,p:4,borderRadius:"lg",children:[c.jsx(Co,{size:"md",color:i,mb:3,children:r("welcome.steps")}),c.jsxs(Oo,{spacing:3,children:[c.jsx(Xt,{children:c.jsx(ce,{fontWeight:"medium",children:r("welcome.step1")})}),c.jsx(Xt,{children:c.jsx(ce,{fontWeight:"medium",children:r("welcome.step2")})}),c.jsx(Xt,{children:c.jsx(ce,{fontWeight:"medium",children:r("welcome.step3")})})]})]}),c.jsx(ke,{bgGradient:"linear(to-r, teal.100, blue.100)",p:4,borderRadius:"lg",textAlign:"center",children:c.jsx(ce,{fontWeight:"bold",color:"teal.800",children:r("welcome.start")})})]})})]})]})},ac=oe.lazy(()=>qr(()=>import("./page-header-BfTRtyLk.js"),__vite__mapDeps([0,1,2,3]))),sc=oe.lazy(()=>qr(()=>import("./stage-D4wIQ6dW.js"),__vite__mapDeps([4,1,2,3])));function lc(){const{t}=wn(),e=Tn(),{project:{style:n}}=qe(f=>f.param),{stationVariantsExpanded:r,showWelcome:i}=qe(f=>f.runtime),{content:o,scale:a}=qe(f=>f.crawl),s=Vu(),{width:l=1280,height:u=720}=s,d=r?200:0,h=f=>{e(yi(f))};return c.jsx(fu,{children:c.jsxs(Nl,{children:[c.jsx(ac,{}),c.jsx(Fl,{children:c.jsxs(we,{flexDirection:"row",children:[r?c.jsx(ke,{style:{width:"200px",height:"calc(100vh - 40px)",overflowY:"auto"},children:c.jsx(ic,{})}):c.jsx(sn,{onClick:()=>e(fi(!0)),size:"lg",style:{position:"absolute",left:"0px",top:"0px"},borderRadius:"0px",children:t("stationVariants.title")}),c.jsxs(we,{width:"calc(100% - ".concat(d,"px)"),flexDirection:"column",children:[c.jsx(ke,{style:{overflowX:"auto"},children:c.jsx(tc,{})}),c.jsx(xl,{defaultValue:o,onDebouncedChange:h,m:"2"}),c.jsx(an,{}),c.jsx(ke,{style:{height:u-40-ze*he*a-10,overflowY:"auto"},children:n===$t.ShanghaiMetro&&c.jsx(sc,{})})]})]})}),c.jsx(oc,{isOpen:i,onClose:()=>e(bn(!1))})]})})}const uc={about:{title:"About",rma:"Rail Map Announcer",railmapgen:"A Rail Map Toolkit project",desc:"",contributors:"Contributors",content1:"reflexion,allegretto,you",content2:"2024/02/21 in Shanghai",contactUs:"Contact Us",github:"Project repository",githubContent:"Face any problems? Search or raise an issue here!",slack:"Slack group",slackContent:"Chat in these Slack channels!"},donation:{title:"Donation",openCollective:"Open Collective",viaUSD:"Donate in USD via Paypal or Visa card.",afdian:"爱发电",viaCNY:"Donate in CNY via Alipay or Wechat Pay."},paly:{previewWarning:"Not satisfied with the preview voice? Try voices generated by our lastest AI in export audio."},open:{config:"Import project",projectRMG:"Import from RMG project",invalidType:"Invalid file type! Only files exported from RMA are accepted.",unknownError:"Unknown error occurred while parsing the uploaded file! Please try again."},download:{config:"Export project",image:"Export image",audio:"Export audio",format:"Format",png:"PNG",svg:"SVG",scale:"Scale",disabledScaleOptions:"Some scale options are disabled due to your browser's canvas limitation.",disabledScaleOptionsWorkarounds:"Possible workarounds include generating the image from svg using this cli tool: ",shareInfo1:"I will attach ",shareInfo2:" and its link when I share this image.",termsAndConditions:"Terms and Conditions",termsAndConditionsInfo:"I agree to ",period:".",confirm:"Download"},settings:{title:"Settings",crawl:{title:"Crawl Settings",scale:"Scale"},previewAudio:{title:"Preferred Preview Voice",notModified:"Use style preference","shmetro-zh":"Shanghai Metro (Mandarin)","shmetro-en":"Shanghai Metro (English)"},telemetry:{title:"Telemetry",info:"To help improve Rail Map Announcer and keep contributors motivated to enhance the project, anonymous usage data is collected through Google Analytics. This data is used solely for enhancing the user experience and optimizing the tool's functionality and is never shared with third parties.",essential:"Basic",essentialTooltip:"Change this global setting in Rail Map Toolkit",essentialInfo:"Rail Map Announcer collects essential usage data that helps us understand how and when users interact with the tool. Rest assured, no personally identifiable information or data from your projects is ever collected.",essentialLink:"Click this link to see detailed fields that Google Analytics may collect.",additional:"Additional",additionalInfo:"Rail Map Announcer also gathers data on interactions, such as project creation or variants modification, when you input. These additional data is also anonymous and are only used for statistical analysis to help us make the tool better."}},audioTask:{title:"Audio Task",desc:"We are committed to generating the most natural station announcements. To achieve this, we conducted deep training based on a large number of samples. Experience the highest quality announcements powered by the latest large-scale machine learning models!",note1:"Please note that currently only Shanghai-style station announcements are available.",note2:"Due to computational limitations, please be patient after submitting your request - we aim to process all requests within 30 hours.",note3:"Please download and save your creations promptly, as we only guarantee data storage for 30 days.",note4:"To ensure the best English announcements, please replace all pinyin parts in 'station name pinyin' with Chinese characters, such as '莘庄 University' instead of 'Xinzhuang University'.",exampleZH:"本次列车终点站 上海宝山站。下一站 工口足球场。开左边门。可换乘三号线。",exampleEN:"The terminal of this train is 莘庄 University. Next station is 五角场 Railway Station. Doors will open on the right.",audioNotSupported:"Your browser does not support audio playback. Chrome or Firefox is recommended.",loginFirst:"Please log in first to generate audio with AI.",topUp:"Top up",table:{id:"ID",status:"Status",createdAt:"Created At",updatedAt:"Updated At",points:"Points",actions:"Actions"},report1:"If you encounter any issues with the generated announcements, ",report2:"please create a GitHub issue. ",report3:"We will fully return your points after confirmation.",freeInternet1:"We believe in a free and open internet. You may also ",freeInternet2:"download raw text",freeInternet3:" and use in your preferred audio provider :)",redeem:{title:"Redeem your points",desc:"You can redeem your points to generate audio. CDKey could be purchased in the following sites:",input:"Enter your CDKey here:",redeem:"Redeem"},new:{title:"New Task",content1:"This will create a new task from the current project.",content2:"The estimated points consumed will be ",content3:"The actual points used is subject to the server.",content4:"You may cancel the task before processing to get a full points return.",create:"Create a new task"}}},cc={title:"Station Variants",baseVariant:"Base Variant"},dc={title:"Welcome to the Rail Map Announcer",desc:"Here, you can create and generate customized line displays and announcements!",steps:"🚇 Complete in just 3 steps",step1:"Import your work from the Rail Map Generator (top-right)",step2:"Adjust details like door opening direction",step3:"Click 'Play' (top-right) to preview announcements",start:"We've prepared a sample project—close this window and start exploring! :)"},fc={header:uc,stationVariants:cc,welcome:dc,import:{title:"Import RMG Project",goodToGo:"All set! Import this RMG work now.",routes:"Select the route you want to import",services:"Select the service you want to import",service:{local:"Local",express:"Express",direct:"Direct"},import:"Import"}},hc={about:{title:"关于",rma:"地铁线路图放送机",railmapgen:"地铁线路图工具包项目",desc:"",contributors:"贡献者",content1:"reflexion,allegretto,you",content2:"2024/02/21 于上海",contactUs:"联系我们",github:"项目仓库",githubContent:"遇到问题？在这里搜索或提交问题！",slack:"Slack群组",slackContent:"在这些Slack频道中聊天！"},donation:{title:"捐赠",openCollective:"Open Collective",viaUSD:"通过Paypal或Visa卡以美元捐赠。",afdian:"爱发电",viaCNY:"通过支付宝或微信支付以人民币捐赠。"},paly:{previewWarning:"对预览声音不满意？试试在导出音频中使用我们最新大模型生成的声音。"},open:{config:"导入项目",projectRMG:"从RMG项目导入",invalidType:"文件类型无效！只接受从RMA导出的文件。",unknownError:"解析上传文件时发生未知错误！请重试。"},download:{config:"导出项目",image:"导出图片",audio:"导出音频",format:"格式",png:"PNG",svg:"SVG",scale:"缩放比例",disabledScaleOptions:"由于浏览器的画布限制，某些缩放比例选项被禁用。",disabledScaleOptionsWorkarounds:"可能的解决方法包括使用此CLI工具从svg生成图片：",shareInfo1:"我将在分享此图片时附上",shareInfo2:"及其链接。",termsAndConditions:"条款和条件",termsAndConditionsInfo:"我同意",period:"。",confirm:"下载"},settings:{title:"设置",crawl:{title:"走字屏",scale:"缩放比例"},previewAudio:{title:"首选预览语音",notModified:"使用风格偏好","shmetro-zh":"上海地铁（普通话）","shmetro-en":"上海地铁（英语）"},telemetry:{title:"遥测",info:"为了帮助改进地铁线路图放送机并激励贡献者增强项目，通过Google Analytics收集匿名使用数据。这些数据仅用于增强用户体验和优化工具功能，绝不会与第三方共享。",essential:"基本",essentialTooltip:"在地铁线路图工具包中更改此全局设置",essentialInfo:"地铁线路图放送机收集基本使用数据，帮助我们了解用户如何以及何时与工具互动。请放心，绝不会收集任何个人身份信息或项目数据。",essentialLink:"点击此链接查看Google Analytics可能收集的详细字段。",additional:"附加",additionalInfo:"地铁线路图放送机还会在您输入时收集交互数据，例如项目创建或变体修改。这些附加数据也是匿名的，仅用于统计分析，以帮助我们改进工具。"}},audioTask:{title:"声音任务",desc:"我们致力于生成最自然的报站广播。为此，我们基于大量样本进行深度训练。欢迎体验由最新机器学习大模型提供的高质量广播！",note1:"请注意目前仅提供上海风格的报站广播。",note2:"由于算力限制，提交任务后请耐心等待，我们将尽力在30小时内处理完毕。",note3:"请及时下载保存您的作品，我们仅承诺保存30天内的数据。",note4:"为了保证最好的英文广播，请用汉字替换'station name pinyin'中所有拼音部分，如'莘庄 University'而非'Xinzhuang University'。",audioNotSupported:"您的浏览器不支持音频播放。推荐使用Chrome或Firefox浏览器。",loginFirst:"请先登录以使用大模型生成音频。",topUp:"充值",table:{id:"ID",status:"状态",createdAt:"创建时间",updatedAt:"更新时间",points:"积分",actions:"操作"},report1:"生成的广播遇到问题？",report2:"创建一个GitHub的议题。",report3:"我们将在确认后全额返还点数。",freeInternet1:"我们相信自由开放的互联网。您也可以",freeInternet2:"下载原始文本",freeInternet3:"并在您喜欢的声音提供商中使用 :)",redeem:{title:"点数兑换",desc:"您可以使用点数兑换音频生成服务。CDKey可在以下平台购买：",input:"在此输入您的CDKey：",redeem:"兑换"},new:{title:"新任务",content1:"这将从当前项目创建一个新任务。",content2:"预计消耗的积分为",content3:"实际使用的积分以服务器为准。",content4:"您可以在处理前取消任务以获得全额的点数返还。",create:"创建新任务"}}},pc={title:"车站变体",baseVariant:"基础变体"},gc={title:"欢迎来到地铁线路图放送机",desc:"在这里，您可以制作并生成专属于你的地铁线路走字屏和报站！",steps:"🚇 简单三步完成创作",step1:"右上角导入来自地铁线路图生成器的作品",step2:"修改诸如开门方向等的细节",step3:"点击右上角的播放预览报站音",start:"我们给你准备好了示例作品，关闭窗口后尽情体验吧 :)"},mc={header:hc,stationVariants:pc,welcome:gc,import:{title:"导入RMG作品",goodToGo:"一切就绪！立即导入此RMG作品。",routes:"选择要导入的路线",services:"选择要导入的班次类型",service:{local:"普通",express:"快速",direct:"直达"},import:"导入"}},yc={about:{title:"關於",rma:"地鐵線路圖放送機",railmapgen:"地鐵線路圖工具組專案",desc:"",contributors:"貢獻者",content1:"reflexion,allegretto,you",content2:"2024/02/21 於上海",contactUs:"聯絡我們",github:"項目倉庫",githubContent:"遇到任何問題？在這裡搜索或提出問題！",slack:"Slack 群組",slackContent:"在這些 Slack 頻道中聊天！"},donation:{title:"捐贈",openCollective:"Open Collective",viaUSD:"通過 Paypal 或 Visa 卡以美元捐贈。",afdian:"愛發電",viaCNY:"通過支付寶或微信支付以人民幣捐贈。"},paly:{previewWarning:"對預覽聲音不滿意？試試在導出音頻中使用我們最新大模型生成的聲音。"},open:{config:"導入項目",projectRMG:"從 RMG 項目導入",invalidType:"無效的文件類型！只接受從RMA匯出的檔案。",unknownError:"解析上傳文件時發生未知錯誤！請重試。"},download:{config:"導出項目",image:"導出圖片",audio:"導出音頻",format:"格式",png:"PNG",svg:"SVG",scale:"比例",disabledScaleOptions:"由於瀏覽器的畫布限制，某些比例選項已被禁用。",disabledScaleOptionsWorkarounds:"可能的解決方法包括使用此命令行工具從 svg 生成圖片：",shareInfo1:"我將在分享此圖片時附加 ",shareInfo2:" 及其鏈接。",termsAndConditions:"條款與條件",termsAndConditionsInfo:"我同意 ",period:"。",confirm:"下載"},settings:{title:"設置",crawl:{title:"走字螢幕",scale:"縮放比例"},previewAudio:{title:"首選預覽語音",notModified:"使用風格偏好","shmetro-zh":"上海地鐵（普通話）","shmetro-en":"上海地鐵（英語）"},telemetry:{title:"遙測",info:"為了幫助改進地鐵線路圖放送機並激勵貢獻者增強項目，通過 Google Analytics 收集匿名使用數據。這些數據僅用於增強用戶體驗和優化工具功能，絕不會與第三方共享。",essential:"基本",essentialTooltip:"在路綫圖工具組中更改此全局設置",essentialInfo:"地鐵線路圖放送機收集基本使用數據，幫助我們了解用戶如何以及何時與工具互動。請放心，絕不會收集任何個人身份信息或項目數據。",essentialLink:"點擊此鏈接查看 Google Analytics 可能收集的詳細字段。",additional:"附加",additionalInfo:"地鐵線路圖放送機還會收集互動數據，例如項目創建或變體修改時的輸入。這些附加數據也是匿名的，僅用於統計分析，以幫助我們改進工具。"}},audioTask:{title:"音頻任務",desc:"我們致力於生成最自然的報站廣播。為此，我們基於大量樣本進行了深度訓練。歡迎體驗由最新機器學習大模型提供的高品質廣播！",note1:"請注意目前僅提供上海風格的報站廣播。",note2:"由於算力限制，提交任務後請耐心等待，我們將盡力在30小時內處理完畢。",note3:"請及時下載保存您的作品，我們僅承諾保存30天內的數據。",note4:"為了確保最好的英文廣播，請用漢字替換'station name pinyin'中所有拼音部分，例如使用'莘庄 University'而不是'Xinzhuang University'。",audioNotSupported:"您的瀏覽器不支援音頻播放。推薦使用Chrome或Firefox瀏覽器。",loginFirst:"請先登入以使用大模型生成音頻。",topUp:"充值",table:{id:"ID",status:"狀態",createdAt:"創建時間",updatedAt:"更新時間",points:"點數",actions:"操作"},report1:"生成的廣播有問題？",report2:"建立一個 GitHub 議題。",report3:"我們將在確認後全額返還點數。",freeInternet1:"我們相信自由開放的互聯網。您也可以 ",freeInternet2:"下載原始文本",freeInternet3:" 並在您喜歡的音頻提供商中使用 :)",redeem:{title:"點數兌換",desc:"您可以使用點數兌換音頻生成服務。CDKey可在以下平台購買：",input:"在此輸入您的CDKey：",redeem:"兌換"},new:{title:"新任務",content1:"這將從當前項目創建一個新任務。",content2:"預計消耗的點數為 ",content3:"實際使用的點數以服務器為準。",content4:"您可以在處理前取消任務以獲得全額的點數回饋。",create:"創建新任務"}}},vc={title:"車站變體",baseVariant:"基礎變體"},xc={title:"歡迎來到地鐵路綫圖放送機",desc:"在這裡，您可以製作專屬的地鐵路綫走馬燈與報站廣播！",steps:"🚇 簡單三步驟完成",step1:"從右上角匯入「地鐵路綫圖產生器」的作品",step2:"調整開門方向等細節",step3:"點擊右上角「播放」預覽報站音",start:"我們已準備好示例作品，關閉此視窗即可開始體驗！ :)"},bc={header:yc,stationVariants:vc,welcome:xc,import:{title:"匯入RMG作品",goodToGo:"準備完成！立即匯入此RMG作品。",routes:"選擇要匯入的路線",services:"選擇要匯入的班次類型",service:{local:"普通車",express:"快速車",direct:"直達車"},import:"匯入"}},wc={about:{title:"について",rma:"地下鉄路線図放送機",railmapgen:"地下鉄路線図工具一式プロジェクト",desc:"",contributors:"貢献者",content1:"reflexion,allegretto,you",content2:"2024/02/21 上海にて",contactUs:"お問い合わせ",github:"プロジェクトリポジトリ",githubContent:"問題が発生しましたか？ここで検索またはイシューを提起してください！",slack:"Slackグループ",slackContent:"これらのSlackチャンネルでチャットしてください！"},donation:{title:"寄付",openCollective:"Open Collective",viaUSD:"PaypalまたはVisaカードでUSDで寄付してください。",afdian:"爱发电",viaCNY:"AlipayまたはWechat PayでCNYで寄付してください。"},paly:{previewWarning:"プレビューの音声に満足できないですか？エクスポート音声で私たちの最新AIが生成した音声をお試しください。"},open:{config:"プロジェクトをインポート",projectRMG:"RMGプロジェクトからインポート",invalidType:"無効なファイルタイプです！RMAからエクスポートされたファイルのみが受け入れられます。",unknownError:"アップロードされたファイルの解析中に不明なエラーが発生しました！もう一度お試しください。"},download:{config:"プロジェクトをエクスポート",image:"画像をエクスポート",audio:"音声をエクスポート",format:"フォーマット",png:"PNG",svg:"SVG",scale:"スケール",disabledScaleOptions:"ブラウザのキャンバス制限により、一部のスケールオプションは無効です。",disabledScaleOptionsWorkarounds:"可能な回避策としては、このCLIツールを使用してSVGから画像を生成することがあります: ",shareInfo1:"この画像を共有する際に ",shareInfo2:" とそのリンクを添付します。",termsAndConditions:"利用規約",termsAndConditionsInfo:"私は以下に同意します ",period:"。",confirm:"ダウンロード"},settings:{title:"設定",crawl:{title:"ドットマトリクス文字",scale:"スケール"},previewAudio:{title:"優先プレビュー音声",notModified:"風格設定を使用","shmetro-zh":"上海地下鉄（普通話）","shmetro-en":"上海地下鉄（英語）"},telemetry:{title:"テレメトリ",info:"地下鉄路線図放送機を改善し、貢献者がプロジェクトを強化する意欲を維持するために、Google Analyticsを通じて匿名の使用データが収集されます。このデータはユーザーエクスペリエンスの向上とツールの機能最適化にのみ使用され、第三者と共有されることはありません。",essential:"基本",essentialTooltip:"このグローバル設定は路線図ツールキットで変更できます",essentialInfo:"地下鉄路線図放送機は、ユーザーがツールとどのように、いつ相互作用するかを理解するのに役立つ基本的な使用データを収集します。安心してください、個人を特定できる情報やプロジェクトのデータは一切収集されません。",essentialLink:"このリンクをクリックして、Google Analyticsが収集する可能性のある詳細なフィールドを確認してください。",additional:"追加",additionalInfo:"地下鉄路線図放送機は、入力時にプロジェクトの作成やバリアントの変更などの相互作用に関するデータも収集します。これらの追加データも匿名であり、統計分析にのみ使用され、ツールをより良くするのに役立ちます。"}},audioTask:{title:"音声タスク",desc:"私たちは最も自然な駅案内放送の生成に取り組んでいます。このため、我々は大量のサンプルに基づいて深層学習を行いました。最新の機械学習モデルが提供する高品質な放送をお楽しみください！",note1:"現在提供しているのは上海スタイルの駅案内放送のみとなります。",note2:"計算リソースに制限があるため、タスク送信後はお待ちください。30時間以内に処理を完了するよう最善を尽くします。",note3:"作成された作品はお早めにダウンロードして保存してください。データの保存期間は30日間のみとさせていただきます。",note4:"最良の英語放送を実現するために、'station name pinyin'内のすべてのピンイン部分を漢字に置き換えてください。例えば、'Xinzhuang University'ではなく'莘庄 University'としてください。",audioNotSupported:"お使いのブラウザでは音声再生がサポートされていません。ChromeまたはFirefoxの使用を推奨します。",loginFirst:"最初にログインして、AIで音声を生成してください。",topUp:"チャージ",table:{id:"ID",status:"ステータス",createdAt:"作成日",updatedAt:"更新日",points:"ポイント",actions:"操作"},report1:"生成された放送に問題が発生した場合は、",report2:"GitHubのイシューを作成してください。",report3:"確認後にポイントを全額返金いたします。",freeInternet1:"私たちは自由でオープンなインターネットを信じています。また、",freeInternet2:"生のテキストをダウンロード",freeInternet3:"して、お気に入りの音声プロバイダーで使用することもできます :)",redeem:{title:"ポイント交換",desc:"ポイントを音声生成サービスと交換できます。CDKeyは以下のサイトで購入可能です：",input:"CDKeyをこちらに入力：",redeem:"交換"},new:{title:"新しいタスク",content1:"これにより、現在のプロジェクトから新しいタスクが作成されます。",content2:"推定されるポイント消費量は ",content3:"実際に使用されるポイントはサーバーに依存します。",content4:"処理前にタスクをキャンセルすると、全額のポイントが返金されます。",create:"新しいタスクを作成"}}},Sc={title:"駅バリアント",baseVariant:"基本バリアント"},Cc={title:"地下鉄路線図放送機へようこそ",desc:"ここでは、オリジナルの地下鉄路線表示とアナウンスを作成できます！",steps:"🚇 3ステップで簡単作成",step1:"右上の「地下鉄路線図ジェネレータ」から作品をインポート",step2:"ドア開閉方向などの詳細を調整",step3:"右上の「再生」でアナウンスを試聴",start:"サンプル作品を用意しました。この画面を閉じてお試しください！ :)"},Oc={header:wc,stationVariants:Sc,welcome:Cc,import:{title:"RMG作品をインポート",goodToGo:"準備完了！このRMG作品をインポートします。",routes:"インポートする路線を選択",services:"インポートする列車種別を選択",service:{local:"普通列車",express:"快速列車",direct:"直通列車"},import:"インポート"}},Pc={about:{title:"소개",rma:"철도 노선도 방송 기계",railmapgen:"노선도 툴킷 프로젝트",desc:"",contributors:"기여자",content1:"reflexion,allegretto,you",content2:"2024/02/21 상하이",contactUs:"문의하기",github:"프로젝트 저장소",githubContent:"문제가 있나요? 여기서 검색하거나 이슈를 등록하세요!",slack:"Slack 그룹",slackContent:"이 Slack 채널에서 채팅하세요!"},donation:{title:"기부",openCollective:"Open Collective",viaUSD:"Paypal 또는 Visa 카드로 USD로 기부하세요.",afdian:"爱发电",viaCNY:"Alipay 또는 Wechat Pay로 CNY로 기부하세요."},paly:{previewWarning:"미리보기 음성에 만족하지 못하셨나요? 내보내기 오디오에서 우리의 최신 AI가 생성한 음성을 시도해 보세요."},open:{config:"프로젝트 가져오기",projectRMG:"RMG 프로젝트에서 가져오기",invalidType:"잘못된 파일 형식입니다! RMA에서 내보낸 파일만 허용됩니다.",unknownError:"업로드한 파일을 파싱하는 중 알 수 없는 오류가 발생했습니다! 다시 시도해 주세요."},download:{config:"프로젝트 내보내기",image:"이미지 내보내기",audio:"오디오 내보내기",format:"형식",png:"PNG",svg:"SVG",scale:"스케일",disabledScaleOptions:"일부 스케일 옵션은 브라우저의 캔버스 제한으로 인해 비활성화되었습니다.",disabledScaleOptionsWorkarounds:"가능한 해결 방법으로는 이 CLI 도구를 사용하여 SVG에서 이미지를 생성하는 것이 있습니다: ",shareInfo1:"이 이미지를 공유할 때 ",shareInfo2:" 및 해당 링크를 첨부할 것입니다.",termsAndConditions:"이용 약관",termsAndConditionsInfo:"나는 다음에 동의합니다: ",period:".",confirm:"다운로드"},settings:{title:"설정",crawl:{title:"도트 매트릭스 문자",scale:"스케일"},previewAudio:{title:"선호 미리보기 음성",notModified:"스타일 설정 사용","shmetro-zh":"상하이 지하철 (보통화)","shmetro-en":"상하이 지하철 (영어)"},telemetry:{title:"원격 측정",info:"지하철 노선도 안내원을 개선하고 기여자들이 프로젝트를 개선할 동기를 유지하기 위해 Google Analytics를 통해 익명의 사용 데이터를 수집합니다. 이 데이터는 사용자 경험을 향상시키고 도구의 기능을 최적화하는 데만 사용되며 제3자와 공유되지 않습니다.",essential:"기본",essentialTooltip:"이 전역 설정은 노선도 툴킷에서 변경하세요",essentialInfo:"지하철 노선도 안내원은 사용자가 도구와 상호 작용하는 방식과 시기를 이해하는 데 도움이 되는 기본 사용 데이터를 수집합니다. 안심하세요, 개인 식별 정보나 프로젝트 데이터는 절대 수집되지 않습니다.",essentialLink:"Google Analytics가 수집할 수 있는 상세 필드를 보려면 이 링크를 클릭하세요.",additional:"추가",additionalInfo:"지하철 노선도 안내원은 또한 프로젝트 생성 또는 변형 수정과 같은 상호 작용에 대한 데이터를 수집합니다. 이 추가 데이터도 익명이며 통계 분석을 위해 사용되어 도구를 개선하는 데 도움을 줍니다."}},audioTask:{title:"오디오 작업",desc:"우리는 가장 자연스러운 역 안내 방송 생성을 위해 노력하고 있습니다. 이를 위해, 우리는 대량의 샘플을 기반으로 심층 학습을 수행했습니다. 최신 머신러닝 대형 모델이 제공하는 고품질 방송을 경험해 보세요!",note1:"현재 상하이 스타일의 역 안내 방송만 제공됩니다.",note2:"계산 자원 제한으로 인해 작업 제출 후 잠시 기다려 주시기 바랍니다. 30시간 이내에 처리 완료할 수 있도록 최선을 다하겠습니다.",note3:"작품은 반드시 다운로드하여 저장해 주시기 바랍니다. 데이터는 30일 동안만 보관됩니다.",note4:"최상의 영어 방송을 보장하기 위해 'station name pinyin'에 있는 모든 병음 부분을 한자로 대체해 주세요. 예를 들어 'Xinzhuang University' 대신 '莘庄 University'로 작성해 주세요.",audioNotSupported:"현재 브라우저에서는 오디오 재생을 지원하지 않습니다.Chrome 또는 Firefox 브라우저 사용을 권장합니다.",loginFirst:"먼저 로그인하여 AI로 오디오를 생성하세요.",topUp:"충전",table:{id:"ID",status:"상태",createdAt:"생성일",updatedAt:"수정일",points:"포인트",actions:"작업"},report1:"생성된 방송에 문제가 발생한 경우",report2:"GitHub 이슈를 생성해 주세요.",report3:"확인 후 포인트를 전액 환불해 드립니다.",freeInternet1:"우리는 자유롭고 개방된 인터넷을 믿습니다. 또한 ",freeInternet2:"원본 텍스트 다운로드",freeInternet3:" 를 통해 선호하는 오디오 제공자를 사용할 수 있습니다 :)",redeem:{title:"포인트 사용",desc:"포인트를 오디오 생성 서비스로 교환할 수 있습니다. CDKey는 다음 사이트에서 구입 가능합니다:",input:"CDKey를 여기에 입력:",redeem:"교환"},new:{title:"새 작업",content1:"이 작업은 현재 프로젝트에서 새 작업을 생성합니다.",content2:"예상 소모 포인트는 ",content3:"실제 사용 포인트는 서버에 따라 다릅니다.",content4:"작업이 처리되기 전에 작업을 취소하면 전체 크레딧 환불을 받을 수 있습니다.",create:"새 작업 생성"}}},Ac={title:"역 변형",baseVariant:"기본 변형"},Rc={title:"철도 노선도 방송 기계에 오신 것을 환영합니다",desc:"여기서 나만의 지하철 노선 디스플레이와 안내 방송을 만들 수 있습니다!",steps:"🚇 3단계로 간편하게 완성",step1:"오른쪽 상단에서 '철도 노선도 생성기' 작품 불러오기",step2:"문 열림 방향 등 세부 설정 수정",step3:"오른쪽 상단 '재생'으로 안내 방송 미리듣기",start:"예시 프로젝트를 준비했어요. 이 창을 닫고 시작해 보세요! :)"},_c={header:Pc,stationVariants:Ac,welcome:Rc,import:{title:"RMG 프로젝트 가져오기",goodToGo:"모든 준비 완료! 이 RMG 작품을 지금 가져옵니다.",routes:"가져올 노선 선택",services:"가져올 열차 종류 선택",service:{local:"일반 열차",express:"급행 열차",direct:"직통 열차"},import:"가져오기"}},jc=new q.I18nBuilder().use(Lo).withAppName("Rail Map Announcer").withLng(q.getLanguage()).withResource("en",fc).withResource("zh-Hans",mc).withResource("zh-Hant",bc).withResource("ja",Oc).withResource("ko",_c).build(),Ec=1,Lc="shmetro",Mc={arr:{"shmetro-wuu":{terminal:"莘庄",terminalPinyin:"莘庄",doorDirection:"left"},"shmetro-zh":{terminal:"莘庄",terminalPinyin:"莘庄",doorDirection:"left"},"shmetro-en":{terminal:"Xinzhuang",terminalPinyin:"Xinzhuang",doorDirection:"left"}},dep:{"shmetro-wuu":{terminal:"莘庄",terminalPinyin:"莘庄",nextDoorDirection:"left",lineName:"1号线",lineNamePinyin:"1号线",noteLastTrain:!0,loop:"none",loopTerminal:!1,service:"local"},"shmetro-zh":{terminal:"莘庄",terminalPinyin:"莘庄",nextDoorDirection:"left",lineName:"1号线",lineNamePinyin:"1号线",noteLastTrain:!0,loop:"none",loopTerminal:!1,service:"local"},"shmetro-en":{terminal:"Xinzhuang",terminalPinyin:"Xinzhuang",nextDoorDirection:"left",lineName:"Line 1",lineNamePinyin:"Line 1",service:"local"}},mdw:{"shmetro-wuu":{caution:!1},"shmetro-zh":{caution:!1},"shmetro-en":{}}},kc={sd6y:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},dep:{"shmetro-wuu":{next:"汉中路",nextPinyin:"汉中路",int:[["12号线","13号线"]]},"shmetro-zh":{next:"汉中路",nextPinyin:"汉中路",int:[["12号线","13号线"]]},"shmetro-en":{next:"Hanzhong Road",nextPinyin:"汉中 Road",int:[["Line 12","Line 13"]],noteLastTrain:!1}}},qnbj:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"汉中路",namePinyin:"汉中路"},"shmetro-zh":{name:"汉中路",namePinyin:"汉中路"},"shmetro-en":{name:"Hanzhong Road",namePinyin:"汉中 Road"}},dep:{"shmetro-wuu":{next:"新闸路",nextPinyin:"新闸路",int:[]},"shmetro-zh":{next:"新闸路",nextPinyin:"新闸路",int:[]},"shmetro-en":{next:"XinZha Road",nextPinyin:"新闸 Road",int:[],noteLastTrain:!1}}},"7x7k":{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"新闸路",namePinyin:"新闸路"},"shmetro-zh":{name:"新闸路",namePinyin:"新闸路"},"shmetro-en":{name:"XinZha Road",namePinyin:"新闸 Road"}},dep:{"shmetro-wuu":{next:"人民广场",nextPinyin:"人民广场",int:[["2号线","8号线"]]},"shmetro-zh":{next:"人民广场",nextPinyin:"人民广场",int:[["2号线","8号线"]]},"shmetro-en":{next:"People's Square",nextPinyin:"People's Square",int:[["Line 2","Line 8"]],noteLastTrain:!1}}},kaxg:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"人民广场",namePinyin:"人民广场"},"shmetro-zh":{name:"人民广场",namePinyin:"人民广场"},"shmetro-en":{name:"People's Square",namePinyin:"People's Square"}},dep:{"shmetro-wuu":{next:"一大会址·黄陂南路",nextPinyin:"一大会址·黄陂南路",int:[["14号线"]]},"shmetro-zh":{next:"一大会址·黄陂南路",nextPinyin:"一大会址·黄陂南路",int:[["14号线"]]},"shmetro-en":{next:"Site of the First CPC National Congress · South Huangpi Road",nextPinyin:"Site of the First CPC National Congress · South 黄陂 Road",int:[["Line 14"]],noteLastTrain:!1}}},wbtv:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"一大会址·黄陂南路",namePinyin:"一大会址·黄陂南路"},"shmetro-zh":{name:"一大会址·黄陂南路",namePinyin:"一大会址·黄陂南路"},"shmetro-en":{name:"Site of the First CPC National Congress · South Huangpi Road",namePinyin:"Site of the First CPC National Congress · South 黄陂 Road"}},dep:{"shmetro-wuu":{next:"陕西南路",nextPinyin:"陕西南路",int:[["10号线","12号线"]]},"shmetro-zh":{next:"陕西南路",nextPinyin:"陕西南路",int:[["10号线","12号线"]]},"shmetro-en":{next:"South Shaanxi Road",nextPinyin:"South 陕西 Road",int:[["Line 10","Line 12"]],noteLastTrain:!1}}},jjh7:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"陕西南路",namePinyin:"陕西南路"},"shmetro-zh":{name:"陕西南路",namePinyin:"陕西南路"},"shmetro-en":{name:"South Shaanxi Road",namePinyin:"South 陕西 Road"}},dep:{"shmetro-wuu":{next:"常熟路",nextPinyin:"常熟路",int:[["7号线"]]},"shmetro-zh":{next:"常熟路",nextPinyin:"常熟路",int:[["7号线"]]},"shmetro-en":{next:"Changshu Road",nextPinyin:"常熟 Road",int:[["Line 7"]],noteLastTrain:!1}}},h3vs:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"常熟路",namePinyin:"常熟路"},"shmetro-zh":{name:"常熟路",namePinyin:"常熟路"},"shmetro-en":{name:"Changshu Road",namePinyin:"常熟 Road"}},dep:{"shmetro-wuu":{next:"衡山路",nextPinyin:"衡山路",int:[]},"shmetro-zh":{next:"衡山路",nextPinyin:"衡山路",int:[]},"shmetro-en":{next:"Hengshan Road",nextPinyin:"衡山 Road",int:[],noteLastTrain:!1}}},lcgp:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"衡山路",namePinyin:"衡山路"},"shmetro-zh":{name:"衡山路",namePinyin:"衡山路"},"shmetro-en":{name:"Hengshan Road",namePinyin:"衡山 Road"}},dep:{"shmetro-wuu":{next:"徐家汇",nextPinyin:"徐家汇",int:[["9号线","11号线"]]},"shmetro-zh":{next:"徐家汇",nextPinyin:"徐家汇",int:[["9号线","11号线"]]},"shmetro-en":{next:"Xujiahui",nextPinyin:"徐家汇",int:[["Line 9","Line 11"]],noteLastTrain:!1}}},j2kn:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"徐家汇",namePinyin:"徐家汇"},"shmetro-zh":{name:"徐家汇",namePinyin:"徐家汇"},"shmetro-en":{name:"Xujiahui",namePinyin:"徐家汇"}},dep:{"shmetro-wuu":{next:"上海体育馆",nextPinyin:"上海体育馆",int:[["4号线"]]},"shmetro-zh":{next:"上海体育馆",nextPinyin:"上海体育馆",int:[["4号线"]]},"shmetro-en":{next:"Shanghai Indoor Stadium",nextPinyin:"Shanghai Indoor Stadium",int:[["Line 4"]],noteLastTrain:!1}}},k9k5:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"上海体育馆",namePinyin:"上海体育馆"},"shmetro-zh":{name:"上海体育馆",namePinyin:"上海体育馆"},"shmetro-en":{name:"Shanghai Indoor Stadium",namePinyin:"Shanghai Indoor Stadium"}},dep:{"shmetro-wuu":{next:"漕宝路",nextPinyin:"漕宝路",int:[["12号线"]]},"shmetro-zh":{next:"漕宝路",nextPinyin:"漕宝路",int:[["12号线"]]},"shmetro-en":{next:"Caobao Road",nextPinyin:"漕宝 Road",int:[["Line 12"]],noteLastTrain:!1}}},x9gu:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"漕宝路",namePinyin:"漕宝路"},"shmetro-zh":{name:"漕宝路",namePinyin:"漕宝路"},"shmetro-en":{name:"Caobao Road",namePinyin:"漕宝 Road"}},dep:{"shmetro-wuu":{next:"上海南站",nextPinyin:"上海南站",int:[["3号线","15号线"],["金山铁路"]]},"shmetro-zh":{next:"上海南站",nextPinyin:"上海南站",int:[["3号线","15号线"],["金山铁路"]]},"shmetro-en":{next:"Shanghai South Railway Station",nextPinyin:"Shanghai South Railway Station",int:[["Line 3","Line 15"],["Jingshan Railway"]],noteLastTrain:!1}}},srpy:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"上海南站",namePinyin:"上海南站"},"shmetro-zh":{name:"上海南站",namePinyin:"上海南站"},"shmetro-en":{name:"Shanghai South Railway Station",namePinyin:"Shanghai South Railway Station"}},dep:{"shmetro-wuu":{next:"锦江乐园",nextPinyin:"锦江乐园",int:[]},"shmetro-zh":{next:"锦江乐园",nextPinyin:"锦江乐园",int:[]},"shmetro-en":{next:"JinJiang Park",nextPinyin:"锦江 Park",int:[],noteLastTrain:!1}}},jsat:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"锦江乐园",namePinyin:"锦江乐园"},"shmetro-zh":{name:"锦江乐园",namePinyin:"锦江乐园"},"shmetro-en":{name:"JinJiang Park",namePinyin:"锦江 Park"}},dep:{"shmetro-wuu":{next:"莲花路",nextPinyin:"莲花路",int:[]},"shmetro-zh":{next:"莲花路",nextPinyin:"莲花路",int:[]},"shmetro-en":{next:"Lianhua Road ",nextPinyin:"莲花 Road ",int:[],noteLastTrain:!1}}},qzjx:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"莲花路",namePinyin:"莲花路"},"shmetro-zh":{name:"莲花路",namePinyin:"莲花路"},"shmetro-en":{name:"Lianhua Road ",namePinyin:"莲花 Road "}},dep:{"shmetro-wuu":{next:"外环路",nextPinyin:"外环路",int:[]},"shmetro-zh":{next:"外环路",nextPinyin:"外环路",int:[]},"shmetro-en":{next:"Waihuanlu",nextPinyin:"外环路",int:[],noteLastTrain:!1}}},l1mz:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"外环路",namePinyin:"外环路"},"shmetro-zh":{name:"外环路",namePinyin:"外环路"},"shmetro-en":{name:"Waihuanlu",namePinyin:"外环路"}},dep:{"shmetro-wuu":{next:"莘庄",nextPinyin:"莘庄",int:[["5号线"]]},"shmetro-zh":{next:"莘庄",nextPinyin:"莘庄",int:[["5号线"]]},"shmetro-en":{next:"Xinzhuang",nextPinyin:"莘庄",int:[["Line 5"]],noteLastTrain:!1}}},iwf6:{mdw:{"shmetro-wuu":{},"shmetro-zh":{},"shmetro-en":{}},arr:{"shmetro-wuu":{name:"莘庄",namePinyin:"莘庄"},"shmetro-zh":{name:"莘庄",namePinyin:"莘庄"},"shmetro-en":{name:"Xinzhuang",namePinyin:"莘庄"}}}},Ic={sd6y:{name:"上海火车站"},qnbj:{name:"汉中路"},"7x7k":{name:"新闸路"},kaxg:{name:"人民广场"},wbtv:{name:"一大会址·黄陂南路"},jjh7:{name:"陕西南路"},h3vs:{name:"常熟路"},lcgp:{name:"衡山路"},j2kn:{name:"徐家汇"},k9k5:{name:"上海体育馆"},x9gu:{name:"漕宝路"},srpy:{name:"上海南站"},jsat:{name:"锦江乐园"},qzjx:{name:"莲花路"},l1mz:{name:"外环路"},iwf6:{name:"莘庄"}},vr={version:Ec,style:Lc,baseVariants:Mc,stations:kc,metadata:Ic};var E=(t=>(t.NextStopTerminal="NextStopTerminal",t.TerminalAllGetOffLeft="TerminalAllGetOffLeft",t.TerminalAllGetOffRight="TerminalAllGetOffRight",t.Arrive="Arrive",t.DoorOpenLeft="DoorOpenLeft",t.DoorOpenRight="DoorOpenRight",t.TheTerminalOfThisTrain="TheTerminalOfThisTrain",t.NextStop="NextStop",t.InterchangeAvailable="InterchangeAvailable",t.OutOfStationInterchangeAvailable="OutOfStationInterchangeAvailable",t.OutOfStationInterchangeAvailableEnglish2="OutOfStationInterchangeAvailableEnglish2",t.OutOfSystemInterchangeAvailable="OutOfSystemInterchangeAvailable",t.NoteLastTrain="NoteLastTrain",t.LeaveLoveSeat="LeaveLoveSeat",t.Caution="Caution",t.Loop="Loop",t.InnerLoop="InnerLoop",t.OuterLoop="OuterLoop",t.BranchTerminal1="BranchTerminal1",t.BranchTerminal2="BranchTerminal2",t.BranchTerminalEnglish="BranchTerminalEnglish",t.ServiceExpress="ServiceExpress",t.ServiceDirect="ServiceDirect",t.Stopovers1="Stopovers1",t.Stopovers2="Stopovers2",t.Stopovers3="Stopovers3",t))(E||{});const Tc={[P.Arrival]:{[p.ChineseMandarinSimplified]:{NextStopTerminal:{type:y.Predefined,voiceName:p.ChineseMandarinSimplified,text:"终点站",pinyin:"终点站",rate:"+18.00%"},Arrive:{type:y.Predefined,voiceName:p.ChineseMandarinSimplified,text:"到了",pinyin:"到了",rate:"+18.00%"},TerminalAllGetOffLeft:{type:y.Predefined,voiceName:p.ChineseMandarinSimplified,text:"请全体乘客在屏蔽门完全打开后，从左边车门下车。",pinyin:"请全体乘客在屏蔽门完全打开后，从左边车门下车。",rate:"+18.00%"},TerminalAllGetOffRight:{type:y.Predefined,voiceName:p.ChineseMandarinSimplified,text:"请全体乘客在屏蔽门完全打开后，从右边车门下车。",pinyin:"请全体乘客在屏蔽门完全打开后，从右边车门下车。",rate:"+18.00%"},DoorOpenLeft:{type:y.Predefined,voiceName:p.ChineseMandarinSimplified,text:"开左边门",pinyin:"开左边门",rate:"+18.00%"},DoorOpenRight:{type:y.Predefined,voiceName:p.ChineseMandarinSimplified,text:"开右边门",pinyin:"开右边门",rate:"+18.00%"}},[p.ChineseWuSimplifiedXiaotong]:{NextStopTerminal:{type:y.Predefined,voiceName:p.ChineseWuSimplifiedXiaotong,text:"终点站",rate:"+18.00%",pinyin:"终点站"},Arrive:{type:y.Predefined,voiceName:p.ChineseWuSimplifiedXiaotong,text:"到了",pinyin:"到了",rate:"+18.00%"},TerminalAllGetOffLeft:{type:y.Predefined,voiceName:p.ChineseWuSimplifiedXiaotong,text:"请所有乘客勒屏蔽门完全打开后，从左边车门下车。",pinyin:"请所有乘客勒屏蔽门完全打开后，从左边车门下车。",rate:"+18.00%"},TerminalAllGetOffRight:{type:y.Predefined,voiceName:p.ChineseWuSimplifiedXiaotong,text:"请所有乘客勒屏蔽门完全打开后，从右边车门下车。",pinyin:"请所有乘客勒屏蔽门完全打开后，从右边车门下车。",rate:"+18.00%"},DoorOpenLeft:{type:y.Predefined,voiceName:p.ChineseWuSimplifiedXiaotong,text:"开左边门",pinyin:"开左边门",rate:"+18.00%"},DoorOpenRight:{type:y.Predefined,voiceName:p.ChineseWuSimplifiedXiaotong,text:"开右边门",pinyin:"开右边门",rate:"+18.00%"}},[p.ChineseWuSimplifiedYunzhe]:{NextStopTerminal:{type:y.Predefined,voiceName:p.ChineseWuSimplifiedYunzhe,text:"the terminal station",pinyin:"the terminal station"},Arrive:{type:y.Predefined,voiceName:p.ChineseWuSimplifiedYunzhe,text:"We are now at",pinyin:"We are now at"},TerminalAllGetOffLeft:{type:y.Predefined,voiceName:p.ChineseWuSimplifiedYunzhe,text:"Please get ready to the exit from the left side. ",pinyin:"Please get ready to the exit from the left side. "},TerminalAllGetOffRight:{type:y.Predefined,voiceName:p.ChineseWuSimplifiedYunzhe,text:"Please get ready to the exit from the right side. ",pinyin:"Please get ready to the exit from the right side. "},DoorOpenLeft:{type:y.Predefined,voiceName:p.ChineseWuSimplifiedYunzhe,text:"Doors will open on the left",pinyin:"Doors will open on the left"},DoorOpenRight:{type:y.Predefined,voiceName:p.ChineseWuSimplifiedYunzhe,text:"Doors will open on the right",pinyin:"Doors will open on the right"}}},[P.Departure]:{[p.ChineseMandarinSimplified]:{TheTerminalOfThisTrain:{type:y.Predefined,voiceName:p.ChineseMandarinSimplified,text:"本次列车终点站",pinyin:"本次列车终点站",rate:"+18.00%"},InnerLoop:{type:y.Predefined,voiceName:p.ChineseMandarinSimplified,text:"本次列车内圈运行",pinyin:"本次列车内圈运行",rate:"+18.00%"},OuterLoop:{type:y.Predefined,voiceName:p.ChineseMandarinSimplified,text:"本次列车外圈运行",pinyin:"本次列车外圈运行",rate:"+18.00%"},Loop:{type:y.Predefined,voiceName:p.ChineseMandarinSimplified,text:"本线为环线",pinyin:"本线为环线",rate:"+18.00%"},NextStop:{type:y.Predefined,voiceName:p.ChineseMandarinSimplified,text:"下一站",pinyin:"下一站",rate:"+18.00%"},NextStopTerminal:{type:y.Predefined,voiceName:p.ChineseMandarinSimplified,text:"终点站",pinyin:"终点站",rate:"+18.00%"},DoorOpenLeft:{type:y.Predefined,voiceName:p.ChineseMandarinSimplified,text:"开左边门",pinyin:"开左边门",rate:"+18.00%"},DoorOpenRight:{type:y.Predefined,voiceName:p.ChineseMandarinSimplified,text:"开右边门",pinyin:"开右边门",rate:"+18.00%"},InterchangeAvailable:{type:y.Predefined,voiceName:p.ChineseMandarinSimplified,text:"可换乘",pinyin:"可换乘",rate:"+18.00%",contour:"(50%, +0%) (100%, +30%)"},OutOfStationInterchangeAvailable:{type:y.Predefined,voiceName:p.ChineseMandarinSimplified,text:"手持交通卡的乘客，可在出站后30分钟内，免费换乘",pinyin:"手持交通卡的乘客，可在出站后30分钟内，免费换乘",rate:"+18.00%",contour:"(50%, +0%) (100%, +30%)"},OutOfSystemInterchangeAvailable:{type:y.Predefined,voiceName:p.ChineseMandarinSimplified,text:"可转乘",pinyin:"可转乘",rate:"+18.00%",contour:"(50%, +0%) (100%, +30%)"},NoteLastTrain:{type:y.Predefined,voiceName:p.ChineseMandarinSimplified,text:"请注意换乘列车的首末班车时间。",pinyin:"请注意换乘列车的首末班车时间。",rate:"+18.00%"},BranchTerminal1:{type:y.Predefined,voiceName:p.ChineseMandarinSimplified,text:"要往",pinyin:"要往",rate:"+18.00%"},BranchTerminal2:{type:y.Predefined,voiceName:p.ChineseMandarinSimplified,text:"方向的乘客，请在本站下车后换乘",pinyin:"方向的乘客，请在本站下车后换乘",rate:"+18.00%"},ServiceExpress:{type:y.Predefined,voiceName:p.ChineseMandarinSimplified,text:"本次列车是大站车。",pinyin:"本次列车是大站车。",rate:"+18.00%"},ServiceDirect:{type:y.Predefined,voiceName:p.ChineseMandarinSimplified,text:"本次列车是直达车。",pinyin:"本次列车是直达车。",rate:"+18.00%"},Stopovers1:{type:y.Predefined,voiceName:p.ChineseMandarinSimplified,text:"中途停靠",pinyin:"中途停靠",rate:"+18.00%"},Stopovers2:{type:y.Predefined,voiceName:p.ChineseMandarinSimplified,text:"到其他车站的乘客，请在",pinyin:"到其他车站的乘客，请在",rate:"+18.00%"},Stopovers3:{type:y.Predefined,voiceName:p.ChineseMandarinSimplified,text:"换乘",pinyin:"换乘",rate:"+18.00%"}},[p.ChineseWuSimplifiedXiaotong]:{TheTerminalOfThisTrain:{type:y.Predefined,voiceName:p.ChineseWuSimplifiedXiaotong,text:"本趟列车额终点站是",pinyin:"本趟列车额终点站是",rate:"+18.00%"},InnerLoop:{type:y.Predefined,voiceName:p.ChineseMandarinSimplified,text:"本趟列车内圈运行",pinyin:"本趟列车内圈运行",rate:"+18.00%"},OuterLoop:{type:y.Predefined,voiceName:p.ChineseMandarinSimplified,text:"本趟列车外圈运行",pinyin:"本趟列车外圈运行",rate:"+18.00%"},Loop:{type:y.Predefined,voiceName:p.ChineseMandarinSimplified,text:"本线为环线",pinyin:"本线为环线",rate:"+18.00%"},NextStop:{type:y.Predefined,voiceName:p.ChineseWuSimplifiedXiaotong,text:"下一站",pinyin:"下一站",rate:"+18.00%"},NextStopTerminal:{type:y.Predefined,voiceName:p.ChineseWuSimplifiedXiaotong,text:"终点站",pinyin:"终点站",rate:"+18.00%"},DoorOpenLeft:{type:y.Predefined,voiceName:p.ChineseWuSimplifiedXiaotong,text:"开左边门",pinyin:"开左边门",rate:"+18.00%"},DoorOpenRight:{type:y.Predefined,voiceName:p.ChineseWuSimplifiedXiaotong,text:"开右边门",pinyin:"开右边门",rate:"+18.00%"},InterchangeAvailable:{type:y.Predefined,voiceName:p.ChineseWuSimplifiedXiaotong,text:"可以换乘",pinyin:"可以换乘",rate:"+18.00%",contour:"(50%, +0%) (100%, +30%)"},OutOfStationInterchangeAvailable:{type:y.Predefined,voiceName:p.ChineseWuSimplifiedXiaotong,text:"拿着交通卡的乘客，好勒出站后30分钟内，免费换乘",pinyin:"拿着交通卡的乘客，好勒出站后30分钟内，免费换乘",rate:"+18.00%",contour:"(50%, +0%) (100%, +30%)"},OutOfSystemInterchangeAvailable:{type:y.Predefined,voiceName:p.ChineseWuSimplifiedXiaotong,text:"可以转乘",pinyin:"可以转乘",rate:"+18.00%",contour:"(50%, +0%) (100%, +30%)"},NoteLastTrain:{type:y.Predefined,voiceName:p.ChineseWuSimplifiedXiaotong,text:"请注意换乘列车额首末班车辰光。",pinyin:"请注意换乘列车额首末班车辰光。",rate:"+18.00%"},BranchTerminal1:{type:y.Predefined,voiceName:p.ChineseWuSimplifiedXiaotong,text:"要往",pinyin:"要往",rate:"+18.00%"},BranchTerminal2:{type:y.Predefined,voiceName:p.ChineseWuSimplifiedXiaotong,text:"方向的乘客，请勒本站下车后调车",pinyin:"方向的乘客，请勒本站下车后调车",rate:"+18.00%"},ServiceExpress:{type:y.Predefined,voiceName:p.ChineseMandarinSimplified,text:"本趟列车是大站车。",pinyin:"本趟列车是大站车。",rate:"+18.00%"},ServiceDirect:{type:y.Predefined,voiceName:p.ChineseMandarinSimplified,text:"本趟列车是直达车。",pinyin:"本趟列车是直达车。",rate:"+18.00%"},Stopovers1:{type:y.Predefined,voiceName:p.ChineseMandarinSimplified,text:"中途停靠",pinyin:"中途停靠",rate:"+18.00%"},Stopovers2:{type:y.Predefined,voiceName:p.ChineseMandarinSimplified,text:"到其他车站的乘客，请勒",pinyin:"到其他车站的乘客，请勒",rate:"+18.00%"},Stopovers3:{type:y.Predefined,voiceName:p.ChineseMandarinSimplified,text:"换乘",pinyin:"换乘",rate:"+18.00%"}},[p.ChineseWuSimplifiedYunzhe]:{TheTerminalOfThisTrain:{type:y.Predefined,voiceName:p.ChineseWuSimplifiedYunzhe,text:"The terminal station",pinyin:"The terminal station"},NextStop:{type:y.Predefined,voiceName:p.ChineseWuSimplifiedYunzhe,text:"Next station",pinyin:"Next station"},NextStopTerminal:{type:y.Predefined,voiceName:p.ChineseWuSimplifiedYunzhe,text:"is the terminal station",pinyin:"is the terminal station"},DoorOpenLeft:{type:y.Predefined,voiceName:p.ChineseWuSimplifiedYunzhe,text:"Doors will open on the left",pinyin:"Doors will open on the left"},DoorOpenRight:{type:y.Predefined,voiceName:p.ChineseWuSimplifiedYunzhe,text:"Doors will open on the right",pinyin:"Doors will open on the right"},InterchangeAvailable:{type:y.Predefined,voiceName:p.ChineseWuSimplifiedYunzhe,text:"You can transfer to",pinyin:"You can transfer to"},OutOfStationInterchangeAvailable:{type:y.Predefined,voiceName:p.ChineseWuSimplifiedYunzhe,text:"Passengers holding public transportation card, may transfer to",pinyin:"Passengers holding public transportation card, may transfer to",contour:"(60%, +0%) (100%, +30%)"},OutOfStationInterchangeAvailableEnglish2:{type:y.Predefined,voiceName:p.ChineseWuSimplifiedYunzhe,text:"within 30 minutes after getting out of the station. ",pinyin:"within 30 minutes after getting out of the station. "},OutOfSystemInterchangeAvailable:{type:y.Predefined,voiceName:p.ChineseWuSimplifiedYunzhe,text:"or take the",pinyin:"or take the",contour:"(50%, +0%) (100%, +30%)"},BranchTerminalEnglish:{type:y.Predefined,voiceName:p.ChineseWuSimplifiedYunzhe,text:"You may transfer trains bound for",pinyin:"You may transfer trains bound for"}}},[P.Midway]:{[p.ChineseMandarinSimplified]:{LeaveLoveSeat:{type:y.Predefined,voiceName:p.ChineseMandarinSimplified,text:"请把爱心专座留给有需要的乘客。",pinyin:"请把爱心专座留给有需要的乘客。",rate:"+18.00%"},Caution:{type:y.Predefined,voiceName:p.ChineseMandarinSimplified,text:"列车运行，请站稳扶好，不要看手机，注意脚下安全。",pinyin:"列车运行，请站稳扶好，不要看手机，注意脚下安全。",rate:"+18.00%"}}}},I=(t,e,n)=>{var i,o;const r=(o=(i=Tc[t])==null?void 0:i[e])==null?void 0:o[n];if(!r)throw new Error("Predefined phrase must exist in predefinedPhrases, stage: ".concat(t,", voiceName: ").concat(e,", predefinedPhraseType: ").concat(n,"."));return{...r,subType:n}},Dc=t=>{const e={};for(const n in t.stations){e[n]={};for(const r in t.stations[n]){e[n][r]={};for(const i in t.stations[n][r]){const o=t.stations[n][r][i];if(!o)throw new Error("Should never happen!");const a=Fc[t.style].reconcile(r,i,o,t.baseVariants);e[n][r][i]=a}}}return e},zc=(t,e,n)=>{var r,i,o,a,s,l,u,d;if(t===P.Arrival){if(((i=(r=n[P.Arrival])==null?void 0:r[e])==null?void 0:i.terminal)===void 0)throw new Error("Terminal must exist in baseVariants, stage: ".concat(P.Arrival,", voiceName: ").concat(e,"."));if(((a=(o=n[P.Arrival])==null?void 0:o[e])==null?void 0:a.doorDirection)===void 0)throw new Error("Door direction must exist in baseVariants, stage: ".concat(P.Arrival,", voiceName: ").concat(e,"."))}if(t===P.Departure){if(((l=(s=n[P.Departure])==null?void 0:s[e])==null?void 0:l.terminal)===void 0)throw new Error("Terminal must exist in baseVariants, stage: ".concat(P.Departure,", voiceName: ").concat(e,"."));if(((d=(u=n[P.Departure])==null?void 0:u[e])==null?void 0:d.nextDoorDirection)===void 0)throw new Error("Next door direction must exist in baseVariants, stage: ".concat(P.Departure,", voiceName: ").concat(e,"."))}},Nc=(t,e,n,r)=>{var a,s,l,u,d,h,f,g,m,x,b,C,S,A,_,k,N,L,Z,G,se,D,X;zc(t,e,r);const i=e===p.ChineseWuSimplifiedYunzhe?void 0:"+18.00%",o=[];if(t===P.Arrival){e===p.ChineseWuSimplifiedYunzhe&&(o.push(I(t,e,E.Arrive)),o.push(j(e,R.BreakWeak)));const W=((a=n.terminal)!=null?a:r[P.Arrival][e].terminal)===n.name;W&&(o.push(I(t,e,E.NextStopTerminal)),o.push(j(e,R.BreakWeak))),o.push({type:y.Customized,voiceName:e,text:n.name,pinyin:n.namePinyin,rate:i}),o.push(j(e,e===p.ChineseWuSimplifiedYunzhe?R.BreakStrong:R.BreakWeak)),[p.ChineseMandarinSimplified,p.ChineseWuSimplifiedXiaotong].includes(e)&&(o.push(I(t,e,E.Arrive)),o.push(j(e,R.BreakStrong)));const $=(l=(s=n.doorDirection)!=null?s:r[P.Arrival][e].doorDirection)!=null?l:"left";if(W){const M=$==="left"?E.TerminalAllGetOffLeft:E.TerminalAllGetOffRight;if(o.push(I(t,e,M)),r[P.Arrival][e].thanksForTaking){const B={[p.ChineseMandarinSimplified]:"感谢您乘坐".concat(r[P.Arrival][e].thanksForTaking,"，祝您旅途愉快。"),[p.ChineseWuSimplifiedXiaotong]:"谢谢侬搭乘".concat(r[P.Arrival][e].thanksForTaking,"，阿拉下趟再会。"),[p.ChineseWuSimplifiedYunzhe]:"Thanks for taking ".concat(r[P.Arrival][e].thanksForTaking,", see you next time.")}[e],me={[p.ChineseMandarinSimplified]:"感谢您乘坐".concat(r[P.Arrival][e].thanksForTakingPinyin,"，祝您旅途愉快。"),[p.ChineseWuSimplifiedXiaotong]:"谢谢侬搭乘".concat(r[P.Arrival][e].thanksForTakingPinyin,"，阿拉下趟再会。"),[p.ChineseWuSimplifiedYunzhe]:"Thanks for taking ".concat(r[P.Arrival][e].thanksForTakingPinyin,", see you next time.")}[e];o.push({type:y.Customized,voiceName:e,text:B,pinyin:me,rate:i})}}else{const M=$==="left"?E.DoorOpenLeft:E.DoorOpenRight;o.push(I(t,e,M)),o.push(j(e,R.BreakStrong))}}else if(t===P.Departure){const W=(u=n.welcomeAbroad)!=null?u:r[P.Departure][e].welcomeAbroad,$=(d=n.lineName)!=null?d:r[P.Departure][e].lineName;if(W&&$){const ie={[p.ChineseMandarinSimplified]:"欢迎乘坐".concat(W).concat($),[p.ChineseWuSimplifiedXiaotong]:"欢迎搭乘".concat(W).concat($),[p.ChineseWuSimplifiedYunzhe]:"Welcome aboard ".concat(W," ").concat($)}[e],ee=(h=n.welcomeAbroadPinyin)!=null?h:r[P.Departure][e].welcomeAbroadPinyin,Ve=(f=n.lineNamePinyin)!=null?f:r[P.Departure][e].lineNamePinyin,Y={[p.ChineseMandarinSimplified]:"欢迎乘坐".concat(ee).concat(Ve),[p.ChineseWuSimplifiedXiaotong]:"欢迎搭乘".concat(ee).concat(Ve),[p.ChineseWuSimplifiedYunzhe]:"Welcome aboard ".concat(ee," ").concat(Ve)}[e];o.push({type:y.Customized,voiceName:e,text:ie,pinyin:Y,rate:i}),o.push(j(e,R.BreakStrong))}const M=(g=n.service)!=null?g:r[P.Departure][e].service;M!=="local"&&(e===p.ChineseMandarinSimplified||e===p.ChineseWuSimplifiedXiaotong)&&(M==="express"?o.push(I(t,e,E.ServiceExpress)):M==="direct"&&o.push(I(t,e,E.ServiceDirect)));const B=(m=n.loop)!=null?m:r[P.Departure][e].loop,me=(x=n.terminal)!=null?x:r[P.Departure][e].terminal,V=(b=n.terminal)!=null?b:r[P.Departure][e].terminalPinyin;if(B==="none")M==="local"||e===p.ChineseWuSimplifiedYunzhe?o.push(I(t,e,E.TheTerminalOfThisTrain)):o.push(I(t,e,E.NextStopTerminal)),o.push(j(e,R.BreakWeak)),o.push({type:y.Customized,voiceName:e,text:me,pinyin:V,rate:i}),o.push(j(e,R.BreakStrong));else if((B==="inner"||B==="outer")&&(e===p.ChineseMandarinSimplified||e===p.ChineseWuSimplifiedXiaotong)){const ie=B===!1?E.Loop:B==="inner"?E.InnerLoop:E.OuterLoop;o.push(I(t,e,ie)),o.push(j(e,R.BreakStrong)),((C=n.loopTerminal)!=null?C:r[P.Departure][e].loopTerminal)&&(o.push(I(t,e,E.NextStopTerminal)),o.push(j(e,R.BreakWeak)),o.push({type:y.Customized,voiceName:e,text:me,pinyin:V,rate:i}),o.push(j(e,R.BreakStrong)))}const K=n.stopovers;if(M!=="local"&&K&&K.length>0&&(e===p.ChineseMandarinSimplified||e===p.ChineseWuSimplifiedXiaotong)){o.push(I(t,e,E.Stopovers1)),o.push(j(e,R.BreakWeak));for(const ie of K)o.push({type:y.Customized,voiceName:e,text:ie,pinyin:ie,rate:i}),o.push(j(e,R.BreakMedium));o.pop(),o.push(j(e,R.BreakStrong)),o.push(I(t,e,E.Stopovers2)),o.push(j(e,R.BreakWeak));for(const ie of K)o.push({type:y.Customized,voiceName:e,text:ie,pinyin:ie,rate:i}),o.push(j(e,R.BreakMedium));o.pop(),o.push(j(e,R.BreakWeak)),o.push(I(t,e,E.Stopovers3)),o.push(j(e,R.BreakStrong))}o.push(I(t,e,E.NextStop)),o.push(j(e,R.BreakWeak)),n.next===me&&(o.push(I(t,e,E.NextStopTerminal)),o.push(j(e,R.BreakWeak))),o.push({type:y.Customized,voiceName:e,text:n.next,pinyin:n.nextPinyin,rate:i}),o.push(j(e,R.BreakStrong));const Ce=((A=(S=n.nextDoorDirection)!=null?S:r[P.Departure][e].nextDoorDirection)!=null?A:"left")==="left"?E.DoorOpenLeft:E.DoorOpenRight;o.push(I(t,e,Ce)),o.push(j(e,R.BreakStrong));const re=n.int;re!=null&&re.flat().length&&(((k=(_=re.at(0))==null?void 0:_.length)!=null?k:0)>0&&(o.push(I(t,e,E.InterchangeAvailable)),o.push(j(e,R.BreakWeak)),o.push(...re.at(0).map(ee=>[{type:y.Customized,voiceName:e,text:ee,pinyin:ee,rate:i},j(e,R.BreakWeak)]).flat()),o.pop(),o.push(j(e,R.BreakStrong))),((L=(N=re.at(1))==null?void 0:N.length)!=null?L:0)>0&&(o.push(I(t,e,E.OutOfStationInterchangeAvailable)),o.push(j(e,R.BreakWeak)),o.push(...re.at(1).map(ee=>[{type:y.Customized,voiceName:e,text:ee,pinyin:ee,rate:i},j(e,R.BreakWeak)]).flat()),o.pop(),e===p.ChineseWuSimplifiedYunzhe?(o.push(j(e,R.BreakWeak)),o.push(I(t,e,E.OutOfStationInterchangeAvailableEnglish2))):o.push(j(e,R.BreakStrong))),((G=(Z=re.at(2))==null?void 0:Z.length)!=null?G:0)>0&&(o.push(I(t,e,E.OutOfSystemInterchangeAvailable)),o.push(j(e,R.BreakWeak)),o.push(...re.at(2).map(ee=>[{type:y.Customized,voiceName:e,text:ee,pinyin:ee,rate:i},j(e,R.BreakWeak)]).flat()),o.pop(),o.push(j(e,R.BreakStrong))),((se=n.noteLastTrain)!=null?se:r[P.Departure][e].noteLastTrain)&&(e===p.ChineseMandarinSimplified||e===p.ChineseWuSimplifiedXiaotong)&&o.push(I(t,e,E.NoteLastTrain)));const de=n.branchTerminalName;de&&((e===p.ChineseMandarinSimplified||e===p.ChineseWuSimplifiedXiaotong)&&(o.push(I(t,e,E.BranchTerminal1)),o.push({type:y.Customized,voiceName:e,text:de,pinyin:n.branchTerminalNamePinyin,rate:i}),o.push(I(t,e,E.BranchTerminal2)),o.push(j(e,R.BreakStrong))),e===p.ChineseWuSimplifiedYunzhe&&(o.push(I(t,e,E.BranchTerminalEnglish)),o.push(j(e,R.BreakWeak)),o.push({type:y.Customized,voiceName:e,text:de,pinyin:n.branchTerminalNamePinyin,rate:i}),o.push(j(e,R.BreakStrong))))}else t===P.Midway&&(((D=n.leaveLoveSeat)!=null?D:r[P.Midway][e].leaveLoveSeat)&&o.push(I(t,e,E.LeaveLoveSeat)),((X=n.caution)!=null?X:r[P.Midway][e].caution)&&o.push(I(t,e,E.Caution)));return o},Fc={[$t.ShanghaiMetro]:{reconcile:Nc}};function $c(t){nn({predicate:(e,n,r)=>JSON.stringify(n.param.project)!==JSON.stringify(r.param.project),effect:(e,n)=>{const{param:r}=n.getState(),i=Dc(r.project);Xe.debug(i),n.dispatch(Au(i)),q.storage.set(Fe.PARAM,JSON.stringify(r))}}),nn({predicate:(e,n,r)=>JSON.stringify(n.runtime)!==JSON.stringify(r.runtime),effect:(e,n)=>{var h,f;const{runtime:r}=n.getState(),{currentStationID:i,currentStage:o,currentVoice:a,reconciledPhrases:s}=r,l=(f=(h=s[i])==null?void 0:h[o])==null?void 0:f[a],u=pu(l!=null?l:[]),d=u===""?" ":u;n.dispatch(yi(d))}}),nn({predicate:(e,n,r)=>JSON.stringify(n.app)!==JSON.stringify(r.app),effect:(e,n)=>{const r=n.getState().app;q.storage.set(Fe.APP,JSON.stringify(r))}}),Bc(t),Wc(t)}const Bc=t=>{const e=q.storage.get(Fe.APP);if(e){const n=JSON.parse(e);"telemetry"in n&&"project"in n.telemetry&&t.dispatch(wu(n.telemetry.project)),"preference"in n&&("import"in n.preference&&t.dispatch(Su(n.preference.import)),"previewAudio"in n.preference&&t.dispatch(Cu(n.preference.previewAudio)))}},Wc=t=>{const e=q.storage.get(Fe.PARAM);if(e){const n=JSON.parse(e);t.dispatch(mr(n.project)),t.dispatch(hi(Object.keys(n.project.metadata)[0])),t.dispatch(pi(P.Departure)),JSON.stringify(n.project)===JSON.stringify(vr)&&t.dispatch(bn(!0))}else Xe.warn("No param from local storage. Setting to default."),t.dispatch(mr(vr)),t.dispatch(bn(!0))};let xr;const Vc=()=>{xr=ms.createRoot(document.getElementById("root")),xr.render(c.jsx(v.StrictMode,{children:c.jsx(Mo,{store:It,children:c.jsx(ko,{i18n:jc,children:c.jsx(lc,{})})})}))};q.ready().then(()=>{$c(It),Vc(),q.injectUITools(),q.event(li.APP_LOAD,{}),Eu(It)});export{Md as $,ci as A,nd as B,Ld as C,jd as D,li as E,kd as F,dd as G,Nd as H,fd as I,he as J,ze as K,mu as L,Rd as M,xu as N,P as O,vu as P,yd as Q,Xc as R,In as S,vd as T,md as U,p as V,mr as W,hi as X,pi as Y,Kc as Z,gd as _,Uc as __vite_legacy_guard,qc as a,Ie as a0,Ed as a1,$t as a2,pd as a3,id as a4,rd as a5,wu as a6,ed as a7,Jc as a8,Od as a9,Pd as aa,Sd as ab,sd as ac,xd as ad,bd as ae,Id as af,Td as ag,od as ah,Zc as b,Yc as c,xl as d,qe as e,Tn as f,wd as g,_d as h,Ad as i,Cd as j,cd as k,Xe as l,Wt as m,ud as n,$d as o,gu as p,zd as q,q as r,ad as s,ld as t,Qc as u,td as v,Fd as w,Dd as x,Bt as y,pt as z};
